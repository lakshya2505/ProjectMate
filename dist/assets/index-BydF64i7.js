(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function mE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nm={exports:{}},Co={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Gx(){if(b0)return Co;b0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Co.Fragment=e,Co.jsx=n,Co.jsxs=n,Co}var T0;function Qx(){return T0||(T0=1,nm.exports=Gx()),nm.exports}var v=Qx(),im={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function Yx(){if(x0)return xe;x0=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,F={};function Q(V,ne,ae){this.props=V,this.context=ne,this.refs=F,this.updater=ae||q}Q.prototype.isReactComponent={},Q.prototype.setState=function(V,ne){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ne,"setState")},Q.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ee(){}ee.prototype=Q.prototype;function X(V,ne,ae){this.props=V,this.context=ne,this.refs=F,this.updater=ae||q}var me=X.prototype=new ee;me.constructor=X,K(me,Q.prototype),me.isPureReactComponent=!0;var ge=Array.isArray;function ye(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(V,ne,ae){var ue=ae.ref;return{$$typeof:r,type:V,key:ne,ref:ue!==void 0?ue:null,props:ae}}function k(V,ne){return R(V.type,ne,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var ne={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ae){return ne[ae]})}var C=/\/+/g;function st(V,ne){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):ne.toString(36)}function Mt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ye,ye):(V.status="pending",V.then(function(ne){V.status==="pending"&&(V.status="fulfilled",V.value=ne)},function(ne){V.status==="pending"&&(V.status="rejected",V.reason=ne)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function J(V,ne,ae,ue,be){var Re=typeof V;(Re==="undefined"||Re==="boolean")&&(V=null);var Le=!1;if(V===null)Le=!0;else switch(Re){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(V.$$typeof){case r:case e:Le=!0;break;case b:return Le=V._init,J(Le(V._payload),ne,ae,ue,be)}}if(Le)return be=be(V),Le=ue===""?"."+st(V,0):ue,ge(be)?(ae="",Le!=null&&(ae=Le.replace(C,"$&/")+"/"),J(be,ne,ae,"",function(fs){return fs})):be!=null&&(O(be)&&(be=k(be,ae+(be.key==null||V&&V.key===be.key?"":(""+be.key).replace(C,"$&/")+"/")+Le)),ne.push(be)),1;Le=0;var Vt=ue===""?".":ue+":";if(ge(V))for(var at=0;at<V.length;at++)ue=V[at],Re=Vt+st(ue,at),Le+=J(ue,ne,ae,Re,be);else if(at=D(V),typeof at=="function")for(V=at.call(V),at=0;!(ue=V.next()).done;)ue=ue.value,Re=Vt+st(ue,at++),Le+=J(ue,ne,ae,Re,be);else if(Re==="object"){if(typeof V.then=="function")return J(Mt(V),ne,ae,ue,be);throw ne=String(V),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Le}function se(V,ne,ae){if(V==null)return V;var ue=[],be=0;return J(V,ue,"","",function(Re){return ne.call(ae,Re,be++)}),ue}function pe(V){if(V._status===-1){var ne=V._result;ne=ne(),ne.then(function(ae){(V._status===0||V._status===-1)&&(V._status=1,V._result=ae)},function(ae){(V._status===0||V._status===-1)&&(V._status=2,V._result=ae)}),V._status===-1&&(V._status=0,V._result=ne)}if(V._status===1)return V._result.default;throw V._result}var Ue=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ge={map:se,forEach:function(V,ne,ae){se(V,function(){ne.apply(this,arguments)},ae)},count:function(V){var ne=0;return se(V,function(){ne++}),ne},toArray:function(V){return se(V,function(ne){return ne})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return xe.Activity=T,xe.Children=Ge,xe.Component=Q,xe.Fragment=n,xe.Profiler=l,xe.PureComponent=X,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,xe.__COMPILER_RUNTIME={__proto__:null,c:function(V){return N.H.useMemoCache(V)}},xe.cache=function(V){return function(){return V.apply(null,arguments)}},xe.cacheSignal=function(){return null},xe.cloneElement=function(V,ne,ae){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=K({},V.props),be=V.key;if(ne!=null)for(Re in ne.key!==void 0&&(be=""+ne.key),ne)!A.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(ue[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var Le=Array(Re),Vt=0;Vt<Re;Vt++)Le[Vt]=arguments[Vt+2];ue.children=Le}return R(V.type,be,ue)},xe.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},xe.createElement=function(V,ne,ae){var ue,be={},Re=null;if(ne!=null)for(ue in ne.key!==void 0&&(Re=""+ne.key),ne)A.call(ne,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(be[ue]=ne[ue]);var Le=arguments.length-2;if(Le===1)be.children=ae;else if(1<Le){for(var Vt=Array(Le),at=0;at<Le;at++)Vt[at]=arguments[at+2];be.children=Vt}if(V&&V.defaultProps)for(ue in Le=V.defaultProps,Le)be[ue]===void 0&&(be[ue]=Le[ue]);return R(V,Re,be)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(V){return{$$typeof:m,render:V}},xe.isValidElement=O,xe.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:pe}},xe.memo=function(V,ne){return{$$typeof:y,type:V,compare:ne===void 0?null:ne}},xe.startTransition=function(V){var ne=N.T,ae={};N.T=ae;try{var ue=V(),be=N.S;be!==null&&be(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ye,Ue)}catch(Re){Ue(Re)}finally{ne!==null&&ae.types!==null&&(ne.types=ae.types),N.T=ne}},xe.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},xe.use=function(V){return N.H.use(V)},xe.useActionState=function(V,ne,ae){return N.H.useActionState(V,ne,ae)},xe.useCallback=function(V,ne){return N.H.useCallback(V,ne)},xe.useContext=function(V){return N.H.useContext(V)},xe.useDebugValue=function(){},xe.useDeferredValue=function(V,ne){return N.H.useDeferredValue(V,ne)},xe.useEffect=function(V,ne){return N.H.useEffect(V,ne)},xe.useEffectEvent=function(V){return N.H.useEffectEvent(V)},xe.useId=function(){return N.H.useId()},xe.useImperativeHandle=function(V,ne,ae){return N.H.useImperativeHandle(V,ne,ae)},xe.useInsertionEffect=function(V,ne){return N.H.useInsertionEffect(V,ne)},xe.useLayoutEffect=function(V,ne){return N.H.useLayoutEffect(V,ne)},xe.useMemo=function(V,ne){return N.H.useMemo(V,ne)},xe.useOptimistic=function(V,ne){return N.H.useOptimistic(V,ne)},xe.useReducer=function(V,ne,ae){return N.H.useReducer(V,ne,ae)},xe.useRef=function(V){return N.H.useRef(V)},xe.useState=function(V){return N.H.useState(V)},xe.useSyncExternalStore=function(V,ne,ae){return N.H.useSyncExternalStore(V,ne,ae)},xe.useTransition=function(){return N.H.useTransition()},xe.version="19.2.3",xe}var w0;function tp(){return w0||(w0=1,im.exports=Yx()),im.exports}var B=tp();const Kx=mE(B);var rm={exports:{}},Io={},sm={exports:{}},am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function Xx(){return S0||(S0=1,(function(r){function e(J,se){var pe=J.length;J.push(se);e:for(;0<pe;){var Ue=pe-1>>>1,Ge=J[Ue];if(0<l(Ge,se))J[Ue]=se,J[pe]=Ge,pe=Ue;else break e}}function n(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var se=J[0],pe=J.pop();if(pe!==se){J[0]=pe;e:for(var Ue=0,Ge=J.length,V=Ge>>>1;Ue<V;){var ne=2*(Ue+1)-1,ae=J[ne],ue=ne+1,be=J[ue];if(0>l(ae,pe))ue<Ge&&0>l(be,ae)?(J[Ue]=be,J[ue]=pe,Ue=ue):(J[Ue]=ae,J[ne]=pe,Ue=ne);else if(ue<Ge&&0>l(be,pe))J[Ue]=be,J[ue]=pe,Ue=ue;else break e}}return se}function l(J,se){var pe=J.sortIndex-se.sortIndex;return pe!==0?pe:J.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],b=1,T=null,S=3,D=!1,q=!1,K=!1,F=!1,Q=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function me(J){for(var se=n(y);se!==null;){if(se.callback===null)s(y);else if(se.startTime<=J)s(y),se.sortIndex=se.expirationTime,e(g,se);else break;se=n(y)}}function ge(J){if(K=!1,me(J),!q)if(n(g)!==null)q=!0,ye||(ye=!0,L());else{var se=n(y);se!==null&&Mt(ge,se.startTime-J)}}var ye=!1,N=-1,A=5,R=-1;function k(){return F?!0:!(r.unstable_now()-R<A)}function O(){if(F=!1,ye){var J=r.unstable_now();R=J;var se=!0;try{e:{q=!1,K&&(K=!1,ee(N),N=-1),D=!0;var pe=S;try{t:{for(me(J),T=n(g);T!==null&&!(T.expirationTime>J&&k());){var Ue=T.callback;if(typeof Ue=="function"){T.callback=null,S=T.priorityLevel;var Ge=Ue(T.expirationTime<=J);if(J=r.unstable_now(),typeof Ge=="function"){T.callback=Ge,me(J),se=!0;break t}T===n(g)&&s(g),me(J)}else s(g);T=n(g)}if(T!==null)se=!0;else{var V=n(y);V!==null&&Mt(ge,V.startTime-J),se=!1}}break e}finally{T=null,S=pe,D=!1}se=void 0}}finally{se?L():ye=!1}}}var L;if(typeof X=="function")L=function(){X(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,st=C.port2;C.port1.onmessage=O,L=function(){st.postMessage(null)}}else L=function(){Q(O,0)};function Mt(J,se){N=Q(function(){J(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(J){J.callback=null},r.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(J){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var pe=S;S=se;try{return J()}finally{S=pe}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(J,se){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var pe=S;S=J;try{return se()}finally{S=pe}},r.unstable_scheduleCallback=function(J,se,pe){var Ue=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ue+pe:Ue):pe=Ue,J){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=pe+Ge,J={id:b++,callback:se,priorityLevel:J,startTime:pe,expirationTime:Ge,sortIndex:-1},pe>Ue?(J.sortIndex=pe,e(y,J),n(g)===null&&J===n(y)&&(K?(ee(N),N=-1):K=!0,Mt(ge,pe-Ue))):(J.sortIndex=Ge,e(g,J),q||D||(q=!0,ye||(ye=!0,L()))),J},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(J){var se=S;return function(){var pe=S;S=se;try{return J.apply(this,arguments)}finally{S=pe}}}})(am)),am}var A0;function $x(){return A0||(A0=1,sm.exports=Xx()),sm.exports}var lm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R0;function Jx(){if(R0)return Zt;R0=1;var r=tp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:T==null?null:""+T,children:g,containerInfo:y,implementation:b}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,b)},Zt.flushSync=function(g){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=b,s.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:D}):b==="script"&&s.d.X(g,{crossOrigin:T,integrity:S,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,T=m(b,y.crossOrigin);s.d.L(g,b,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var b=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,b){return f.H.useFormState(g,y,b)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.2.3",Zt}var N0;function Zx(){if(N0)return lm.exports;N0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=Jx(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C0;function Wx(){if(C0)return Io;C0=1;var r=$x(),e=tp(),n=Zx();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,x=h.child;x;){if(x===a){_=!0,a=h,o=d;break}if(x===o){_=!0,o=h,a=d;break}x=x.sibling}if(!_){for(x=d.child;x;){if(x===a){_=!0,a=d,o=h;break}if(x===o){_=!0,o=d,a=h;break}x=x.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function b(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=b(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),X=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function st(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case Q:return"Profiler";case F:return"StrictMode";case ge:return"Suspense";case ye:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case X:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case me:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:st(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return st(t(i))}catch{}}return null}var Mt=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function V(t){return{current:t}}function ne(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function ae(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var ue=V(null),be=V(null),Re=V(null),Le=V(null);function Vt(t,i){switch(ae(Re,i),ae(be,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?F_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=F_(i),t=G_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ne(ue),ae(ue,t)}function at(){ne(ue),ne(be),ne(Re)}function fs(t){t.memoizedState!==null&&ae(Le,t);var i=ue.current,a=G_(i,t.type);i!==a&&(ae(be,t),ae(ue,a))}function sa(t){be.current===t&&(ne(ue),ne(be)),Le.current===t&&(ne(Le),So._currentValue=pe)}var aa,la;function li(t){if(aa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);aa=i&&i[1]||"",la=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+aa+t+la}var wl=!1;function ds(t,i){if(!t||wl)return"";wl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Y){var H=Y}Reflect.construct(t,[],te)}else{try{te.call()}catch(Y){H=Y}t.call(te.prototype)}}else{try{throw Error()}catch(Y){H=Y}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],x=d[1];if(_&&x){var I=_.split(`
`),z=x.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var $=`
`+I[o].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=o&&0<=h);break}}}finally{wl=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Sl(t,i){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return ds(t.type,!1);case 11:return ds(t.type.render,!1);case 1:return ds(t.type,!0);case 31:return li("Activity");default:return""}}function Al(t){try{var i="",a=null;do i+=Sl(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var bt=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,dr=r.unstable_cancelCallback,rf=r.unstable_shouldYield,mu=r.unstable_requestPaint,rn=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,Rl=r.unstable_ImmediatePriority,Nl=r.unstable_UserBlockingPriority,mr=r.unstable_NormalPriority,sf=r.unstable_LowPriority,pu=r.unstable_IdlePriority,gu=r.log,yu=r.unstable_setDisableYieldValue,Bn=null,qt=null;function An(t){if(typeof gu=="function"&&yu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Bn,t)}catch{}}var pt=Math.clz32?Math.clz32:vu,_u=Math.log,oa=Math.LN2;function vu(t){return t>>>=0,t===0?32:31-(_u(t)/oa|0)|0}var oi=256,ps=262144,Tt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var x=o&134217727;return x!==0?(o=x&~d,o!==0?h=ui(o):(_&=x,_!==0?h=ui(_):a||(a=x&~t,a!==0&&(h=ui(a))))):(x=o&~d,x!==0?h=ui(x):_!==0?h=ui(_):a||(a=o&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function af(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Eu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function lf(t,i,a,o,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var x=t.entanglements,I=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var $=31-pt(a),te=1<<$;x[$]=0,I[$]=-1;var H=z[$];if(H!==null)for(z[$]=null,$=0;$<H.length;$++){var Y=H[$];Y!==null&&(Y.lane&=-536870913)}a&=~te}o!==0&&ys(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ys(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-pt(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Cl(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-pt(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Il(t,i){var a=i&-i;return a=(a&42)!==0?1:_s(a),(a&(t.suspendedLanes|i))!==0?0:a}function _s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function bu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:m0(t.type))}function Hn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Fn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Fn,Pt="__reactProps$"+Fn,fi="__reactContainer$"+Fn,ua="__reactEvents$"+Fn,of="__reactListeners$"+Fn,Tu="__reactHandles$"+Fn,xu="__reactResources$"+Fn,di="__reactMarker$"+Fn;function ca(t){delete t[xt],delete t[Pt],delete t[ua],delete t[of],delete t[Tu]}function mi(t){var i=t[xt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Z_(t);t!==null;){if(a=t[xt])return a;t=Z_(t)}return i}t=a,a=t.parentNode}return null}function Rn(t){if(t=t[xt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[xu];return i||(i=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function wt(t){t[di]=!0}var Dl=new Set,Ol={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Ol[t]=i,t=0;t<i.length;t++)Dl.add(i[t])}var Ml=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vl={},kl={};function wu(t){return bt.call(kl,t)?!0:bt.call(Vl,t)?!1:Ml.test(t)?kl[t]=!0:(Vl[t]=!0,!1)}function ha(t,i,a){if(wu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Ut(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jl(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Qe(t){if(!t._valueTracker){var i=pr(t)?"checked":"value";t._valueTracker=jl(t,i,""+t[i])}}function vs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=pr(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Es=/[\n"\\]/g;function ln(t){return t.replace(Es,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fa(t,i,a,o,h,d,_,x){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Ut(i)):t.value!==""+Ut(i)&&(t.value=""+Ut(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Ll(t,_,Ut(i)):a!=null?Ll(t,_,Ut(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?t.name=""+Ut(x):t.removeAttribute("name")}function Su(t,i,a,o,h,d,_,x){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Qe(t);return}a=a!=null?""+Ut(a):"",i=i!=null?""+Ut(i):a,x||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=x?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Qe(t)}function Ll(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function gr(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ut(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Au(t,i,a){if(i!=null&&(i=""+Ut(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Ut(a):""}function yr(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(Mt(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Ut(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Qe(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Ru.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ul(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Pl(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Pl(t,d,i[d])}function da(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_r=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return _r.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var zl=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vr=null,vi=null;function bs(t){var i=Rn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(fa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Pt]||null;if(!h)throw Error(s(90));fa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&vs(o)}break e;case"textarea":Au(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&gr(t,!!a.multiple,i,!1)}}}var pa=!1;function Er(t,i,a){if(pa)return t(i,a);pa=!0;try{var o=t(i);return o}finally{if(pa=!1,(vr!==null||vi!==null)&&(bc(),vr&&(i=vr,t=vi,vi=vr=null,bs(i),t)))for(i=0;i<t.length;i++)bs(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Pt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(Cn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ts=!1}var Ei=null,Bl=null,xs=null;function ql(){if(xs)return xs;var t,i=Bl,a=i.length,o,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return xs=h.slice(t,1<o?1-o:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Yn(){return!1}function Ht(t){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var x in t)t.hasOwnProperty(x)&&(a=t[x],this[x]=a?a(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Yn,this.isPropagationStopped=Yn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Ht(zi),br=T({},zi,{view:0,detail:0}),Hl=Ht(br),Tr,ga,Ti,ya=T({},br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ti&&(Ti&&t.type==="mousemove"?(Tr=t.screenX-Ti.screenX,ga=t.screenY-Ti.screenY):ga=Tr=0,Ti=t),Tr)},movementY:function(t){return"movementY"in t?t.movementY:ga}}),Fl=Ht(ya),Ss=T({},ya,{dataTransfer:0}),Cu=Ht(Ss),Iu=T({},br,{relatedTarget:0}),As=Ht(Iu),Gl=T({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Du=Ht(Gl),_a=T({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ou=Ht(_a),Mu=T({},zi,{data:0}),xi=Ht(Mu),Vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ju={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ju[t])?!!i[t]:!1}function xr(){return Lu}var sn=T({},br,{key:function(t){if(t.key){var i=Vu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pu=Ht(sn),Uu=T({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Ht(Uu),c=T({},br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),p=Ht(c),E=T({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ht(E),P=T({},ya,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ht(P),re=T({},zi,{newState:0,oldState:0}),Se=Ht(re),gt=[9,13,27,32],qe=Cn&&"CompositionEvent"in window,lt=null;Cn&&"documentMode"in document&&(lt=document.documentMode);var In=Cn&&"TextEvent"in window&&!lt,wi=Cn&&(!qe||lt&&8<lt&&11>=lt),Kn=" ",Xn=!1;function Rs(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function va(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ea=!1;function pT(t,i){switch(t){case"compositionend":return va(i);case"keypress":return i.which!==32?null:(Xn=!0,Kn);case"textInput":return t=i.data,t===Kn&&Xn?null:t;default:return null}}function gT(t,i){if(Ea)return t==="compositionend"||!qe&&Rs(t,i)?(t=ql(),xs=Bl=Ei=null,Ea=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!yT[t.type]:i==="textarea"}function ng(t,i,a,o){vr?vi?vi.push(o):vi=[o]:vr=o,i=Nc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Ql=null,Yl=null;function _T(t){P_(t,0)}function zu(t){var i=gn(t);if(vs(i))return t}function ig(t,i){if(t==="change")return i}var rg=!1;if(Cn){var uf;if(Cn){var cf="oninput"in document;if(!cf){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),cf=typeof sg.oninput=="function"}uf=cf}else uf=!1;rg=uf&&(!document.documentMode||9<document.documentMode)}function ag(){Ql&&(Ql.detachEvent("onpropertychange",lg),Yl=Ql=null)}function lg(t){if(t.propertyName==="value"&&zu(Yl)){var i=[];ng(i,Yl,t,Nn(t)),Er(_T,i)}}function vT(t,i,a){t==="focusin"?(ag(),Ql=i,Yl=a,Ql.attachEvent("onpropertychange",lg)):t==="focusout"&&ag()}function ET(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(Yl)}function bT(t,i){if(t==="click")return zu(i)}function TT(t,i){if(t==="input"||t==="change")return zu(i)}function xT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:xT;function Kl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!bt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ug(t,i){var a=og(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function cg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?cg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function hf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var wT=Cn&&"documentMode"in document&&11>=document.documentMode,ba=null,ff=null,Xl=null,df=!1;function fg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||ba==null||ba!==_i(o)||(o=ba,"selectionStart"in o&&hf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Xl&&Kl(Xl,o)||(Xl=o,o=Nc(ff,"onSelect"),0<o.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=ba)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},mf={},dg={};Cn&&(dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Cs(t){if(mf[t])return mf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in dg)return mf[t]=i[a];return t}var mg=Cs("animationend"),pg=Cs("animationiteration"),gg=Cs("animationstart"),ST=Cs("transitionrun"),AT=Cs("transitionstart"),RT=Cs("transitioncancel"),yg=Cs("transitionend"),_g=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function $n(t,i){_g.set(t,i),gi(i,[t])}var Bu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dn=[],xa=0,gf=0;function qu(){for(var t=xa,i=gf=xa=0;i<t;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&vg(a,h,d)}}function Hu(t,i,a,o){Dn[xa++]=t,Dn[xa++]=i,Dn[xa++]=a,Dn[xa++]=o,gf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function yf(t,i,a,o){return Hu(t,i,a,o),Fu(t)}function Is(t,i){return Hu(t,null,null,i),Fu(t)}function vg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Fu(t){if(50<_o)throw _o=0,Ad=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var wa={};function NT(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,o){return new NT(t,i,a,o)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Eg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Gu(t,i,a,o,h,d){var _=0;if(o=t,typeof t=="function")_f(t)&&(_=1);else if(typeof t=="string")_=Mx(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,h),t.elementType=R,t.lanes=d,t;case K:return Ds(a.children,h,d,i);case F:_=8,h|=24;break;case Q:return t=vn(12,a,i,h|2),t.elementType=Q,t.lanes=d,t;case ge:return t=vn(13,a,i,h),t.elementType=ge,t.lanes=d,t;case ye:return t=vn(19,a,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:_=10;break e;case ee:_=9;break e;case me:_=11;break e;case N:_=14;break e;case A:_=16,o=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=vn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function Ds(t,i,a,o){return t=vn(7,t,o,i),t.lanes=a,t}function vf(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function bg(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function Ef(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Tg=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Tg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Al(i)},Tg.set(t,i),i)}return{value:t,source:i,stack:Al(i)}}var Sa=[],Aa=0,Qu=null,$l=0,Mn=[],Vn=0,wr=null,Si=1,Ai="";function Hi(t,i){Sa[Aa++]=$l,Sa[Aa++]=Qu,Qu=t,$l=i}function xg(t,i,a){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=wr,wr=t;var o=Si;t=Ai;var h=32-pt(o)-1;o&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Si=1<<32-pt(i)+h|a<<h|o,Ai=d+t}else Si=1<<d|a<<h|o,Ai=t}function bf(t){t.return!==null&&(Hi(t,1),xg(t,1,0))}function Tf(t){for(;t===Qu;)Qu=Sa[--Aa],Sa[Aa]=null,$l=Sa[--Aa],Sa[Aa]=null;for(;t===wr;)wr=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,Si=Mn[--Vn],Mn[Vn]=null}function wg(t,i){Mn[Vn++]=Si,Mn[Vn++]=Ai,Mn[Vn++]=wr,Si=i.id,Ai=i.overflow,wr=t}var Ft=null,nt=null,je=!1,Sr=null,kn=!1,xf=Error(s(519));function Ar(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Jl(On(i,t)),xf}function Sg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[xt]=t,i[Pt]=o,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<Eo.length;a++)Ie(Eo[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Su(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),yr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||q_(i.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),o.onScroll!=null&&Ie("scroll",i),o.onScrollEnd!=null&&Ie("scrollend",i),o.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||Ar(t,!0)}function Ag(t){for(Ft=t.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ft=Ft.return}}function Ra(t){if(t!==Ft)return!1;if(!je)return Ag(t),je=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&nt&&Ar(t),Ag(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=J_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=J_(t)}else i===27?(i=nt,zr(t.type)?(t=Qd,Qd=null,nt=t):nt=i):nt=Ft?Ln(t.stateNode.nextSibling):null;return!0}function Os(){nt=Ft=null,je=!1}function wf(){var t=Sr;return t!==null&&(fn===null?fn=t:fn.push.apply(fn,t),Sr=null),t}function Jl(t){Sr===null?Sr=[t]:Sr.push(t)}var Sf=V(null),Ms=null,Fi=null;function Rr(t,i,a){ae(Sf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Sf.current,ne(Sf)}function Af(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function Rf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var x=d;d=h;for(var I=0;I<i.length;I++)if(x.context===i[I]){d.lanes|=a,x=d.alternate,x!==null&&(x.lanes|=a),Af(d.return,a,t),o||(_=null);break e}d=x.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Af(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Na(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var x=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(x):t=[x])}}else if(h===Le.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(So):t=[So])}h=h.return}t!==null&&Rf(i,t,a,o),i.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){Ms=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Rg(Ms,t)}function Ku(t,i){return Ms===null&&Vs(t),Rg(t,i)}function Rg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var CT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},IT=r.unstable_scheduleCallback,DT=r.unstable_NormalPriority,At={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new CT,data:new Map,refCount:0}}function Zl(t){t.refCount--,t.refCount===0&&IT(DT,function(){t.controller.abort()})}var Wl=null,Cf=0,Ca=0,Ia=null;function OT(t,i){if(Wl===null){var a=Wl=[];Cf=0,Ca=Od(),Ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Cf++,i.then(Ng,Ng),i}function Ng(){if(--Cf===0&&Wl!==null){Ia!==null&&(Ia.status="fulfilled");var t=Wl;Wl=null,Ca=0,Ia=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function MT(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Cg=J.S;J.S=function(t,i){f_=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&OT(t,i),Cg!==null&&Cg(t,i)};var ks=V(null);function If(){var t=ks.current;return t!==null?t:et.pooledCache}function Xu(t,i){i===null?ae(ks,ks.current):ae(ks,i.pool)}function Ig(){var t=If();return t===null?null:{parent:At._currentValue,pool:t}}var Da=Error(s(460)),Df=Error(s(474)),$u=Error(s(542)),Ju={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Og(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Vg(t),t}throw Ls=i,Da}}function js(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Da):a}}var Ls=null;function Mg(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function Vg(t){if(t===Da||t===$u)throw Error(s(483))}var Oa=null,eo=0;function Zu(t){var i=eo;return eo+=1,Oa===null&&(Oa=[]),Og(Oa,t,i)}function to(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Wu(t,i){throw i.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function kg(t){function i(j,M){if(t){var U=j.deletions;U===null?(j.deletions=[M],j.flags|=16):U.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function o(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=qi(j,M),j.index=0,j.sibling=null,j}function d(j,M,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<M?(j.flags|=67108866,M):U):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function x(j,M,U,Z){return M===null||M.tag!==6?(M=vf(U,j.mode,Z),M.return=j,M):(M=h(M,U),M.return=j,M)}function I(j,M,U,Z){var fe=U.type;return fe===K?$(j,M,U.props.children,Z,U.key):M!==null&&(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&js(fe)===M.type)?(M=h(M,U.props),to(M,U),M.return=j,M):(M=Gu(U.type,U.key,U.props,null,j.mode,Z),to(M,U),M.return=j,M)}function z(j,M,U,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=Ef(U,j.mode,Z),M.return=j,M):(M=h(M,U.children||[]),M.return=j,M)}function $(j,M,U,Z,fe){return M===null||M.tag!==7?(M=Ds(U,j.mode,Z,fe),M.return=j,M):(M=h(M,U),M.return=j,M)}function te(j,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=vf(""+M,j.mode,U),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case D:return U=Gu(M.type,M.key,M.props,null,j.mode,U),to(U,M),U.return=j,U;case q:return M=Ef(M,j.mode,U),M.return=j,M;case A:return M=js(M),te(j,M,U)}if(Mt(M)||L(M))return M=Ds(M,j.mode,U,null),M.return=j,M;if(typeof M.then=="function")return te(j,Zu(M),U);if(M.$$typeof===X)return te(j,Ku(j,M),U);Wu(j,M)}return null}function H(j,M,U,Z){var fe=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return fe!==null?null:x(j,M,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===fe?I(j,M,U,Z):null;case q:return U.key===fe?z(j,M,U,Z):null;case A:return U=js(U),H(j,M,U,Z)}if(Mt(U)||L(U))return fe!==null?null:$(j,M,U,Z,null);if(typeof U.then=="function")return H(j,M,Zu(U),Z);if(U.$$typeof===X)return H(j,M,Ku(j,U),Z);Wu(j,U)}return null}function Y(j,M,U,Z,fe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(U)||null,x(M,j,""+Z,fe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case D:return j=j.get(Z.key===null?U:Z.key)||null,I(M,j,Z,fe);case q:return j=j.get(Z.key===null?U:Z.key)||null,z(M,j,Z,fe);case A:return Z=js(Z),Y(j,M,U,Z,fe)}if(Mt(Z)||L(Z))return j=j.get(U)||null,$(M,j,Z,fe,null);if(typeof Z.then=="function")return Y(j,M,U,Zu(Z),fe);if(Z.$$typeof===X)return Y(j,M,U,Ku(M,Z),fe);Wu(M,Z)}return null}function ce(j,M,U,Z){for(var fe=null,ze=null,he=M,Ne=M=0,Oe=null;he!==null&&Ne<U.length;Ne++){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var Be=H(j,he,U[Ne],Z);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(j,he),M=d(Be,M,Ne),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ne===U.length)return a(j,he),je&&Hi(j,Ne),fe;if(he===null){for(;Ne<U.length;Ne++)he=te(j,U[Ne],Z),he!==null&&(M=d(he,M,Ne),ze===null?fe=he:ze.sibling=he,ze=he);return je&&Hi(j,Ne),fe}for(he=o(he);Ne<U.length;Ne++)Oe=Y(he,j,Ne,U[Ne],Z),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ne:Oe.key),M=d(Oe,M,Ne),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function(Gr){return i(j,Gr)}),je&&Hi(j,Ne),fe}function _e(j,M,U,Z){if(U==null)throw Error(s(151));for(var fe=null,ze=null,he=M,Ne=M=0,Oe=null,Be=U.next();he!==null&&!Be.done;Ne++,Be=U.next()){he.index>Ne?(Oe=he,he=null):Oe=he.sibling;var Gr=H(j,he,Be.value,Z);if(Gr===null){he===null&&(he=Oe);break}t&&he&&Gr.alternate===null&&i(j,he),M=d(Gr,M,Ne),ze===null?fe=Gr:ze.sibling=Gr,ze=Gr,he=Oe}if(Be.done)return a(j,he),je&&Hi(j,Ne),fe;if(he===null){for(;!Be.done;Ne++,Be=U.next())Be=te(j,Be.value,Z),Be!==null&&(M=d(Be,M,Ne),ze===null?fe=Be:ze.sibling=Be,ze=Be);return je&&Hi(j,Ne),fe}for(he=o(he);!Be.done;Ne++,Be=U.next())Be=Y(he,j,Ne,Be.value,Z),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ne:Be.key),M=d(Be,M,Ne),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(Fx){return i(j,Fx)}),je&&Hi(j,Ne),fe}function We(j,M,U,Z){if(typeof U=="object"&&U!==null&&U.type===K&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:e:{for(var fe=U.key;M!==null;){if(M.key===fe){if(fe=U.type,fe===K){if(M.tag===7){a(j,M.sibling),Z=h(M,U.props.children),Z.return=j,j=Z;break e}}else if(M.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===A&&js(fe)===M.type){a(j,M.sibling),Z=h(M,U.props),to(Z,U),Z.return=j,j=Z;break e}a(j,M);break}else i(j,M);M=M.sibling}U.type===K?(Z=Ds(U.props.children,j.mode,Z,U.key),Z.return=j,j=Z):(Z=Gu(U.type,U.key,U.props,null,j.mode,Z),to(Z,U),Z.return=j,j=Z)}return _(j);case q:e:{for(fe=U.key;M!==null;){if(M.key===fe)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){a(j,M.sibling),Z=h(M,U.children||[]),Z.return=j,j=Z;break e}else{a(j,M);break}else i(j,M);M=M.sibling}Z=Ef(U,j.mode,Z),Z.return=j,j=Z}return _(j);case A:return U=js(U),We(j,M,U,Z)}if(Mt(U))return ce(j,M,U,Z);if(L(U)){if(fe=L(U),typeof fe!="function")throw Error(s(150));return U=fe.call(U),_e(j,M,U,Z)}if(typeof U.then=="function")return We(j,M,Zu(U),Z);if(U.$$typeof===X)return We(j,M,Ku(j,U),Z);Wu(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(a(j,M.sibling),Z=h(M,U),Z.return=j,j=Z):(a(j,M),Z=vf(U,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,M)}return function(j,M,U,Z){try{eo=0;var fe=We(j,M,U,Z);return Oa=null,fe}catch(he){if(he===Da||he===$u)throw he;var ze=vn(29,he,null,j.mode);return ze.lanes=Z,ze.return=j,ze}finally{}}}var Ps=kg(!0),jg=kg(!1),Nr=!1;function Of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Cr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ir(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Fu(t),vg(t,null,a),i}return Hu(t,o,i,a),Fu(t)}function no(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Cl(t,a)}}function Vf(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var kf=!1;function io(){if(kf){var t=Ia;if(t!==null)throw t}}function ro(t,i,a,o){kf=!1;var h=t.updateQueue;Nr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,x=h.shared.pending;if(x!==null){h.shared.pending=null;var I=x,z=I.next;I.next=null,_===null?d=z:_.next=z,_=I;var $=t.alternate;$!==null&&($=$.updateQueue,x=$.lastBaseUpdate,x!==_&&(x===null?$.firstBaseUpdate=z:x.next=z,$.lastBaseUpdate=I))}if(d!==null){var te=h.baseState;_=0,$=z=I=null,x=d;do{var H=x.lane&-536870913,Y=H!==x.lane;if(Y?(De&H)===H:(o&H)===H){H!==0&&H===Ca&&(kf=!0),$!==null&&($=$.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ce=t,_e=x;H=i;var We=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){te=ce.call(We,te,H);break e}te=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,H=typeof ce=="function"?ce.call(We,te,H):ce,H==null)break e;te=T({},te,H);break e;case 2:Nr=!0}}H=x.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:x.tag,payload:x.payload,callback:x.callback,next:null},$===null?(z=$=Y,I=te):$=$.next=Y,_|=H;if(x=x.next,x===null){if(x=h.shared.pending,x===null)break;Y=x,x=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);$===null&&(I=te),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),kr|=_,t.lanes=_,t.memoizedState=te}}function Lg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Pg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Lg(a[t],i)}var Ma=V(null),ec=V(0);function Ug(t,i){t=er,ae(ec,t),ae(Ma,i),er=t|i.baseLanes}function jf(){ae(ec,er),ae(Ma,Ma.current)}function Lf(){er=ec.current,ne(Ma),ne(ec)}var En=V(null),jn=null;function Dr(t){var i=t.alternate;ae(yt,yt.current&1),ae(En,t),jn===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(jn=t)}function Pf(t){ae(yt,yt.current),ae(En,t),jn===null&&(jn=t)}function zg(t){t.tag===22?(ae(yt,yt.current),ae(En,t),jn===null&&(jn=t)):Or()}function Or(){ae(yt,yt.current),ae(En,En.current)}function bn(t){ne(En),jn===t&&(jn=null),ne(yt)}var yt=V(0);function tc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fd(a)||Gd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Ae=null,Je=null,Rt=null,nc=!1,Va=!1,Us=!1,ic=0,so=0,ka=null,VT=0;function ht(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function zf(t,i,a,o,h,d){return Qi=d,Ae=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=t===null||t.memoizedState===null?xy:td,Us=!1,d=a(o,h),Us=!1,Va&&(d=qg(i,a,o,h)),Bg(t),d}function Bg(t){J.H=oo;var i=Je!==null&&Je.next!==null;if(Qi=0,Rt=Je=Ae=null,nc=!1,so=0,ka=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Yu(t)&&(Nt=!0))}function qg(t,i,a,o){Ae=t;var h=0;do{if(Va&&(ka=null),so=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,Rt=Je=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}J.H=wy,d=i(a,o)}while(Va);return d}function kT(){var t=J.H,i=t.useState()[0];return i=typeof i.then=="function"?ao(i):i,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Ae.flags|=1024),i}function Bf(){var t=ic!==0;return ic=0,t}function qf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Hf(t){if(nc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}nc=!1}Qi=0,Rt=Je=Ae=null,Va=!1,so=ic=0,ka=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ae.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(Je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var i=Rt===null?Ae.memoizedState:Rt.next;if(i!==null)Rt=i,Je=t;else{if(t===null)throw Ae.alternate===null?Error(s(467)):Error(s(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},Rt===null?Ae.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function rc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(t){var i=so;return so+=1,ka===null&&(ka=[]),t=Og(ka,t,i),i=Ae,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?xy:td),t}function sc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ao(t);if(t.$$typeof===X)return Gt(t)}throw Error(s(438,String(t)))}function Ff(t){var i=null,a=Ae.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Ae.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=rc(),Ae.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=k;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function ac(t){var i=_t();return Gf(i,Je,t)}function Gf(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var x=_=null,I=null,z=i,$=!1;do{var te=z.lane&-536870913;if(te!==z.lane?(De&te)===te:(Qi&te)===te){var H=z.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),te===Ca&&($=!0);else if((Qi&H)===H){z=z.next,H===Ca&&($=!0);continue}else te={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(x=I=te,_=d):I=I.next=te,Ae.lanes|=H,kr|=H;te=z.action,Us&&a(d,te),d=z.hasEagerState?z.eagerState:a(d,te)}else H={lane:te,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(x=I=H,_=d):I=I.next=H,Ae.lanes|=te,kr|=te;z=z.next}while(z!==null&&z!==i);if(I===null?_=d:I.next=x,!_n(d,t.memoizedState)&&(Nt=!0,$&&(a=Ia,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function Qf(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Hg(t,i,a){var o=Ae,h=_t(),d=je;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((Je||h).memoizedState,a);if(_&&(h.memoizedState=a,Nt=!0),h=h.queue,Xf(Qg.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,ja(9,{destroy:void 0},Gg.bind(null,o,h,a,i),null),et===null)throw Error(s(349));d||(Qi&127)!==0||Fg(o,i,a)}return a}function Fg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ae.updateQueue,i===null?(i=rc(),Ae.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Gg(t,i,a,o){i.value=a,i.getSnapshot=o,Yg(i)&&Kg(t)}function Qg(t,i,a){return a(function(){Yg(i)&&Kg(t)})}function Yg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Kg(t){var i=Is(t,2);i!==null&&dn(i,t,2)}function Yf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Us){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function Xg(t,i,a,o){return t.baseState=a,Gf(t,Je,typeof o=="function"?o:Yi)}function jT(t,i,a,o,h){if(uc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};J.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,$g(i,d)):(d.next=a.next,i.pending=a.next=d)}}function $g(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=J.T,_={};J.T=_;try{var x=a(h,o),I=J.S;I!==null&&I(_,x),Jg(t,i,x)}catch(z){Kf(t,i,z)}finally{d!==null&&_.types!==null&&(d.types=_.types),J.T=d}}else try{d=a(h,o),Jg(t,i,d)}catch(z){Kf(t,i,z)}}function Jg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Zg(t,i,o)},function(o){return Kf(t,i,o)}):Zg(t,i,a)}function Zg(t,i,a){i.status="fulfilled",i.value=a,Wg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,$g(t,a)))}function Kf(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Wg(i),i=i.next;while(i!==o)}t.action=null}function Wg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ey(t,i){return i}function ty(t,i){if(je){var a=et.formState;if(a!==null){e:{var o=Ae;if(je){if(nt){t:{for(var h=nt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Ln(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=Ln(h.nextSibling),o=h.data==="F!";break e}}Ar(o)}o=!1}o&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ey,lastRenderedState:i},a.queue=o,a=Ey.bind(null,Ae,o),o.dispatch=a,o=Yf(!1),d=ed.bind(null,Ae,!1,o.queue),o=an(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=jT.bind(null,Ae,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function ny(t){var i=_t();return iy(i,Je,t)}function iy(t,i,a){if(i=Gf(t,i,ey)[0],t=ac(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=ao(i)}catch(_){throw _===Da?$u:_}else o=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ae.flags|=2048,ja(9,{destroy:void 0},LT.bind(null,h,a),null)),[o,d,t]}function LT(t,i){t.action=i}function ry(t){var i=_t(),a=Je;if(a!==null)return iy(i,a,t);_t(),i=i.memoizedState,a=_t();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function ja(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=Ae.updateQueue,i===null&&(i=rc(),Ae.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function sy(){return _t().memoizedState}function lc(t,i,a,o){var h=an();Ae.flags|=t,h.memoizedState=ja(1|i,{destroy:void 0},a,o===void 0?null:o)}function oc(t,i,a,o){var h=_t();o=o===void 0?null:o;var d=h.memoizedState.inst;Je!==null&&o!==null&&Uf(o,Je.memoizedState.deps)?h.memoizedState=ja(i,d,a,o):(Ae.flags|=t,h.memoizedState=ja(1|i,d,a,o))}function ay(t,i){lc(8390656,8,t,i)}function Xf(t,i){oc(2048,8,t,i)}function PT(t){Ae.flags|=4;var i=Ae.updateQueue;if(i===null)i=rc(),Ae.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function ly(t){var i=_t().memoizedState;return PT({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function oy(t,i){return oc(4,2,t,i)}function uy(t,i){return oc(4,4,t,i)}function cy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function hy(t,i,a){a=a!=null?a.concat([t]):null,oc(4,4,cy.bind(null,i,t),a)}function $f(){}function fy(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Uf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function dy(t,i){var a=_t();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Uf(i,o[1]))return o[0];if(o=t(),Us){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,i],o}function Jf(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=m_(),Ae.lanes|=t,kr|=t,a)}function my(t,i,a,o){return _n(a,i)?a:Ma.current!==null?(t=Jf(t,a,o),_n(t,i)||(Nt=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(De&261930)===0?(Nt=!0,t.memoizedState=a):(t=m_(),Ae.lanes|=t,kr|=t,i)}function py(t,i,a,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=J.T,x={};J.T=x,ed(t,!1,i,a);try{var I=h(),z=J.S;if(z!==null&&z(x,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var $=MT(I,o);lo(t,i,$,wn(t))}else lo(t,i,o,wn(t))}catch(te){lo(t,i,{then:function(){},status:"rejected",reason:te},wn())}finally{se.p=d,_!==null&&x.types!==null&&(_.types=x.types),J.T=_}}function UT(){}function Zf(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=gy(t).queue;py(t,h,i,pe,a===null?UT:function(){return yy(t),a(o)})}function gy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function yy(t){var i=gy(t);i.next===null&&(i=t.alternate.memoizedState),lo(t,i.next.queue,{},wn())}function Wf(){return Gt(So)}function _y(){return _t().memoizedState}function vy(){return _t().memoizedState}function zT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Cr(a);var o=Ir(i,t,a);o!==null&&(dn(o,i,a),no(o,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function BT(t,i,a){var o=wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},uc(t)?by(i,a):(a=yf(t,i,a,o),a!==null&&(dn(a,t,o),Ty(a,i,o)))}function Ey(t,i,a){var o=wn();lo(t,i,a,o)}function lo(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(uc(t))by(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,x=d(_,a);if(h.hasEagerState=!0,h.eagerState=x,_n(x,_))return Hu(t,i,h,0),et===null&&qu(),!1}catch{}finally{}if(a=yf(t,i,h,o),a!==null)return dn(a,t,o),Ty(a,i,o),!0}return!1}function ed(t,i,a,o){if(o={lane:2,revertLane:Od(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},uc(t)){if(i)throw Error(s(479))}else i=yf(t,a,o,2),i!==null&&dn(i,t,2)}function uc(t){var i=t.alternate;return t===Ae||i!==null&&i===Ae}function by(t,i){Va=nc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ty(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Cl(t,a)}}var oo={readContext:Gt,use:sc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};oo.useEffectEvent=ht;var xy={readContext:Gt,use:sc,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:ay,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,lc(4194308,4,cy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return lc(4194308,4,t,i)},useInsertionEffect:function(t,i){lc(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var o=t();if(Us){An(!0);try{t()}finally{An(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=an();if(a!==void 0){var h=a(i);if(Us){An(!0);try{a(i)}finally{An(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=BT.bind(null,Ae,t),[o.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Yf(t);var i=t.queue,a=Ey.bind(null,Ae,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:$f,useDeferredValue:function(t,i){var a=an();return Jf(a,t,i)},useTransition:function(){var t=Yf(!1);return t=py.bind(null,Ae,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=Ae,h=an();if(je){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||Fg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,ay(Qg.bind(null,o,d,t),[t]),o.flags|=2048,ja(9,{destroy:void 0},Gg.bind(null,o,d,a,i),null),a},useId:function(){var t=an(),i=et.identifierPrefix;if(je){var a=Ai,o=Si;a=(o&~(1<<32-pt(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=ic++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=VT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Wf,useFormState:ty,useActionState:ty,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ed.bind(null,Ae,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ff,useCacheRefresh:function(){return an().memoizedState=zT.bind(null,Ae)},useEffectEvent:function(t){var i=an(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},td={readContext:Gt,use:sc,useCallback:fy,useContext:Gt,useEffect:Xf,useImperativeHandle:hy,useInsertionEffect:oy,useLayoutEffect:uy,useMemo:dy,useReducer:ac,useRef:sy,useState:function(){return ac(Yi)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return my(a,Je.memoizedState,t,i)},useTransition:function(){var t=ac(Yi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ao(t),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:Wf,useFormState:ny,useActionState:ny,useOptimistic:function(t,i){var a=_t();return Xg(a,Je,t,i)},useMemoCache:Ff,useCacheRefresh:vy};td.useEffectEvent=ly;var wy={readContext:Gt,use:sc,useCallback:fy,useContext:Gt,useEffect:Xf,useImperativeHandle:hy,useInsertionEffect:oy,useLayoutEffect:uy,useMemo:dy,useReducer:Qf,useRef:sy,useState:function(){return Qf(Yi)},useDebugValue:$f,useDeferredValue:function(t,i){var a=_t();return Je===null?Jf(a,t,i):my(a,Je.memoizedState,t,i)},useTransition:function(){var t=Qf(Yi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:ao(t),i]},useSyncExternalStore:Hg,useId:_y,useHostTransitionStatus:Wf,useFormState:ry,useActionState:ry,useOptimistic:function(t,i){var a=_t();return Je!==null?Xg(a,Je,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ff,useCacheRefresh:vy};wy.useEffectEvent=ly;function nd(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var id={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=wn(),h=Cr(o);h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,o),i!==null&&(dn(i,t,o),no(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=wn(),h=Cr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(t,h,o),i!==null&&(dn(i,t,o),no(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),o=Cr(a);o.tag=2,i!=null&&(o.callback=i),i=Ir(t,o,a),i!==null&&(dn(i,t,a),no(i,t,a))}};function Sy(t,i,a,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!Kl(a,o)||!Kl(h,d):!0}function Ay(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&id.enqueueReplaceState(i,i.state,null)}function zs(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ry(t){Bu(t)}function Ny(t){console.error(t)}function Cy(t){Bu(t)}function cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Iy(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function rd(t,i,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,i)},a}function Dy(t){return t=Cr(t),t.tag=3,t}function Oy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){Iy(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Iy(i,a,o),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var x=o.stack;this.componentDidCatch(o.value,{componentStack:x!==null?x:""})})}function qT(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Na(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Tc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Cd(t,o,h)),!1;case 22:return a.flags|=65536,o===Ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Cd(t,o,h)),!1}throw Error(s(435,a.tag))}return Cd(t,o,h),Tc(),!1}if(je)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==xf&&(t=Error(s(422),{cause:o}),Jl(On(t,a)))):(o!==xf&&(i=Error(s(423),{cause:o}),Jl(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=On(o,a),h=rd(t.stateNode,o,h),Vf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:o});if(d=On(d,a),yo===null?yo=[d]:yo.push(d),ft!==4&&(ft=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=rd(a.stateNode,o,t),Vf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Dy(h),Oy(h,t,a,o),Vf(a,h),!1}a=a.return}while(a!==null);return!1}var sd=Error(s(461)),Nt=!1;function Qt(t,i,a,o){i.child=t===null?jg(i,null,a,o):Ps(i,t.child,a,o)}function My(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var x in o)x!=="ref"&&(_[x]=o[x])}else _=o;return Vs(i),o=zf(t,i,a,_,d,h),x=Bf(),t!==null&&!Nt?(qf(t,i,h),Ki(t,i,h)):(je&&x&&bf(i),i.flags|=1,Qt(t,i,o,h),i.child)}function Vy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ky(t,i,d,o,h)):(t=Gu(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!dd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Kl,a(_,o)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=qi(d,o),t.ref=i.ref,t.return=i,i.child=t}function ky(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(Kl(d,o)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=o=d,dd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return ad(t,i,a,o,h)}function jy(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Ly(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(i,d!==null?d.cachePool:null),d!==null?Ug(i,d):jf(),zg(i);else return o=i.lanes=536870912,Ly(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(Xu(i,d.cachePool),Ug(i,d),Or(),i.memoizedState=null):(t!==null&&Xu(i,null),jf(),Or());return Qt(t,i,h,a),i.child}function uo(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Ly(t,i,a,o,h){var d=If();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&Xu(i,null),jf(),zg(i),t!==null&&Na(t,i,o,!0),i.childLanes=h,null}function hc(t,i){return i=dc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Py(t,i,a){return Ps(i,t.child,null,a),t=hc(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function HT(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(je){if(o.mode==="hidden")return t=hc(i,o),i.lanes=536870912,uo(null,t);if(Pf(i),(t=nt)?(t=$_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Ar(i);return i.lanes=536870912,null}return hc(i,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Pf(i),h)if(i.flags&256)i.flags&=-257,i=Py(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||Na(t,i,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(o=et,o!==null&&(_=Il(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Is(t,_),dn(o,t,_),sd;Tc(),i=Py(t,i,a)}else t=d.treeContext,nt=Ln(_.nextSibling),Ft=i,je=!0,Sr=null,kn=!1,t!==null&&wg(i,t),i=hc(i,o),i.flags|=4096;return i}return t=qi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function fc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function ad(t,i,a,o,h){return Vs(i),a=zf(t,i,a,o,void 0,h),o=Bf(),t!==null&&!Nt?(qf(t,i,h),Ki(t,i,h)):(je&&o&&bf(i),i.flags|=1,Qt(t,i,a,h),i.child)}function Uy(t,i,a,o,h,d){return Vs(i),i.updateQueue=null,a=qg(i,o,a,h),Bg(t),o=Bf(),t!==null&&!Nt?(qf(t,i,d),Ki(t,i,d)):(je&&o&&bf(i),i.flags|=1,Qt(t,i,a,d),i.child)}function zy(t,i,a,o,h){if(Vs(i),i.stateNode===null){var d=wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Gt(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=id,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Of(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Gt(_):wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(nd(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&id.enqueueReplaceState(d,d.state,null),ro(i,o,d,h),io(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var x=i.memoizedProps,I=zs(a,x);d.props=I;var z=d.context,$=a.contextType;_=wa,typeof $=="object"&&$!==null&&(_=Gt($));var te=a.getDerivedStateFromProps;$=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",x=i.pendingProps!==x,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(x||z!==_)&&Ay(i,d,o,_),Nr=!1;var H=i.memoizedState;d.state=H,ro(i,o,d,h),io(),z=i.memoizedState,x||H!==z||Nr?(typeof te=="function"&&(nd(i,a,te,o),z=i.memoizedState),(I=Nr||Sy(i,a,I,o,H,z,_))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=z),d.props=o,d.state=z,d.context=_,o=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Mf(t,i),_=i.memoizedProps,$=zs(a,_),d.props=$,te=i.pendingProps,H=d.context,z=a.contextType,I=wa,typeof z=="object"&&z!==null&&(I=Gt(z)),x=a.getDerivedStateFromProps,(z=typeof x=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||H!==I)&&Ay(i,d,o,I),Nr=!1,H=i.memoizedState,d.state=H,ro(i,o,d,h),io();var Y=i.memoizedState;_!==te||H!==Y||Nr||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof x=="function"&&(nd(i,a,x,o),Y=i.memoizedState),($=Nr||Sy(i,a,$,o,H,Y,I)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Y,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),d.props=o,d.state=Y,d.context=I,o=$):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,fc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Ps(i,t.child,null,h),i.child=Ps(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function By(t,i,a,o){return Os(),i.flags|=256,Qt(t,i,a,o),i.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function od(t){return{baseLanes:t,cachePool:Ig()}}function ud(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function qy(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(je){if(h?Dr(i):Or(),(t=nt)?(t=$_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:wr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=bg(t),a.return=i,i.child=a,Ft=i,nt=null)):t=null,t===null)throw Ar(i);return Gd(t)?i.lanes=32:i.lanes=536870912,null}var x=o.children;return o=o.fallback,h?(Or(),h=i.mode,x=dc({mode:"hidden",children:x},h),o=Ds(o,h,a,null),x.return=i,o.return=i,x.sibling=o,i.child=x,o=i.child,o.memoizedState=od(a),o.childLanes=ud(t,_,a),i.memoizedState=ld,uo(null,o)):(Dr(i),cd(i,x))}var I=t.memoizedState;if(I!==null&&(x=I.dehydrated,x!==null)){if(d)i.flags&256?(Dr(i),i.flags&=-257,i=hd(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),x=o.fallback,h=i.mode,o=dc({mode:"visible",children:o.children},h),x=Ds(x,h,a,null),x.flags|=2,o.return=i,x.return=i,o.sibling=x,i.child=o,Ps(i,t.child,null,a),o=i.child,o.memoizedState=od(a),o.childLanes=ud(t,_,a),i.memoizedState=ld,i=uo(null,o));else if(Dr(i),Gd(x)){if(_=x.nextSibling&&x.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(s(419)),o.stack="",o.digest=_,Jl({value:o,source:null,stack:null}),i=hd(t,i,a)}else if(Nt||Na(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=et,_!==null&&(o=Il(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Is(t,o),dn(_,t,o),sd;Fd(x)||Tc(),i=hd(t,i,a)}else Fd(x)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,nt=Ln(x.nextSibling),Ft=i,je=!0,Sr=null,kn=!1,t!==null&&wg(i,t),i=cd(i,o.children),i.flags|=4096);return i}return h?(Or(),x=o.fallback,h=i.mode,I=t.child,z=I.sibling,o=qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?x=qi(z,x):(x=Ds(x,h,a,null),x.flags|=2),x.return=i,o.return=i,o.sibling=x,i.child=o,uo(null,o),o=i.child,x=t.child.memoizedState,x===null?x=od(a):(h=x.cachePool,h!==null?(I=At._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ig(),x={baseLanes:x.baseLanes|a,cachePool:h}),o.memoizedState=x,o.childLanes=ud(t,_,a),i.memoizedState=ld,uo(t.child,o)):(Dr(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function cd(t,i){return i=dc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function dc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function hd(t,i,a){return Ps(i,t.child,null,a),t=cd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Hy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Af(t.return,i,a)}function fd(t,i,a,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Fy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=yt.current,x=(_&2)!==0;if(x?(_=_&1|2,i.flags|=128):_&=1,ae(yt,_),Qt(t,i,o,a),o=je?$l:0,!x&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Hy(t,a,i);else if(t.tag===19)Hy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&tc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),fd(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&tc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}fd(i,!0,a,null,d,o);break;case"together":fd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),kr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Na(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function dd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function FT(t,i,a){switch(i.tag){case 3:Vt(i,i.stateNode.containerInfo),Rr(i,At,t.memoizedState.cache),Os();break;case 27:case 5:fs(i);break;case 4:Vt(i,i.stateNode.containerInfo);break;case 10:Rr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Pf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Dr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?qy(t,i,a):(Dr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Dr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Na(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Fy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(yt,yt.current),o)break;return null;case 22:return i.lanes=0,jy(t,i,a,i.pendingProps);case 24:Rr(i,At,t.memoizedState.cache)}return Ki(t,i,a)}function Gy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!dd(t,a)&&(i.flags&128)===0)return Nt=!1,FT(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,je&&(i.flags&1048576)!==0&&xg(i,$l,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=js(i.elementType),i.type=t,typeof t=="function")_f(t)?(o=zs(t,o),i.tag=1,i=zy(null,i,t,o,a)):(i.tag=0,i=ad(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===me){i.tag=11,i=My(null,i,t,o,a);break e}else if(h===N){i.tag=14,i=Vy(null,i,t,o,a);break e}}throw i=st(t)||t,Error(s(306,i,""))}}return i;case 0:return ad(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=zs(o,i.pendingProps),zy(t,i,o,h,a);case 3:e:{if(Vt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Mf(t,i),ro(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Rr(i,At,o),o!==d.cache&&Rf(i,[At],a,!0),io(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=By(t,i,o,a);break e}else if(o!==h){h=On(Error(s(424)),i),Jl(h),i=By(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=Ln(t.firstChild),Ft=i,je=!0,Sr=null,kn=!0,a=jg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Os(),o===h){i=Ki(t,i,a);break e}Qt(t,i,o,a)}i=i.child}return i;case 26:return fc(t,i),t===null?(a=n0(i.type,null,i.pendingProps,null))?i.memoizedState=a:je||(a=i.type,t=i.pendingProps,o=Cc(Re.current).createElement(a),o[xt]=i,o[Pt]=t,Yt(o,a,t),wt(o),i.stateNode=o):i.memoizedState=n0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fs(i),t===null&&je&&(o=i.stateNode=W_(i.type,i.pendingProps,Re.current),Ft=i,kn=!0,h=nt,zr(i.type)?(Qd=h,nt=Ln(o.firstChild)):nt=h),Qt(t,i,i.pendingProps.children,a),fc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&je&&((h=o=nt)&&(o=Ex(o,i.type,i.pendingProps,kn),o!==null?(i.stateNode=o,Ft=i,nt=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||Ar(i)),fs(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Bd(h,d)?o=null:_!==null&&Bd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=zf(t,i,kT,null,null,a),So._currentValue=h),fc(t,i),Qt(t,i,o,a),i.child;case 6:return t===null&&je&&((t=a=nt)&&(a=bx(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Ft=i,nt=null,t=!0):t=!1),t||Ar(i)),null;case 13:return qy(t,i,a);case 4:return Vt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Ps(i,null,o,a):Qt(t,i,o,a),i.child;case 11:return My(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Rr(i,i.type,o.value),Qt(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Vs(i),h=Gt(h),o=o(h),i.flags|=1,Qt(t,i,o,a),i.child;case 14:return Vy(t,i,i.type,i.pendingProps,a);case 15:return ky(t,i,i.type,i.pendingProps,a);case 19:return Fy(t,i,a);case 31:return HT(t,i,a);case 22:return jy(t,i,a,i.pendingProps);case 24:return Vs(i),o=Gt(At),t===null?(h=If(),h===null&&(h=et,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Of(i),Rr(i,At,h)):((t.lanes&a)!==0&&(Mf(t,i),ro(i,null,null,a),io()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Rr(i,At,o)):(o=d.cache,Rr(i,At,o),o!==h.cache&&Rf(i,[At],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function md(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(__())t.flags|=8192;else throw Ls=Ju,Df}else t.flags&=-16777217}function Qy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!l0(i))if(__())t.flags|=8192;else throw Ls=Ju,Df}function mc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Eu():536870912,t.lanes|=i,za|=i)}function co(t,i){if(!je)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function GT(t,i,a){var o=i.pendingProps;switch(Tf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gi(At),at(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ra(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,wf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(it(i),Qy(i,d)):(it(i),md(i,h,null,o,a))):d?d!==t.memoizedState?(Xi(i),it(i),Qy(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Xi(i),it(i),md(i,h,t,o,a)),null;case 27:if(sa(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ue.current,Ra(i)?Sg(i):(t=W_(h,o,a),i.stateNode=t,Xi(i))}return it(i),null;case 5:if(sa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ue.current,Ra(i))Sg(i);else{var _=Cc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[xt]=i,d[Pt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Yt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xi(i)}}return it(i),md(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Ra(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=Ft,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[xt]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||q_(t.nodeValue,a)),t||Ar(i,!0)}else t=Cc(t).createTextNode(o),t[xt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ra(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[xt]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ra(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[xt]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=wf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),mc(i,i.updateQueue),it(i),null);case 4:return at(),t===null&&jd(i.stateNode.containerInfo),it(i),null;case 10:return Gi(i.type),it(i),null;case 19:if(ne(yt),o=i.memoizedState,o===null)return it(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)co(o,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=tc(t),d!==null){for(i.flags|=128,co(o,!1),t=d.updateQueue,i.updateQueue=t,mc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Eg(a,t),a=a.sibling;return ae(yt,yt.current&1|2),je&&Hi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&rn()>vc&&(i.flags|=128,h=!0,co(o,!1),i.lanes=4194304)}else{if(!h)if(t=tc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,mc(i,t),co(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!je)return it(i),null}else 2*rn()-o.renderingStartTime>vc&&a!==536870912&&(i.flags|=128,h=!0,co(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=rn(),t.sibling=null,a=yt.current,ae(yt,h?a&1|2:a&1),je&&Hi(i,o.treeForkCount),t):(it(i),null);case 22:case 23:return bn(i),Lf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&mc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&ne(ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(At),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function QT(t,i){switch(Tf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(At),at(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return sa(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ne(yt),null;case 4:return at(),null;case 10:return Gi(i.type),null;case 22:case 23:return bn(i),Lf(),t!==null&&ne(ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(At),null;case 25:return null;default:return null}}function Yy(t,i){switch(Tf(i),i.tag){case 3:Gi(At),at();break;case 26:case 27:case 5:sa(i);break;case 4:at();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:ne(yt);break;case 10:Gi(i.type);break;case 22:case 23:bn(i),Lf(),t!==null&&ne(ks);break;case 24:Gi(At)}}function ho(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(x){Ke(i,i.return,x)}}function Mr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,x=_.destroy;if(x!==void 0){_.destroy=void 0,h=i;var I=a,z=x;try{z()}catch($){Ke(h,I,$)}}}o=o.next}while(o!==d)}}catch($){Ke(i,i.return,$)}}function Ky(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Pg(i,a)}catch(o){Ke(t,t.return,o)}}}function Xy(t,i,a){a.props=zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(t,i,o)}}function fo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ke(t,i,h)}}function Ri(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ke(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,i,h)}else a.current=null}function $y(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function pd(t,i,a){try{var o=t.stateNode;mx(o,t.type,a,i),o[Pt]=i}catch(h){Ke(t,t.return,h)}}function Jy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&zr(t.type)||t.tag===4}function gd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Jy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&zr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(o!==4&&(o===27&&zr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(yd(t,i,a),t=t.sibling;t!==null;)yd(t,i,a),t=t.sibling}function pc(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&zr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,i,a),t=t.sibling;t!==null;)pc(t,i,a),t=t.sibling}function Zy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,o,a),i[xt]=t,i[Pt]=a}catch(d){Ke(t,t.return,d)}}var $i=!1,Ct=!1,_d=!1,Wy=typeof WeakSet=="function"?WeakSet:Set,zt=null;function YT(t,i){if(t=t.containerInfo,Ud=jc,t=hg(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,x=-1,I=-1,z=0,$=0,te=t,H=null;t:for(;;){for(var Y;te!==a||h!==0&&te.nodeType!==3||(x=_+h),te!==d||o!==0&&te.nodeType!==3||(I=_+o),te.nodeType===3&&(_+=te.nodeValue.length),(Y=te.firstChild)!==null;)H=te,te=Y;for(;;){if(te===t)break t;if(H===a&&++z===h&&(x=_),H===d&&++$===o&&(I=_),(Y=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=Y}a=x===-1||I===-1?null:{start:x,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},jc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ce=zs(a.type,h);t=o.getSnapshotBeforeUpdate(ce,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Ke(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Hd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Hd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function e_(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),o&4&&ho(5,a);break;case 1:if(Zi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}o&64&&Ky(a),o&512&&fo(a,a.return);break;case 3:if(Zi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Pg(t,i)}catch(_){Ke(a,a.return,_)}}break;case 27:i===null&&o&4&&Zy(a);case 26:case 5:Zi(t,a),i===null&&o&4&&$y(a),o&512&&fo(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),o&4&&i_(t,a);break;case 13:Zi(t,a),o&4&&r_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=nx.bind(null,a),Tx(t,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){i=i!==null&&i.memoizedState!==null||Ct,h=$i;var d=Ct;$i=o,(Ct=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),$i=h,Ct=d}break;case 30:break;default:Zi(t,a)}}function t_(t){var i=t.alternate;i!==null&&(t.alternate=null,t_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ca(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,un=!1;function Ji(t,i,a){for(a=a.child;a!==null;)n_(t,i,a),a=a.sibling}function n_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:Ct||Ri(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ri(a,i);var o=ot,h=un;zr(a.type)&&(ot=a.stateNode,un=!1),Ji(t,i,a),To(a.stateNode),ot=o,un=h;break;case 5:Ct||Ri(a,i);case 6:if(o=ot,h=un,ot=null,Ji(t,i,a),ot=o,un=h,ot!==null)if(un)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Ke(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Ke(a,i,d)}break;case 18:ot!==null&&(un?(t=ot,K_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ka(t)):K_(ot,a.stateNode));break;case 4:o=ot,h=un,ot=a.stateNode.containerInfo,un=!0,Ji(t,i,a),ot=o,un=h;break;case 0:case 11:case 14:case 15:Mr(2,a,i),Ct||Mr(4,a,i),Ji(t,i,a);break;case 1:Ct||(Ri(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Xy(a,i,o)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:Ct=(o=Ct)||a.memoizedState!==null,Ji(t,i,a),Ct=o;break;default:Ji(t,i,a)}}function i_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ka(t)}catch(a){Ke(i,i.return,a)}}}function r_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ka(t)}catch(a){Ke(i,i.return,a)}}function KT(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Wy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Wy),i;default:throw Error(s(435,t.tag))}}function gc(t,i){var a=KT(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=ix.bind(null,t,o);o.then(h,h)}})}function cn(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,_=i,x=_;e:for(;x!==null;){switch(x.tag){case 27:if(zr(x.type)){ot=x.stateNode,un=!1;break e}break;case 5:ot=x.stateNode,un=!1;break e;case 3:case 4:ot=x.stateNode.containerInfo,un=!0;break e}x=x.return}if(ot===null)throw Error(s(160));n_(d,_,h),ot=null,un=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)s_(i,t),i=i.sibling}var Jn=null;function s_(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(i,t),hn(t),o&4&&(Mr(3,t,t.return),ho(3,t),Mr(5,t,t.return));break;case 1:cn(i,t),hn(t),o&512&&(Ct||a===null||Ri(a,a.return)),o&64&&$i&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(cn(i,t),hn(t),o&512&&(Ct||a===null||Ri(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,o,a),d[xt]=t,wt(d),o=d;break e;case"link":var _=s0("link","href",h).get(o+(a.href||""));if(_){for(var x=0;x<_.length;x++)if(d=_[x],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(x,1);break t}}d=h.createElement(o),Yt(d,o,a),h.head.appendChild(d);break;case"meta":if(_=s0("meta","content",h).get(o+(a.content||""))){for(x=0;x<_.length;x++)if(d=_[x],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(x,1);break t}}d=h.createElement(o),Yt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[xt]=t,wt(d),o=d}t.stateNode=o}else a0(h,t.type,t.stateNode);else t.stateNode=r0(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?a0(h,t.type,t.stateNode):r0(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(i,t),hn(t),o&512&&(Ct||a===null||Ri(a,a.return)),a!==null&&o&4&&pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(i,t),hn(t),o&512&&(Ct||a===null||Ri(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(ce){Ke(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,pd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(_d=!0);break;case 6:if(cn(i,t),hn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){Ke(t,t.return,ce)}}break;case 3:if(Oc=null,h=Jn,Jn=Ic(i.containerInfo),cn(i,t),Jn=h,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(ce){Ke(t,t.return,ce)}_d&&(_d=!1,a_(t));break;case 4:o=Jn,Jn=Ic(t.stateNode.containerInfo),cn(i,t),hn(t),Jn=o;break;case 12:cn(i,t),hn(t);break;case 31:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 13:cn(i,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=rn()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=$i,$=Ct;if($i=z||h,Ct=$||I,cn(i,t),Ct=$,$i=z,hn(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||$i||Ct||Bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{x=I.stateNode;var te=I.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;x.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Ke(I,I.return,ce)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){Ke(I,I.return,ce)}}}else if(i.tag===18){if(a===null){I=i;try{var Y=I.stateNode;h?X_(Y,!0):X_(I.stateNode,!1)}catch(ce){Ke(I,I.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,gc(t,a))));break;case 19:cn(i,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,gc(t,o)));break;case 30:break;case 21:break;default:cn(i,t),hn(t)}}function hn(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(Jy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=gd(t);pc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var x=gd(t);pc(t,x,_);break;case 3:case 4:var I=a.stateNode.containerInfo,z=gd(t);yd(t,z,I);break;default:throw Error(s(161))}}catch($){Ke(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function a_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;a_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)e_(t,i.alternate,i),i=i.sibling}function Bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Mr(4,i,i.return),Bs(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Xy(i,i.return,a),Bs(i);break;case 27:To(i.stateNode);case 26:case 5:Ri(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),ho(4,d);break;case 1:if(Wi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Ke(o,o.return,z)}if(o=d,h=o.updateQueue,h!==null){var x=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Lg(I[h],x)}catch(z){Ke(o,o.return,z)}}a&&_&64&&Ky(d),fo(d,d.return);break;case 27:Zy(d);case 26:case 5:Wi(h,d,a),a&&o===null&&_&4&&$y(d),fo(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&i_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&r_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),fo(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function vd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Zl(a))}function Ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zl(t))}function Zn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(t,i,a,o),i=i.sibling}function l_(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Zn(t,i,a,o),h&2048&&ho(9,i);break;case 1:Zn(t,i,a,o);break;case 3:Zn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Zl(t)));break;case 12:if(h&2048){Zn(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,x=d.onPostCommit;typeof x=="function"&&x(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ke(i,i.return,I)}}else Zn(t,i,a,o);break;case 31:Zn(t,i,a,o);break;case 13:Zn(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Zn(t,i,a,o):mo(t,i):d._visibility&2?Zn(t,i,a,o):(d._visibility|=2,La(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&vd(_,i);break;case 24:Zn(t,i,a,o),h&2048&&Ed(i.alternate,i);break;default:Zn(t,i,a,o)}}function La(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,x=a,I=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:La(d,_,x,I,h),ho(8,_);break;case 23:break;case 22:var $=_.stateNode;_.memoizedState!==null?$._visibility&2?La(d,_,x,I,h):mo(d,_):($._visibility|=2,La(d,_,x,I,h)),h&&z&2048&&vd(_.alternate,_);break;case 24:La(d,_,x,I,h),h&&z&2048&&Ed(_.alternate,_);break;default:La(d,_,x,I,h)}i=i.sibling}}function mo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:mo(a,o),h&2048&&vd(o.alternate,o);break;case 24:mo(a,o),h&2048&&Ed(o.alternate,o);break;default:mo(a,o)}i=i.sibling}}var po=8192;function Pa(t,i,a){if(t.subtreeFlags&po)for(t=t.child;t!==null;)o_(t,i,a),t=t.sibling}function o_(t,i,a){switch(t.tag){case 26:Pa(t,i,a),t.flags&po&&t.memoizedState!==null&&Vx(a,Jn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,i,a);break;case 3:case 4:var o=Jn;Jn=Ic(t.stateNode.containerInfo),Pa(t,i,a),Jn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=po,po=16777216,Pa(t,i,a),po=o):Pa(t,i,a));break;default:Pa(t,i,a)}}function u_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function go(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,h_(o,t)}u_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)c_(t),t=t.sibling}function c_(t){switch(t.tag){case 0:case 11:case 15:go(t),t.flags&2048&&Mr(9,t,t.return);break;case 3:go(t);break;case 12:go(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,yc(t)):go(t);break;default:go(t)}}function yc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];zt=o,h_(o,t)}u_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Mr(8,i,i.return),yc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,yc(i));break;default:yc(i)}t=t.sibling}}function h_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Mr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Zl(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,zt=o;else e:for(a=t;zt!==null;){o=zt;var h=o.sibling,d=o.return;if(t_(o),o===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var XT={getCacheForType:function(t){var i=Gt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(At).controller.signal}},$T=typeof WeakMap=="function"?WeakMap:Map,He=0,et=null,Ce=null,De=0,Ye=0,Tn=null,Vr=!1,Ua=!1,bd=!1,er=0,ft=0,kr=0,qs=0,Td=0,xn=0,za=0,yo=null,fn=null,xd=!1,_c=0,f_=0,vc=1/0,Ec=null,jr=null,jt=0,Lr=null,Ba=null,tr=0,wd=0,Sd=null,d_=null,_o=0,Ad=null;function wn(){return(He&2)!==0&&De!==0?De&-De:J.T!==null?Od():bu()}function m_(){if(xn===0)if((De&536870912)===0||je){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),xn=t}else xn=536870912;return t=En.current,t!==null&&(t.flags|=32),xn}function dn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(qa(t,0),Pr(t,De,xn,!1)),gs(t,a),((He&2)===0||t!==et)&&(t===et&&((He&2)===0&&(qs|=a),ft===4&&Pr(t,De,xn,!1)),Ni(t))}function p_(t,i,a){if((He&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=o?WT(t,i):Nd(t,i,!0),d=o;do{if(h===0){Ua&&!o&&Pr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!JT(a)){h=Nd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var x=t;h=yo;var I=x.current.memoizedState.isDehydrated;if(I&&(qa(x,_).flags|=256),_=Nd(x,_,!1),_!==2){if(bd&&!I){x.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=fn,fn=h,d!==null&&(fn===null?fn=d:fn.push.apply(fn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){qa(t,0),Pr(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Pr(o,i,xn,!Vr);break e;case 2:fn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=_c+300-rn(),10<h)){if(Pr(o,i,xn,!Vr),ci(o,0,!0)!==0)break e;tr=i,o.timeoutHandle=Q_(g_.bind(null,o,a,fn,Ec,xd,i,xn,qs,za,Vr,d,"Throttled",-0,0),h);break e}g_(o,a,fn,Ec,xd,i,xn,qs,za,Vr,d,null,-0,0)}}break}while(!0);Ni(t)}function g_(t,i,a,o,h,d,_,x,I,z,$,te,H,Y){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},o_(i,d,te);var ce=(d&62914560)===d?_c-rn():(d&4194048)===d?f_-rn():0;if(ce=kx(te,ce),ce!==null){tr=d,t.cancelPendingCommit=ce(w_.bind(null,t,i,d,a,o,h,_,x,I,$,te,null,H,Y)),Pr(t,d,_,!z);return}}w_(t,i,d,a,o,h,_,x,I)}function JT(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Pr(t,i,a,o){i&=~Td,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&ys(t,a,i)}function bc(){return(He&6)===0?(vo(0),!1):!0}function Rd(){if(Ce!==null){if(Ye===0)var t=Ce.return;else t=Ce,Fi=Ms=null,Hf(t),Oa=null,eo=0,t=Ce;for(;t!==null;)Yy(t.alternate,t),t=t.return;Ce=null}}function qa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,yx(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tr=0,Rd(),et=t,Ce=a=qi(t.current,null),De=i,Ye=0,Tn=null,Vr=!1,Ua=qn(t,i),bd=!1,za=xn=Td=qs=kr=ft=0,fn=yo=null,xd=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-pt(o),d=1<<h;i|=t[h],o&=~d}return er=i,qu(),a}function y_(t,i){Ae=null,J.H=oo,i===Da||i===$u?(i=Mg(),Ye=3):i===Df?(i=Mg(),Ye=4):Ye=i===sd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Tn=i,Ce===null&&(ft=1,cc(t,On(i,t.current)))}function __(){var t=En.current;return t===null?!0:(De&4194048)===De?jn===null:(De&62914560)===De||(De&536870912)!==0?t===jn:!1}function v_(){var t=J.H;return J.H=oo,t===null?oo:t}function E_(){var t=J.A;return J.A=XT,t}function Tc(){ft=4,Vr||(De&4194048)!==De&&En.current!==null||(Ua=!0),(kr&134217727)===0&&(qs&134217727)===0||et===null||Pr(et,De,xn,!1)}function Nd(t,i,a){var o=He;He|=2;var h=v_(),d=E_();(et!==t||De!==i)&&(Ec=null,qa(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&Ce!==null){var x=Ce,I=Tn;switch(Ye){case 8:Rd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var z=Ye;if(Ye=0,Tn=null,Ha(t,x,I,z),a&&Ua){_=0;break e}break;default:z=Ye,Ye=0,Tn=null,Ha(t,x,I,z)}}ZT(),_=ft;break}catch($){y_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Fi=Ms=null,He=o,J.H=h,J.A=d,Ce===null&&(et=null,De=0,qu()),_}function ZT(){for(;Ce!==null;)b_(Ce)}function WT(t,i){var a=He;He|=2;var o=v_(),h=E_();et!==t||De!==i?(Ec=null,vc=rn()+500,qa(t,i)):Ua=qn(t,i);e:do try{if(Ye!==0&&Ce!==null){i=Ce;var d=Tn;t:switch(Ye){case 1:Ye=0,Tn=null,Ha(t,i,d,1);break;case 2:case 9:if(Dg(d)){Ye=0,Tn=null,T_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ni(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Dg(d)?(Ye=0,Tn=null,T_(i)):(Ye=0,Tn=null,Ha(t,i,d,7));break;case 5:var _=null;switch(Ce.tag){case 26:_=Ce.memoizedState;case 5:case 27:var x=Ce;if(_?l0(_):x.stateNode.complete){Ye=0,Tn=null;var I=x.sibling;if(I!==null)Ce=I;else{var z=x.return;z!==null?(Ce=z,xc(z)):Ce=null}break t}}Ye=0,Tn=null,Ha(t,i,d,5);break;case 6:Ye=0,Tn=null,Ha(t,i,d,6);break;case 8:Rd(),ft=6;break e;default:throw Error(s(462))}}ex();break}catch($){y_(t,$)}while(!0);return Fi=Ms=null,J.H=o,J.A=h,He=a,Ce!==null?0:(et=null,De=0,qu(),ft)}function ex(){for(;Ce!==null&&!rf();)b_(Ce)}function b_(t){var i=Gy(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?xc(t):Ce=i}function T_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Uy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Uy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Hf(i);default:Yy(a,i),i=Ce=Eg(i,er),i=Gy(a,i,er)}t.memoizedProps=t.pendingProps,i===null?xc(t):Ce=i}function Ha(t,i,a,o){Fi=Ms=null,Hf(i),Oa=null,eo=0;var h=i.return;try{if(qT(t,h,i,a,De)){ft=1,cc(t,On(a,t.current)),Ce=null;return}}catch(d){if(h!==null)throw Ce=h,d;ft=1,cc(t,On(a,t.current)),Ce=null;return}i.flags&32768?(je||o===1?t=!0:Ua||(De&536870912)!==0?t=!1:(Vr=t=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),x_(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){x_(i,Vr);return}t=i.return;var a=GT(i.alternate,i,er);if(a!==null){Ce=a;return}if(i=i.sibling,i!==null){Ce=i;return}Ce=i=t}while(i!==null);ft===0&&(ft=5)}function x_(t,i){do{var a=QT(t.alternate,t);if(a!==null){a.flags&=32767,Ce=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ce=t;return}Ce=t=a}while(t!==null);ft=6,Ce=null}function w_(t,i,a,o,h,d,_,x,I){t.cancelPendingCommit=null;do wc();while(jt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=gf,lf(t,a,d,_,x,I),t===et&&(Ce=et=null,De=0),Ba=i,Lr=t,tr=a,wd=d,Sd=h,d_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,rx(mr,function(){return C_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=J.T,J.T=null,h=se.p,se.p=2,_=He,He|=4;try{YT(t,i,a)}finally{He=_,se.p=h,J.T=o}}jt=1,S_(),A_(),R_()}}function S_(){if(jt===1){jt=0;var t=Lr,i=Ba,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var o=se.p;se.p=2;var h=He;He|=4;try{s_(i,t);var d=zd,_=hg(t.containerInfo),x=d.focusedElem,I=d.selectionRange;if(_!==x&&x&&x.ownerDocument&&cg(x.ownerDocument.documentElement,x)){if(I!==null&&hf(x)){var z=I.start,$=I.end;if($===void 0&&($=z),"selectionStart"in x)x.selectionStart=z,x.selectionEnd=Math.min($,x.value.length);else{var te=x.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var Y=H.getSelection(),ce=x.textContent.length,_e=Math.min(I.start,ce),We=I.end===void 0?_e:Math.min(I.end,ce);!Y.extend&&_e>We&&(_=We,We=_e,_e=_);var j=ug(x,_e),M=ug(x,We);if(j&&M&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==M.node||Y.focusOffset!==M.offset)){var U=te.createRange();U.setStart(j.node,j.offset),Y.removeAllRanges(),_e>We?(Y.addRange(U),Y.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),Y.addRange(U))}}}}for(te=[],Y=x;Y=Y.parentNode;)Y.nodeType===1&&te.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<te.length;x++){var Z=te[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}jc=!!Ud,zd=Ud=null}finally{He=h,se.p=o,J.T=a}}t.current=i,jt=2}}function A_(){if(jt===2){jt=0;var t=Lr,i=Ba,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var o=se.p;se.p=2;var h=He;He|=4;try{e_(t,i.alternate,i)}finally{He=h,se.p=o,J.T=a}}jt=3}}function R_(){if(jt===4||jt===3){jt=0,mu();var t=Lr,i=Ba,a=tr,o=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Ba=Lr=null,N_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),Pi(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=J.T,h=se.p,se.p=2,J.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var x=o[_];d(x.value,{componentStack:x.stack})}}finally{J.T=i,se.p=h}}(tr&3)!==0&&wc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ad?_o++:(_o=0,Ad=t):_o=0,vo(0)}}function N_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Zl(i)))}function wc(){return S_(),A_(),R_(),C_()}function C_(){if(jt!==5)return!1;var t=Lr,i=wd;wd=0;var a=Pi(tr),o=J.T,h=se.p;try{se.p=32>a?32:a,J.T=null,a=Sd,Sd=null;var d=Lr,_=tr;if(jt=0,Ba=Lr=null,tr=0,(He&6)!==0)throw Error(s(331));var x=He;if(He|=4,c_(d.current),l_(d,d.current,_,a),He=x,vo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{se.p=h,J.T=o,N_(t,i)}}function I_(t,i,a){i=On(a,i),i=rd(t.stateNode,i,2),t=Ir(t,i,2),t!==null&&(gs(t,2),Ni(t))}function Ke(t,i,a){if(t.tag===3)I_(t,t,a);else for(;i!==null;){if(i.tag===3){I_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(jr===null||!jr.has(o))){t=On(a,t),a=Dy(2),o=Ir(i,a,2),o!==null&&(Oy(a,o,i,t),gs(o,2),Ni(o));break}}i=i.return}}function Cd(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new $T;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(bd=!0,h.add(a),t=tx.bind(null,t,i,a),i.then(t,t))}function tx(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>rn()-_c?(He&2)===0&&qa(t,0):Td|=a,za===De&&(za=0)),Ni(t)}function D_(t,i){i===0&&(i=Eu()),t=Is(t,i),t!==null&&(gs(t,i),Ni(t))}function nx(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),D_(t,a)}function ix(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),D_(t,a)}function rx(t,i){return kt(t,i)}var Sc=null,Fa=null,Id=!1,Ac=!1,Dd=!1,Ur=0;function Ni(t){t!==Fa&&t.next===null&&(Fa===null?Sc=Fa=t:Fa=Fa.next=t),Ac=!0,Id||(Id=!0,ax())}function vo(t,i){if(!Dd&&Ac){Dd=!0;do for(var a=!1,o=Sc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,x=o.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~x),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,k_(o,d))}else d=De,d=ci(o,o===et?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||qn(o,d)||(a=!0,k_(o,d));o=o.next}while(a);Dd=!1}}function sx(){O_()}function O_(){Ac=Id=!1;var t=0;Ur!==0&&gx()&&(t=Ur);for(var i=rn(),a=null,o=Sc;o!==null;){var h=o.next,d=M_(o,i);d===0?(o.next=null,a===null?Sc=h:a.next=h,h===null&&(Fa=a)):(a=o,(t!==0||(d&3)!==0)&&(Ac=!0)),o=h}jt!==0&&jt!==5||vo(t),Ur!==0&&(Ur=0)}function M_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),x=1<<_,I=h[_];I===-1?((x&a)===0||(x&o)!==0)&&(h[_]=af(x,i)):I<=i&&(t.expiredLanes|=x),d&=~x}if(i=et,a=De,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&dr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&dr(o),Pi(a)){case 2:case 8:a=Nl;break;case 32:a=mr;break;case 268435456:a=pu;break;default:a=mr}return o=V_.bind(null,t),a=kt(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&dr(o),t.callbackPriority=2,t.callbackNode=null,2}function V_(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wc()&&t.callbackNode!==a)return null;var o=De;return o=ci(t,t===et?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(p_(t,o,i),M_(t,rn()),t.callbackNode!=null&&t.callbackNode===a?V_.bind(null,t):null)}function k_(t,i){if(wc())return null;p_(t,i,!0)}function ax(){_x(function(){(He&6)!==0?kt(Rl,sx):O_()})}function Od(){if(Ur===0){var t=Ca;t===0&&(t=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Ur=t}return Ur}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function L_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function lx(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=j_((h[Pt]||null).action),_=o.submitter;_&&(i=(i=_[Pt]||null)?j_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var x=new bi("action","action",null,o,h);t.push({event:x,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ur!==0){var I=_?L_(h,_):new FormData(h);Zf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(x.preventDefault(),I=_?L_(h,_):new FormData(h),Zf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Md=0;Md<pf.length;Md++){var Vd=pf[Md],ox=Vd.toLowerCase(),ux=Vd[0].toUpperCase()+Vd.slice(1);$n(ox,"on"+ux)}$n(mg,"onAnimationEnd"),$n(pg,"onAnimationIteration"),$n(gg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(ST,"onTransitionRun"),$n(AT,"onTransitionStart"),$n(RT,"onTransitionCancel"),$n(yg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function P_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var x=o[_],I=x.instance,z=x.currentTarget;if(x=x.listener,I!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=z;try{d(h)}catch($){Bu($)}h.currentTarget=null,d=I}else for(_=0;_<o.length;_++){if(x=o[_],I=x.instance,z=x.currentTarget,x=x.listener,I!==d&&h.isPropagationStopped())break e;d=x,h.currentTarget=z;try{d(h)}catch($){Bu($)}h.currentTarget=null,d=I}}}}function Ie(t,i){var a=i[ua];a===void 0&&(a=i[ua]=new Set);var o=t+"__bubble";a.has(o)||(U_(i,t,2,!1),a.add(o))}function kd(t,i,a){var o=0;i&&(o|=4),U_(a,t,o,i)}var Rc="_reactListening"+Math.random().toString(36).slice(2);function jd(t){if(!t[Rc]){t[Rc]=!0,Dl.forEach(function(a){a!=="selectionchange"&&(cx.has(a)||kd(a,!1,t),kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Rc]||(i[Rc]=!0,kd("selectionchange",!1,i))}}function U_(t,i,a,o){switch(m0(i)){case 2:var h=Px;break;case 8:h=Ux;break;default:h=Jd}a=h.bind(null,i,a,t),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Ld(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var x=o.stateNode.containerInfo;if(x===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;x!==null;){if(_=mi(x),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=d=_;continue e}x=x.parentNode}}o=o.return}Er(function(){var z=d,$=Nn(a),te=[];e:{var H=_g.get(t);if(H!==void 0){var Y=bi,ce=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":Y=Pu;break;case"focusin":ce="focus",Y=As;break;case"focusout":ce="blur",Y=As;break;case"beforeblur":case"afterblur":Y=As;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=p;break;case mg:case pg:case gg:Y=Du;break;case yg:Y=w;break;case"scroll":case"scrollend":Y=Hl;break;case"wheel":Y=G;break;case"copy":case"cut":case"paste":Y=Ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bi;break;case"toggle":case"beforetoggle":Y=Se}var _e=(i&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),j=_e?H!==null?H+"Capture":null:H;_e=[];for(var M=z,U;M!==null;){var Z=M;if(U=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||U===null||j===null||(Z=Qn(M,j),Z!=null&&_e.push(bo(M,Z,U))),We)break;M=M.return}0<_e.length&&(H=new Y(H,ce,null,a,$),te.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==zl&&(ce=a.relatedTarget||a.fromElement)&&(mi(ce)||ce[fi]))break e;if((Y||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=z,ce=ce?mi(ce):null,ce!==null&&(We=u(ce),_e=ce.tag,ce!==We||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(Y=null,ce=z),Y!==ce)){if(_e=Fl,Z="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Bi,Z="onPointerLeave",j="onPointerEnter",M="pointer"),We=Y==null?H:gn(Y),U=ce==null?H:gn(ce),H=new _e(Z,M+"leave",Y,a,$),H.target=We,H.relatedTarget=U,Z=null,mi($)===z&&(_e=new _e(j,M+"enter",ce,a,$),_e.target=U,_e.relatedTarget=We,Z=_e),We=Z,Y&&ce)t:{for(_e=hx,j=Y,M=ce,U=0,Z=j;Z;Z=_e(Z))U++;Z=0;for(var fe=M;fe;fe=_e(fe))Z++;for(;0<U-Z;)j=_e(j),U--;for(;0<Z-U;)M=_e(M),Z--;for(;U--;){if(j===M||M!==null&&j===M.alternate){_e=j;break t}j=_e(j),M=_e(M)}_e=null}else _e=null;Y!==null&&z_(te,H,Y,_e,!1),ce!==null&&We!==null&&z_(te,We,ce,_e,!0)}}e:{if(H=z?gn(z):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var ze=ig;else if(tg(H))if(rg)ze=TT;else{ze=ET;var he=vT}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&da(z.elementType)&&(ze=ig):ze=bT;if(ze&&(ze=ze(t,z))){ng(te,ze,a,$);break e}he&&he(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&Ll(H,"number",H.value)}switch(he=z?gn(z):window,t){case"focusin":(tg(he)||he.contentEditable==="true")&&(ba=he,ff=z,Xl=null);break;case"focusout":Xl=ff=ba=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,fg(te,a,$);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":fg(te,a,$)}var Ne;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ea?Rs(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(wi&&a.locale!=="ko"&&(Ea||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ea&&(Ne=ql()):(Ei=$,Bl="value"in Ei?Ei.value:Ei.textContent,Ea=!0)),he=Nc(z,Oe),0<he.length&&(Oe=new xi(Oe,t,null,a,$),te.push({event:Oe,listeners:he}),Ne?Oe.data=Ne:(Ne=va(a),Ne!==null&&(Oe.data=Ne)))),(Ne=In?pT(t,a):gT(t,a))&&(Oe=Nc(z,"onBeforeInput"),0<Oe.length&&(he=new xi("onBeforeInput","beforeinput",null,a,$),te.push({event:he,listeners:Oe}),he.data=Ne)),lx(te,t,z,a,$)}P_(te,i)})}function bo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Nc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&o.unshift(bo(t,h,d)),h=Qn(t,i),h!=null&&o.push(bo(t,h,d))),t.tag===3)return o;t=t.return}return[]}function hx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function z_(t,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var x=a,I=x.alternate,z=x.stateNode;if(x=x.tag,I!==null&&I===o)break;x!==5&&x!==26&&x!==27||z===null||(I=z,h?(z=Qn(a,d),z!=null&&_.unshift(bo(a,z,I))):h||(z=Qn(a,d),z!=null&&_.push(bo(a,z,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var fx=/\r\n?/g,dx=/\u0000|\uFFFD/g;function B_(t){return(typeof t=="string"?t:""+t).replace(fx,`
`).replace(dx,"")}function q_(t,i){return i=B_(i),B_(t)===i}function Ze(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||on(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&on(t,""+o);break;case"className":yn(t,"class",o);break;case"tabIndex":yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,o);break;case"style":Ul(t,o,d);break;case"data":if(i!=="object"){yn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ma(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=ma(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ha(t,"popover",o);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ha(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nu.get(a)||a,ha(t,a,o))}}function Pd(t,i,a,o,h,d){switch(a){case"style":Ul(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?on(t,o):(typeof o=="number"||typeof o=="bigint")&&on(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ol.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ha(t,a,o)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),o&&Ze(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var x=d=_=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var $=a[o];if($!=null)switch(o){case"name":h=$;break;case"type":_=$;break;case"checked":I=$;break;case"defaultChecked":z=$;break;case"value":d=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:Ze(t,i,o,$,a,null)}}Su(t,d,x,I,z,_,h,!1);return;case"select":Ie("invalid",t),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(x=a[h],x!=null))switch(h){case"value":d=x;break;case"defaultValue":_=x;break;case"multiple":o=x;default:Ze(t,i,h,x,a,null)}i=d,a=_,t.multiple=!!o,i!=null?gr(t,!!o,i,!1):a!=null&&gr(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(x=a[_],x!=null))switch(_){case"value":o=x;break;case"defaultValue":h=x;break;case"children":d=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Ze(t,i,_,x,a,null)}yr(t,o,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ze(t,i,I,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<Eo.length;o++)Ie(Eo[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,z,o,a,null)}return;default:if(da(i)){for($ in a)a.hasOwnProperty($)&&(o=a[$],o!==void 0&&Pd(t,i,$,o,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(o=a[x],o!=null&&Ze(t,i,x,o,a,null))}function mx(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,x=null,I=null,z=null,$=null;for(Y in a){var te=a[Y];if(a.hasOwnProperty(Y)&&te!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=te;default:o.hasOwnProperty(Y)||Ze(t,i,Y,null,o,te)}}for(var H in o){var Y=o[H];if(te=a[H],o.hasOwnProperty(H)&&(Y!=null||te!=null))switch(H){case"type":d=Y;break;case"name":h=Y;break;case"checked":z=Y;break;case"defaultChecked":$=Y;break;case"value":_=Y;break;case"defaultValue":x=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==te&&Ze(t,i,H,Y,o,te)}}fa(t,_,x,I,z,$,d,h);return;case"select":Y=_=x=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:o.hasOwnProperty(d)||Ze(t,i,d,null,o,I)}for(h in o)if(d=o[h],I=a[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":H=d;break;case"defaultValue":x=d;break;case"multiple":_=d;default:d!==I&&Ze(t,i,h,d,o,I)}i=x,a=_,o=Y,H!=null?gr(t,!!a,H,!1):!!o!=!!a&&(i!=null?gr(t,!!a,i,!0):gr(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(x in a)if(h=a[x],a.hasOwnProperty(x)&&h!=null&&!o.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ze(t,i,x,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,o,d)}Au(t,H,Y);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Ze(t,i,ce,null,o,H)}for(I in o)if(H=o[I],Y=a[I],o.hasOwnProperty(I)&&H!==Y&&(H!=null||Y!=null))switch(I){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(t,i,I,H,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!o.hasOwnProperty(_e)&&Ze(t,i,_e,null,o,H);for(z in o)if(H=o[z],Y=a[z],o.hasOwnProperty(z)&&H!==Y&&(H!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ze(t,i,z,H,o,Y)}return;default:if(da(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!o.hasOwnProperty(We)&&Pd(t,i,We,void 0,o,H);for($ in o)H=o[$],Y=a[$],!o.hasOwnProperty($)||H===Y||H===void 0&&Y===void 0||Pd(t,i,$,H,o,Y);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!o.hasOwnProperty(j)&&Ze(t,i,j,null,o,H);for(te in o)H=o[te],Y=a[te],!o.hasOwnProperty(te)||H===Y||H==null&&Y==null||Ze(t,i,te,H,o,Y)}function H_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function px(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,x=h.duration;if(d&&x&&H_(_)){for(_=0,x=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>x)break;var $=I.transferSize,te=I.initiatorType;$&&H_(te)&&(I=I.responseEnd,_+=$*(I<x?1:(x-z)/(I-z)))}if(--o,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ud=null,zd=null;function Cc(t){return t.nodeType===9?t:t.ownerDocument}function F_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var qd=null;function gx(){var t=window.event;return t&&t.type==="popstate"?t===qd?!1:(qd=t,!0):(qd=null,!1)}var Q_=typeof setTimeout=="function"?setTimeout:void 0,yx=typeof clearTimeout=="function"?clearTimeout:void 0,Y_=typeof Promise=="function"?Promise:void 0,_x=typeof queueMicrotask=="function"?queueMicrotask:typeof Y_<"u"?function(t){return Y_.resolve(null).then(t).catch(vx)}:Q_;function vx(t){setTimeout(function(){throw t})}function zr(t){return t==="head"}function K_(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),Ka(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")To(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,To(a);for(var d=a.firstChild;d;){var _=d.nextSibling,x=d.nodeName;d[di]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&To(t.ownerDocument.body);a=h}while(a);Ka(i)}function X_(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Hd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hd(a),ca(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ex(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function bx(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ln(t.nextSibling),t===null))return null;return t}function $_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ln(t.nextSibling),t===null))return null;return t}function Fd(t){return t.data==="$?"||t.data==="$~"}function Gd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Tx(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Ln(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Qd=null;function J_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Z_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function W_(t,i,a){switch(i=Cc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function To(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ca(t)}var Pn=new Map,e0=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=se.d;se.d={f:xx,r:wx,D:Sx,C:Ax,L:Rx,m:Nx,X:Ix,S:Cx,M:Dx};function xx(){var t=nr.f(),i=bc();return t||i}function wx(t){var i=Rn(t);i!==null&&i.tag===5&&i.type==="form"?yy(i):nr.r(t)}var Ga=typeof document>"u"?null:document;function t0(t,i,a){var o=Ga;if(o&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),e0.has(h)||(e0.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Yt(i,"link",t),wt(i),o.head.appendChild(i)))}}function Sx(t){nr.D(t),t0("dns-prefetch",t,null)}function Ax(t,i){nr.C(t,i),t0("preconnect",t,i)}function Rx(t,i,a){nr.L(t,i,a);var o=Ga;if(o&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ya(t)}Pn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Pn.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(xo(d))||i==="script"&&o.querySelector(wo(d))||(i=o.createElement("link"),Yt(i,"link",t),wt(i),o.head.appendChild(i)))}}function Nx(t,i){nr.m(t,i);var a=Ga;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!Pn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Pn.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wo(d)))return}o=a.createElement("link"),Yt(o,"link",t),wt(o),a.head.appendChild(o)}}}function Cx(t,i,a){nr.S(t,i,a);var o=Ga;if(o&&t){var h=pi(o).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var x={loading:0,preload:null};if(_=o.querySelector(xo(d)))x.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Pn.get(d))&&Yd(t,a);var I=_=o.createElement("link");wt(I),Yt(I,"link",t),I._p=new Promise(function(z,$){I.onload=z,I.onerror=$}),I.addEventListener("load",function(){x.loading|=1}),I.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Dc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:x},h.set(d,_)}}}function Ix(t,i){nr.X(t,i);var a=Ga;if(a&&t){var o=pi(a).hoistableScripts,h=Ya(t),d=o.get(h);d||(d=a.querySelector(wo(h)),d||(t=T({src:t,async:!0},i),(i=Pn.get(h))&&Kd(t,i),d=a.createElement("script"),wt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Dx(t,i){nr.M(t,i);var a=Ga;if(a&&t){var o=pi(a).hoistableScripts,h=Ya(t),d=o.get(h);d||(d=a.querySelector(wo(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Pn.get(h))&&Kd(t,i),d=a.createElement("script"),wt(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function n0(t,i,a,o){var h=(h=Re.current)?Ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=pi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(xo(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(t,a),d||Ox(h,t,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=pi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+ln(t)+'"'}function xo(t){return'link[rel="stylesheet"]['+t+"]"}function i0(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Ox(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Yt(i,"link",a),wt(i),t.head.appendChild(i))}function Ya(t){return'[src="'+ln(t)+'"]'}function wo(t){return"script[async]"+t}function r0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(o)return i.instance=o,wt(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),wt(o),Yt(o,"style",h),Dc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Qa(a.href);var d=t.querySelector(xo(h));if(d)return i.state.loading|=4,i.instance=d,wt(d),d;o=i0(a),(h=Pn.get(h))&&Yd(o,h),d=(t.ownerDocument||t).createElement("link"),wt(d);var _=d;return _._p=new Promise(function(x,I){_.onload=x,_.onerror=I}),Yt(d,"link",o),i.state.loading|=4,Dc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(wo(d)))?(i.instance=h,wt(h),h):(o=a,(h=Pn.get(d))&&(o=T({},a),Kd(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),wt(h),Yt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,Dc(o,a.precedence,t));return i.instance}function Dc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var x=o[_];if(x.dataset.precedence===i)d=x;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Oc=null;function s0(t,i,a){if(Oc===null){var o=new Map,h=Oc=new Map;h.set(a,o)}else h=Oc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var x=o.get(_);x?x.push(d):o.set(_,[d])}}return o}function a0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Mx(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function l0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Vx(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(o.href),d=i.querySelector(xo(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Mc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,wt(d);return}d=i.ownerDocument||i,o=i0(o),(h=Pn.get(h))&&Yd(o,h),d=d.createElement("link"),wt(d);var _=d;_._p=new Promise(function(x,I){_.onload=x,_.onerror=I}),Yt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var Xd=0;function kx(t,i){return t.stylesheets&&t.count===0&&kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&Xd===0&&(Xd=62500*px());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>Xd?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vc=null;function kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vc=new Map,i.forEach(jx,t),Vc=null,Mc.call(t))}function jx(t,i){if(!(i.state.loading&4)){var a=Vc.get(t);if(a)var o=a.get(null);else{a=new Map,Vc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=Mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var So={$$typeof:X,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Lx(t,i,a,o,h,d,_,x,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function o0(t,i,a,o,h,d,_,x,I,z,$,te){return t=new Lx(t,i,a,_,I,z,$,te,x),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Of(d),t}function u0(t){return t?(t=wa,t):wa}function c0(t,i,a,o,h,d){h=u0(h),o.context===null?o.context=h:o.pendingContext=h,o=Cr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Ir(t,o,i),a!==null&&(dn(a,t,i),no(a,t,i))}function h0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function $d(t,i){h0(t,i),(t=t.alternate)&&h0(t,i)}function f0(t){if(t.tag===13||t.tag===31){var i=Is(t,67108864);i!==null&&dn(i,t,67108864),$d(t,67108864)}}function d0(t){if(t.tag===13||t.tag===31){var i=wn();i=_s(i);var a=Is(t,i);a!==null&&dn(a,t,i),$d(t,i)}}var jc=!0;function Px(t,i,a,o){var h=J.T;J.T=null;var d=se.p;try{se.p=2,Jd(t,i,a,o)}finally{se.p=d,J.T=h}}function Ux(t,i,a,o){var h=J.T;J.T=null;var d=se.p;try{se.p=8,Jd(t,i,a,o)}finally{se.p=d,J.T=h}}function Jd(t,i,a,o){if(jc){var h=Zd(o);if(h===null)Ld(t,i,o,Lc,a),p0(t,o);else if(Bx(h,t,i,a,o))o.stopPropagation();else if(p0(t,o),i&4&&-1<zx.indexOf(t)){for(;h!==null;){var d=Rn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var x=d;for(x.pendingLanes|=2,x.entangledLanes|=2;_;){var I=1<<31-pt(_);x.entanglements[1]|=I,_&=~I}Ni(d),(He&6)===0&&(vc=rn()+500,vo(0))}}break;case 31:case 13:x=Is(d,2),x!==null&&dn(x,d,2),bc(),$d(d,2)}if(d=Zd(o),d===null&&Ld(t,i,o,Lc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Ld(t,i,o,null,a)}}function Zd(t){return t=Nn(t),Wd(t)}var Lc=null;function Wd(t){if(Lc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function m0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case Rl:return 2;case Nl:return 8;case mr:case sf:return 32;case pu:return 268435456;default:return 32}default:return 32}}var em=!1,Br=null,qr=null,Hr=null,Ao=new Map,Ro=new Map,Fr=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p0(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ao.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(i.pointerId)}}function No(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Rn(i),i!==null&&f0(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Bx(t,i,a,o,h){switch(i){case"focusin":return Br=No(Br,t,i,a,o,h),!0;case"dragenter":return qr=No(qr,t,i,a,o,h),!0;case"mouseover":return Hr=No(Hr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Ao.set(d,No(Ao.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Ro.set(d,No(Ro.get(d)||null,t,i,a,o,h)),!0}return!1}function g0(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){d0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Hn(t.priority,function(){d0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Zd(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);zl=o,a.target.dispatchEvent(o),zl=null}else return i=Rn(a),i!==null&&f0(i),t.blockedOn=a,!1;i.shift()}return!0}function y0(t,i,a){Pc(t)&&a.delete(i)}function qx(){em=!1,Br!==null&&Pc(Br)&&(Br=null),qr!==null&&Pc(qr)&&(qr=null),Hr!==null&&Pc(Hr)&&(Hr=null),Ao.forEach(y0),Ro.forEach(y0)}function Uc(t,i){t.blockedOn===i&&(t.blockedOn=null,em||(em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qx)))}var zc=null;function _0(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(Wd(o||a)===null)continue;break}var d=Rn(a);d!==null&&(t.splice(i,3),i-=3,Zf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ka(t){function i(I){return Uc(I,t)}Br!==null&&Uc(Br,t),qr!==null&&Uc(qr,t),Hr!==null&&Uc(Hr,t),Ao.forEach(i),Ro.forEach(i);for(var a=0;a<Fr.length;a++){var o=Fr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)g0(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Pt]||null;if(typeof d=="function")_||_0(a);else if(_){var x=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Pt]||null)x=_.formAction;else if(Wd(h)!==null)continue}else x=_.action;typeof x=="function"?a[o+1]=x:(a.splice(o,3),o-=3),_0(a)}}}function v0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function tm(t){this._internalRoot=t}Bc.prototype.render=tm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=wn();c0(a,o,t,i,null,null)},Bc.prototype.unmount=tm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;c0(t.current,2,null,t,null,null),bc(),i[fi]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=bu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&g0(t)}};var E0=e.version;if(E0!=="19.2.3")throw Error(s(527,E0,"19.2.3"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var Hx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Bn=qc.inject(Hx),qt=qc}catch{}}return Io.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Ry,d=Ny,_=Cy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=o0(t,1,!1,null,null,a,o,null,h,d,_,v0),t[fi]=i.current,jd(t),new tm(i)},Io.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Ry,_=Ny,x=Cy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=o0(t,1,!0,i,a??null,o,h,I,d,_,x,v0),i.context=u0(null),a=i.current,o=wn(),o=_s(o),h=Cr(o),h.callback=null,Ir(a,h,o),a=o,i.current.lanes=a,gs(i,a),Ni(i),t[fi]=i.current,jd(t),new Bc(i)},Io.version="19.2.3",Io}var I0;function ew(){if(I0)return rm.exports;I0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=Wx(),rm.exports}var tw=ew();const nw=mE(tw);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var D0="popstate";function iw(r={}){function e(s,l){let{pathname:u,search:f,hash:m}=s.location;return wm("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:qo(l)}return sw(e,n,null,r)}function ut(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function si(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rw(){return Math.random().toString(36).substring(2,10)}function O0(r,e){return{usr:r.state,key:r.key,idx:e}}function wm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fl(e):e,state:n,key:e&&e.key||s||rw()}}function qo({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function sw(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",g=null,y=b();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function b(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=b(),Q=F==null?null:F-y;y=F,g&&g({action:m,location:K.location,delta:Q})}function S(F,Q){m="PUSH";let ee=wm(K.location,F,Q);y=b()+1;let X=O0(ee,y),me=K.createHref(ee);try{f.pushState(X,"",me)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;l.location.assign(me)}u&&g&&g({action:m,location:K.location,delta:1})}function D(F,Q){m="REPLACE";let ee=wm(K.location,F,Q);y=b();let X=O0(ee,y),me=K.createHref(ee);f.replaceState(X,"",me),u&&g&&g({action:m,location:K.location,delta:0})}function q(F){return aw(F)}let K={get action(){return m},get location(){return r(l,f)},listen(F){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(D0,T),g=F,()=>{l.removeEventListener(D0,T),g=null}},createHref(F){return e(l,F)},createURL:q,encodeLocation(F){let Q=q(F);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:S,replace:D,go(F){return f.go(F)}};return K}function aw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ut(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:qo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function pE(r,e,n="/"){return lw(r,e,n,!1)}function lw(r,e,n,s){let l=typeof e=="string"?fl(e):e,u=lr(l.pathname||"/",n);if(u==null)return null;let f=gE(r);ow(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=vw(u);m=yw(f[g],y,s)}return m}function gE(r,e=[],n=[],s="",l=!1){let u=(f,m,g=l,y)=>{let b={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(s)&&g)return;ut(b.relativePath.startsWith(s),`Absolute route path "${b.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(s.length)}let T=ar([s,b.relativePath]),S=n.concat(b);f.children&&f.children.length>0&&(ut(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),gE(f.children,e,S,T,g)),!(f.path==null&&!f.index)&&e.push({path:T,score:pw(T,f.index),routesMeta:S})};return r.forEach((f,m)=>{var g;if(f.path===""||!((g=f.path)!=null&&g.includes("?")))u(f,m);else for(let y of yE(f.path))u(f,m,!0,y)}),e}function yE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=yE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function ow(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:gw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var uw=/^:[\w-]+$/,cw=3,hw=2,fw=1,dw=10,mw=-2,M0=r=>r==="*";function pw(r,e){let n=r.split("/"),s=n.length;return n.some(M0)&&(s+=mw),e&&(s+=hw),n.filter(l=>!M0(l)).reduce((l,u)=>l+(uw.test(u)?cw:u===""?fw:dw),s)}function gw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function yw(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,b=u==="/"?e:e.slice(u.length)||"/",T=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},b),S=g.route;if(!T&&y&&n&&!s[s.length-1].route.index&&(T=uh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},b)),!T)return null;Object.assign(l,T.params),f.push({params:l,pathname:ar([u,T.pathname]),pathnameBase:xw(ar([u,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(u=ar([u,T.pathnameBase]))}return f}function uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=_w(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:b,isOptional:T},S)=>{if(b==="*"){let q=m[S]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const D=m[S];return T&&!D?y[b]=void 0:y[b]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function _w(r,e=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function vw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ew=r=>_E.test(r);function bw(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?fl(r):r,u;if(n)if(Ew(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),si(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=V0(n.substring(1),"/"):u=V0(n,e)}else u=e;return{pathname:u,search:ww(s),hash:Sw(l)}}function V0(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function om(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Tw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vE(r){let e=Tw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function EE(r,e,n,s=!1){let l;typeof r=="string"?l=fl(r):(l={...r},ut(!l.pathname||!l.pathname.includes("?"),om("?","pathname","search",l)),ut(!l.pathname||!l.pathname.includes("#"),om("#","pathname","hash",l)),ut(!l.search||!l.search.includes("#"),om("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),T-=1;l.pathname=S.join("/")}m=T>=0?e[T]:"/"}let g=bw(l,m),y=f&&f!=="/"&&f.endsWith("/"),b=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||b)&&(g.pathname+="/"),g}var ar=r=>r.join("/").replace(/\/\/+/g,"/"),xw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),ww=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Sw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Aw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Rw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Nw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var bE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function TE(r,e){let n=r;if(typeof n!="string"||!_E.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,l=!1;if(bE)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=lr(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:l=!0}catch{si(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:l,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xE=["POST","PUT","PATCH","DELETE"];new Set(xE);var Cw=["GET",...xE];new Set(Cw);var dl=B.createContext(null);dl.displayName="DataRouter";var Dh=B.createContext(null);Dh.displayName="DataRouterState";var Iw=B.createContext(!1),wE=B.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var Dw=B.createContext(new Map);Dw.displayName="Fetchers";var Ow=B.createContext(null);Ow.displayName="Await";var zn=B.createContext(null);zn.displayName="Navigation";var eu=B.createContext(null);eu.displayName="Location";var Li=B.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var np=B.createContext(null);np.displayName="RouteError";var SE="REACT_ROUTER_ERROR",Mw="REDIRECT",Vw="ROUTE_ERROR_RESPONSE";function kw(r){if(r.startsWith(`${SE}:${Mw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function jw(r){if(r.startsWith(`${SE}:${Vw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Aw(e.status,e.statusText,e.data)}catch{}}function Lw(r,{relative:e}={}){ut(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(zn),{hash:l,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:f,hash:l})}function tu(){return B.useContext(eu)!=null}function ta(){return ut(tu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(eu).location}var AE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(r){B.useContext(zn).static||B.useLayoutEffect(r)}function ml(){let{isDataRoute:r}=B.useContext(Li);return r?Jw():Pw()}function Pw(){ut(tu(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(dl),{basename:e,navigator:n}=B.useContext(zn),{matches:s}=B.useContext(Li),{pathname:l}=ta(),u=JSON.stringify(vE(s)),f=B.useRef(!1);return RE(()=>{f.current=!0}),B.useCallback((g,y={})=>{if(si(f.current,AE),!f.current)return;if(typeof g=="number"){n.go(g);return}let b=EE(g,JSON.parse(u),l,y.relative==="path");r==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ar([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,l,r])}B.createContext(null);function Uw(){let{matches:r}=B.useContext(Li),e=r[r.length-1];return e?e.params:{}}function nu(r,{relative:e}={}){let{matches:n}=B.useContext(Li),{pathname:s}=ta(),l=JSON.stringify(vE(n));return B.useMemo(()=>EE(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function zw(r,e){return NE(r,e)}function NE(r,e,n,s,l){var ee;ut(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=B.useContext(zn),{matches:f}=B.useContext(Li),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",T=m&&m.route;{let X=T&&T.path||"";IE(y,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=ta(),D;if(e){let X=typeof e=="string"?fl(e):e;ut(b==="/"||((ee=X.pathname)==null?void 0:ee.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${X.pathname}" was given in the \`location\` prop.`),D=X}else D=S;let q=D.pathname||"/",K=q;if(b!=="/"){let X=b.replace(/^\//,"").split("/");K="/"+q.replace(/^\//,"").split("/").slice(X.length).join("/")}let F=pE(r,{pathname:K});si(T||F!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),si(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=Gw(F&&F.map(X=>Object.assign({},X,{params:Object.assign({},g,X.params),pathname:ar([b,u.encodeLocation?u.encodeLocation(X.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?b:ar([b,u.encodeLocation?u.encodeLocation(X.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:X.pathnameBase])})),f,n,s,l);return e&&Q?B.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},Q):Q}function Bw(){let r=$w(),e=Rw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:l},n):null,f)}var qw=B.createElement(Bw,null),CE=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=jw(r.digest);n&&(r=n)}let e=r!==void 0?B.createElement(Li.Provider,{value:this.props.routeContext},B.createElement(np.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?B.createElement(Hw,{error:r},e):e}};CE.contextType=Iw;var um=new WeakMap;function Hw({children:r,error:e}){let{basename:n}=B.useContext(zn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=kw(e.digest);if(s){let l=um.get(e);if(l)throw l;let u=TE(s.location,n);if(bE&&!um.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw um.set(e,f),f}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function Fw({routeContext:r,match:e,children:n}){let s=B.useContext(dl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Li.Provider,{value:r},n)}function Gw(r,e=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n==null?void 0:n.errors;if(f!=null){let b=u.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);ut(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,b+1))}let m=!1,g=-1;if(n)for(let b=0;b<u.length;b++){let T=u[b];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=b),T.route.id){let{loaderData:S,errors:D}=n,q=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!D||D[T.route.id]===void 0);if(T.route.lazy||q){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}let y=n&&s?(b,T)=>{var S,D;s(b,{location:n.location,params:((D=(S=n.matches)==null?void 0:S[0])==null?void 0:D.params)??{},unstable_pattern:Nw(n.matches),errorInfo:T})}:void 0;return u.reduceRight((b,T,S)=>{let D,q=!1,K=null,F=null;n&&(D=f&&T.route.id?f[T.route.id]:void 0,K=T.route.errorElement||qw,m&&(g<0&&S===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,F=null):g===S&&(q=!0,F=T.route.hydrateFallbackElement||null)));let Q=e.concat(u.slice(0,S+1)),ee=()=>{let X;return D?X=K:q?X=F:T.route.Component?X=B.createElement(T.route.Component,null):T.route.element?X=T.route.element:X=b,B.createElement(Fw,{match:T,routeContext:{outlet:b,matches:Q,isDataRoute:n!=null},children:X})};return n&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?B.createElement(CE,{location:n.location,revalidation:n.revalidation,component:K,error:D,children:ee(),routeContext:{outlet:null,matches:Q,isDataRoute:!0},onError:y}):ee()},null)}function ip(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qw(r){let e=B.useContext(dl);return ut(e,ip(r)),e}function Yw(r){let e=B.useContext(Dh);return ut(e,ip(r)),e}function Kw(r){let e=B.useContext(Li);return ut(e,ip(r)),e}function rp(r){let e=Kw(r),n=e.matches[e.matches.length-1];return ut(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Xw(){return rp("useRouteId")}function $w(){var s;let r=B.useContext(np),e=Yw("useRouteError"),n=rp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Jw(){let{router:r}=Qw("useNavigate"),e=rp("useNavigate"),n=B.useRef(!1);return RE(()=>{n.current=!0}),B.useCallback(async(l,u={})=>{si(n.current,AE),n.current&&(typeof l=="number"?await r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var k0={};function IE(r,e,n){!e&&!k0[r]&&(k0[r]=!0,si(!1,n))}B.memo(Zw);function Zw({routes:r,future:e,state:n,onError:s}){return NE(r,void 0,n,s,e)}function Yr(r){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ww({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1,unstable_useTransitions:f}){ut(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),g=B.useMemo(()=>({basename:m,navigator:l,static:u,unstable_useTransitions:f,future:{}}),[m,l,u,f]);typeof n=="string"&&(n=fl(n));let{pathname:y="/",search:b="",hash:T="",state:S=null,key:D="default"}=n,q=B.useMemo(()=>{let K=lr(y,m);return K==null?null:{location:{pathname:K,search:b,hash:T,state:S,key:D},navigationType:s}},[m,y,b,T,S,D,s]);return si(q!=null,`<Router basename="${m}"> is not able to match the URL "${y}${b}${T}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:B.createElement(zn.Provider,{value:g},B.createElement(eu.Provider,{children:e,value:q}))}function eS({children:r,location:e}){return zw(Sm(r),e)}function Sm(r,e=[]){let n=[];return B.Children.forEach(r,(s,l)=>{if(!B.isValidElement(s))return;let u=[...e,l];if(s.type===B.Fragment){n.push.apply(n,Sm(s.props.children,u));return}ut(s.type===Yr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Sm(s.props.children,u)),n.push(f)}),n}var $c="get",Jc="application/x-www-form-urlencoded";function Oh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function tS(r){return Oh(r)&&r.tagName.toLowerCase()==="button"}function nS(r){return Oh(r)&&r.tagName.toLowerCase()==="form"}function iS(r){return Oh(r)&&r.tagName.toLowerCase()==="input"}function rS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sS(r,e){return r.button===0&&(!e||e==="_self")&&!rS(r)}var Hc=null;function aS(){if(Hc===null)try{new FormData(document.createElement("form"),0),Hc=!1}catch{Hc=!0}return Hc}var lS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!lS.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Jc}"`),null):r}function oS(r,e){let n,s,l,u,f;if(nS(r)){let m=r.getAttribute("action");s=m?lr(m,e):null,n=r.getAttribute("method")||$c,l=cm(r.getAttribute("enctype"))||Jc,u=new FormData(r)}else if(tS(r)||iS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?lr(g,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||$c,l=cm(r.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||Jc,u=new FormData(m,r),!aS()){let{name:y,type:b,value:T}=r;if(b==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,T)}}else{if(Oh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$c,s=null,l=Jc,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function uS(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&lr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function cS(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function fS(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await cS(u,n);return f.links?f.links():[]}return[]}));return gS(s.flat(1).filter(hS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function j0(r,e,n,s,l,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var b;return n[y].pathname!==g.pathname||((b=n[y].route.path)==null?void 0:b.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{var T;let b=s.routes[g.route.id];if(!b||!b.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function dS(r,e,{includeHydrateFallback:n}={}){return mS(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function mS(r){return[...new Set(r)]}function pS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function gS(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(pS(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function DE(){let r=B.useContext(dl);return sp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function yS(){let r=B.useContext(Dh);return sp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ap=B.createContext(void 0);ap.displayName="FrameworkContext";function OE(){let r=B.useContext(ap);return sp(r,"You must render this element inside a <HydratedRouter> element"),r}function _S(r,e){let n=B.useContext(ap),[s,l]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:b,onTouchStart:T}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=Q=>{Q.forEach(ee=>{f(ee.isIntersecting)})},F=new IntersectionObserver(K,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),B.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let D=()=>{l(!0)},q=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Do(m,D),onBlur:Do(g,q),onMouseEnter:Do(y,D),onMouseLeave:Do(b,q),onTouchStart:Do(T,D)}]:[!1,S,{}]}function Do(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function vS({page:r,...e}){let{router:n}=DE(),s=B.useMemo(()=>pE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(bS,{page:r,matches:s,...e}):null}function ES(r){let{manifest:e,routeModules:n}=OE(),[s,l]=B.useState([]);return B.useEffect(()=>{let u=!1;return fS(r,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,n]),s}function bS({page:r,matches:e,...n}){let s=ta(),{manifest:l,routeModules:u}=OE(),{basename:f}=DE(),{loaderData:m,matches:g}=yS(),y=B.useMemo(()=>j0(r,e,g,l,s,"data"),[r,e,g,l,s]),b=B.useMemo(()=>j0(r,e,g,l,s,"assets"),[r,e,g,l,s]),T=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let q=new Set,K=!1;if(e.forEach(Q=>{var X;let ee=l.routes[Q.route.id];!ee||!ee.hasLoader||(!y.some(me=>me.route.id===Q.route.id)&&Q.route.id in m&&((X=u[Q.route.id])!=null&&X.shouldRevalidate)||ee.hasClientLoader?K=!0:q.add(Q.route.id))}),q.size===0)return[];let F=uS(r,f,"data");return K&&q.size>0&&F.searchParams.set("_routes",e.filter(Q=>q.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[F.pathname+F.search]},[f,m,s,l,y,e,r,u]),S=B.useMemo(()=>dS(b,l),[b,l]),D=ES(b);return B.createElement(B.Fragment,null,T.map(q=>B.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),S.map(q=>B.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),D.map(({key:q,link:K})=>B.createElement("link",{key:q,nonce:n.nonce,...K})))}function TS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var xS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xS&&(window.__reactRouterVersion="7.11.0")}catch{}function wS({basename:r,children:e,unstable_useTransitions:n,window:s}){let l=B.useRef();l.current==null&&(l.current=iw({window:s,v5Compat:!0}));let u=l.current,[f,m]=B.useState({action:u.action,location:u.location}),g=B.useCallback(y=>{n===!1?m(y):B.startTransition(()=>m(y))},[n]);return B.useLayoutEffect(()=>u.listen(g),[u,g]),B.createElement(Ww,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Et=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...D},q){let{basename:K,unstable_useTransitions:F}=B.useContext(zn),Q=typeof y=="string"&&ME.test(y),ee=TE(y,K);y=ee.to;let X=Lw(y,{relative:l}),[me,ge,ye]=_S(s,D),N=NS(y,{replace:f,state:m,target:g,preventScrollReset:b,relative:l,viewTransition:T,unstable_defaultShouldRevalidate:S,unstable_useTransitions:F});function A(k){e&&e(k),k.defaultPrevented||N(k)}let R=B.createElement("a",{...D,...ye,href:ee.absoluteURL||X,onClick:ee.isExternal||u?e:A,ref:TS(q,ge),target:g,"data-discover":!Q&&n==="render"?"true":void 0});return me&&!Q?B.createElement(B.Fragment,null,R,B.createElement(vS,{page:X})):R});Et.displayName="Link";var SS=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...y},b){let T=nu(f,{relative:y.relative}),S=ta(),D=B.useContext(Dh),{navigator:q,basename:K}=B.useContext(zn),F=D!=null&&MS(T)&&m===!0,Q=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,ee=S.pathname,X=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),X=X?X.toLowerCase():null,Q=Q.toLowerCase()),X&&K&&(X=lr(X,K)||X);const me=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ge=ee===Q||!l&&ee.startsWith(Q)&&ee.charAt(me)==="/",ye=X!=null&&(X===Q||!l&&X.startsWith(Q)&&X.charAt(Q.length)==="/"),N={isActive:ge,isPending:ye,isTransitioning:F},A=ge?e:void 0,R;typeof s=="function"?R=s(N):R=[s,ge?"active":null,ye?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let k=typeof u=="function"?u(N):u;return B.createElement(Et,{...y,"aria-current":A,className:R,ref:b,style:k,to:f,viewTransition:m},typeof g=="function"?g(N):g)});SS.displayName="NavLink";var AS=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=$c,action:m,onSubmit:g,relative:y,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S,...D},q)=>{let{unstable_useTransitions:K}=B.useContext(zn),F=DS(),Q=OS(m,{relative:y}),ee=f.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&ME.test(m),me=ge=>{if(g&&g(ge),ge.defaultPrevented)return;ge.preventDefault();let ye=ge.nativeEvent.submitter,N=(ye==null?void 0:ye.getAttribute("formmethod"))||f,A=()=>F(ye||ge.currentTarget,{fetcherKey:e,method:N,navigate:n,replace:l,state:u,relative:y,preventScrollReset:b,viewTransition:T,unstable_defaultShouldRevalidate:S});K&&n!==!1?B.startTransition(()=>A()):A()};return B.createElement("form",{ref:q,method:ee,action:Q,onSubmit:s?g:me,...D,"data-discover":!X&&r==="render"?"true":void 0})});AS.displayName="Form";function RS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VE(r){let e=B.useContext(dl);return ut(e,RS(r)),e}function NS(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:g}={}){let y=ml(),b=ta(),T=nu(r,{relative:u});return B.useCallback(S=>{if(sS(S,e)){S.preventDefault();let D=n!==void 0?n:qo(b)===qo(T),q=()=>y(r,{replace:D,state:s,preventScrollReset:l,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});g?B.startTransition(()=>q()):q()}},[b,y,T,n,s,e,r,l,u,f,m,g])}var CS=0,IS=()=>`__${String(++CS)}__`;function DS(){let{router:r}=VE("useSubmit"),{basename:e}=B.useContext(zn),n=Xw(),s=r.fetch,l=r.navigate;return B.useCallback(async(u,f={})=>{let{action:m,method:g,encType:y,formData:b,body:T}=oS(u,e);if(f.navigate===!1){let S=f.fetcherKey||IS();await s(S,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||g,formEncType:f.encType||y,flushSync:f.flushSync})}else await l(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:b,body:T,formMethod:f.method||g,formEncType:f.encType||y,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,l,e,n])}function OS(r,{relative:e}={}){let{basename:n}=B.useContext(zn),s=B.useContext(Li);ut(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...nu(r||".",{relative:e})},f=ta();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(b=>b==="")){m.delete("index"),g.filter(T=>T).forEach(T=>m.append("index",T));let b=m.toString();u.search=b?`?${b}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),qo(u)}function MS(r,{relative:e}={}){let n=B.useContext(wE);ut(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VE("useViewTransitionState"),l=nu(r,{relative:e});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(l.pathname,f)!=null||uh(l.pathname,u)!=null}/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kS=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),L0=r=>{const e=kS(r);return e.charAt(0).toUpperCase()+e.slice(1)},kE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),jS=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=B.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:l="",children:u,iconNode:f,...m},g)=>B.createElement("svg",{ref:g,...LS,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:kE("lucide",l),...!u&&!jS(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,b])=>B.createElement(y,b)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=(r,e)=>{const n=B.forwardRef(({className:s,...l},u)=>B.createElement(PS,{ref:u,iconNode:e,className:kE(`lucide-${VS(L0(r))}`,`lucide-${r}`,s),...l}));return n.displayName=L0(r),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zS=Xe("arrow-left",US);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],qS=Xe("award",BS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],FS=Xe("bell-ring",HS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],QS=Xe("bookmark",GS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],P0=Xe("circle-check-big",YS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jE=Xe("circle-check",KS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$S=Xe("circle-user-round",XS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],LE=Xe("circle-x",JS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],ch=Xe("code-xml",ZS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eA=Xe("eye",WS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=[["path",{d:"M12.531 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14v6a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341l.427-.473",key:"ol2ft2"}],["path",{d:"m16.5 3.5 5 5",key:"15e6fa"}],["path",{d:"m21.5 3.5-5 5",key:"m0lwru"}]],nA=Xe("funnel-x",tA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],rA=Xe("github",iA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],PE=Xe("graduation-cap",sA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],pl=Xe("layers",aA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],oA=Xe("layout-grid",lA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],cA=Xe("linkedin",uA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hh=Xe("loader-circle",hA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],dA=Xe("map-pin",fA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pA=Xe("message-square",mA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yA=Xe("pen-line",gA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Am=Xe("plus",_A);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],lp=Xe("rocket",vA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bA=Xe("save",EA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],op=Xe("search",TA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],wA=Xe("send",xA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],AA=Xe("shield-check",SA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],NA=Xe("users-round",RA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IA=Xe("users",CA);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fh=Xe("x",DA);function OA(){return v.jsxs("div",{className:"min-h-screen bg-white w-full",children:[v.jsxs("nav",{className:"flex items-center justify-between px-8 md:px-12 py-8 border-b border-gray-100 sticky top-0 bg-white z-50 w-full",children:[v.jsxs(Et,{to:"/",className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center",children:v.jsx(pl,{className:"w-8 h-8 text-white"})}),v.jsx("span",{className:"text-3xl font-black text-orange-500 tracking-tighter",children:"ProjectMate"})]}),v.jsx("div",{className:"flex items-center gap-12",children:v.jsxs("div",{className:"flex items-center gap-12",children:[v.jsxs(Et,{to:"/projects",className:"relative text-gray-500 hover:text-orange-500 text-xl font-bold transition-colors duration-200 group",children:["Projects",v.jsx("span",{className:"absolute -bottom-2 left-0 w-0 h-1 bg-orange-500 transition-all duration-200 group-hover:w-full"})]}),v.jsxs(Et,{to:"/create",className:"relative text-gray-500 hover:text-orange-500 text-xl font-bold transition-colors duration-200 group",children:["Post Project",v.jsx("span",{className:"absolute -bottom-2 left-0 w-0 h-1 bg-orange-500 transition-all duration-200 group-hover:w-full"})]}),v.jsxs(Et,{to:"/profile",className:"relative text-gray-500 hover:text-orange-500 text-xl font-bold transition-colors duration-200 group",children:["Profile",v.jsx("span",{className:"absolute -bottom-2 left-0 w-0 h-1 bg-orange-500 transition-all duration-200 group-hover:w-full"})]})]})})]}),v.jsx("section",{className:"px-8 md:px-12 py-24 md:py-32 w-full",children:v.jsxs("div",{className:"w-full grid md:grid-cols-2 gap-20 items-center",children:[v.jsxs("div",{children:[v.jsxs("h1",{className:"text-7xl md:text-9xl font-black text-gray-900 tracking-tighter leading-none mb-10",children:["Find the right ",v.jsx("span",{className:"text-orange-600",children:"teammates"})," for your next project"]}),v.jsx("p",{className:"text-2xl md:text-3xl text-gray-600 font-medium leading-relaxed mb-12 max-w-4xl",children:"Connect with students, match based on skills and interests, and collaborate on academic research, hackathons, or side projects."}),v.jsxs("div",{className:"flex gap-6",children:[v.jsx(Et,{to:"/projects",className:"bg-orange-500 hover:bg-orange-600 text-white px-12 py-6 rounded-3xl font-black text-2xl transition-all hover:scale-105 active:scale-95 shadow-2xl shadow-orange-500/20 text-center",children:"Explore Projects"}),v.jsx(Et,{to:"/create",className:`bg-white border-4 border-gray-100 hover:border-orange-500 hover:text-orange-600 text-gray-900 
                           px-12 py-6 rounded-3xl font-black text-2xl transition-all duration-200 hover:scale-105 active:scale-95 shadow-sm`,children:"Post a Project"})]})]}),v.jsx("div",{className:"relative w-full h-full",children:v.jsx("div",{className:"rounded-[3rem] overflow-hidden shadow-[0_50px_100px_-20px_rgba(0,0,0,0.25)] h-full",children:v.jsx("img",{src:"https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=1200&h=900&fit=crop",alt:"Students collaborating",className:"w-full h-full object-cover min-h-[600px]"})})})]})}),v.jsx("section",{className:"px-8 md:px-12 py-32 bg-white w-full",children:v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"text-center mb-24",children:[v.jsx("h2",{className:"text-6xl md:text-8xl font-black text-gray-900 mb-8 tracking-tighter",children:"How It Works"}),v.jsx("p",{className:"text-2xl text-gray-600 max-w-4xl mx-auto font-bold",children:"Start building your portfolio in three simple steps"})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-16",children:[v.jsxs("div",{className:"group cursor-default",children:[v.jsx("div",{className:"w-28 h-28 bg-orange-500 rounded-3xl mb-10 flex items-center justify-center shadow-xl shadow-orange-500/20 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:v.jsx("img",{src:"/assets/image_fd5040.png",alt:"",className:"w-16 h-16 brightness-0 invert"})}),v.jsx("h3",{className:"text-4xl font-black text-gray-900 mb-6",children:"1. Create your profile"}),v.jsx("p",{className:"text-xl text-gray-600 leading-relaxed font-medium",children:"Sign up and highlight your skills, interests, and past experience to showcase what you bring to the table."})]}),v.jsxs("div",{className:"group cursor-default",children:[v.jsx("div",{className:"w-28 h-28 bg-orange-500 rounded-3xl mb-10 flex items-center justify-center shadow-xl shadow-orange-500/20 transition-all duration-300 group-hover:scale-110 group-hover:-rotate-6",children:v.jsx("img",{src:"/assets/image_fd53a7.png",alt:"",className:"w-16 h-16 brightness-0 invert"})}),v.jsx("h3",{className:"text-4xl font-black text-gray-900 mb-6",children:"2. Find or post projects"}),v.jsx("p",{className:"text-xl text-gray-600 leading-relaxed font-medium",children:"Browse exciting opportunities that match your skills or post your own idea to find the perfect teammates."})]}),v.jsxs("div",{className:"group cursor-default",children:[v.jsx("div",{className:"w-28 h-28 bg-orange-500 rounded-3xl mb-10 flex items-center justify-center shadow-xl shadow-orange-500/20 transition-all duration-300 group-hover:scale-110 group-hover:rotate-6",children:v.jsx("img",{src:"/assets/image_fd541f.png",alt:"",className:"w-16 h-16 brightness-0 invert"})}),v.jsx("h3",{className:"text-4xl font-black text-gray-900 mb-6",children:"3. Match and collaborate"}),v.jsx("p",{className:"text-xl text-gray-600 leading-relaxed font-medium",children:"Connect with like-minded students, form a team, and start building impactful projects together."})]})]})]})}),v.jsx("section",{className:"px-8 md:px-12 py-32 bg-[#FFF5F1] w-full",children:v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"text-center mb-24",children:[v.jsx("h2",{className:"text-6xl md:text-8xl font-black text-gray-900 mb-8 tracking-tighter",children:"Why ProjectMate?"}),v.jsx("p",{className:"text-2xl md:text-3xl text-gray-600 max-w-4xl mx-auto font-bold",children:"Designed for students to bridge the gap between ideas and execution."})]}),v.jsxs("div",{className:"grid md:grid-cols-3 gap-12",children:[v.jsxs("div",{className:"bg-white rounded-[3rem] p-16 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-4 group",children:[v.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-2xl flex items-center justify-center mb-10 group-hover:bg-orange-500 transition-colors duration-300",children:v.jsx(IA,{className:"w-10 h-10 text-orange-600 group-hover:text-white transition-colors"})}),v.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-6",children:"Skill-based Matching"}),v.jsx("p",{className:"text-xl text-gray-600 leading-relaxed font-medium",children:"Our smart matching system ensures you find teammates with complementary skills, not just random connections."})]}),v.jsxs("div",{className:"bg-white rounded-[3rem] p-16 shadow-sm hover:shadow-2xl transition-all duration-500 hover:-translate-y-4 group",children:[v.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-2xl flex items-center justify-center mb-10 group-hover:bg-orange-500 transition-colors duration-300",children:v.jsx(lp,{className:"w-10 h-10 text-orange-600 group-hover:text-white transition-colors"})}),v.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-6",children:"Easy Collaboration"}),v.jsx("p",{className:"text-xl text-gray-600 leading-relaxed font-medium",children:"Built-in tools to help you communicate, manage tasks, and track progress without the headache."})]}),v.jsxs("div",{className:"bg-white rounded-[3rem] p-16 shadow-sm hover:shadow-xl transition-all duration-500 hover:-translate-y-4 group",children:[v.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-2xl flex items-center justify-center mb-10 group-hover:bg-orange-500 transition-colors duration-300",children:v.jsx(op,{className:"w-10 h-10 text-orange-600 group-hover:text-white transition-colors"})}),v.jsx("h3",{className:"text-3xl font-black text-gray-900 mb-6",children:"Student-Focused"}),v.jsx("p",{className:"text-xl text-gray-600 leading-relaxed font-medium",children:"Tailored specifically for the academic and hackathon environment, understanding student schedules and goals."})]})]})]})}),v.jsx("section",{className:"px-8 md:px-12 py-32 w-full",children:v.jsxs("div",{className:"bg-orange-500 rounded-[4rem] p-24 md:p-32 text-center relative overflow-hidden shadow-[0_40px_80px_-15px_rgba(249,115,22,0.4)]",children:[v.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-orange-400 rounded-full blur-[120px] opacity-40 -translate-x-1/2 -translate-y-1/2"}),v.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-orange-600 rounded-full blur-[120px] opacity-40 translate-x-1/2 translate-y-1/2"}),v.jsxs("div",{className:"relative z-10",children:[v.jsxs("h2",{className:"text-7xl md:text-9xl font-black text-white mb-10 tracking-tighter leading-none",children:["Ready to build ",v.jsx("br",{})," something amazing?"]}),v.jsx("p",{className:"text-2xl md:text-4xl text-white/90 mb-16 max-w-5xl mx-auto font-bold leading-tight",children:"Join thousands of students across campuses turning their biggest ideas into reality today."})]})]})})]})}const MA=()=>{};var U0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},VA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},zE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,b=u>>2,T=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,D=y&63;g||(D=64,f||(S=64)),s.push(n[b],n[T],n[S],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(UE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const T=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||T==null)throw new kA;const S=u<<2|m>>4;if(s.push(S),y!==64){const D=m<<4&240|y>>2;if(s.push(D),T!==64){const q=y<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(r){const e=UE(r);return zE.encodeByteArray(e,!0)},dh=function(r){return jA(r).replace(/\./g,"")},BE=function(r){try{return zE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=()=>LA().__FIREBASE_DEFAULTS__,UA=()=>{if(typeof process>"u"||typeof U0>"u")return;const r=U0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&BE(r[1]);return e&&JSON.parse(e)},Mh=()=>{try{return MA()||PA()||UA()||zA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},qE=r=>{var e,n;return(n=(e=Mh())==null?void 0:e.emulatorHosts)==null?void 0:n[r]},BA=r=>{const e=qE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},HE=()=>{var r;return(r=Mh())==null?void 0:r.config},FE=r=>{var e;return(e=Mh())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function GE(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}const jo={};function FA(){const r={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?r.emulator.push(e):r.prod.push(e);return r}function GA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let z0=!1;function QE(r,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||jo[r]===e||jo[r]||z0)return;jo[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=FA().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,D){S.setAttribute("width","24"),S.setAttribute("id",D),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{z0=!0,f()},S}function b(S,D){S.setAttribute("id",D),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=GA(s),D=n("text"),q=document.getElementById(D)||document.createElement("span"),K=n("learnmore"),F=document.getElementById(K)||document.createElement("a"),Q=n("preprendIcon"),ee=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;m(X),b(F,K);const me=y();g(ee,Q),X.append(ee,q,F,me),document.body.appendChild(X)}u?(q.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function YA(){var e;const r=(e=Mh())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function $A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZA(){return!YA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WA(){try{return typeof indexedDB=="object"}catch{return!1}}function e2(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="FirebaseError";class fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=t2,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?n2(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new fr(l,m,s)}}function n2(r,e){return r.replace(i2,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const i2=/\{\$([^}]+)}/g;function r2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(B0(u)&&B0(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function B0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function s2(r,e){const n=new a2(r,e);return n.subscribe.bind(n)}class a2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");l2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=hm),l.error===void 0&&(l.error=hm),l.complete===void 0&&(l.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(r){return r&&r._delegate?r._delegate:r}class $s{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c2(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:u2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u2(r){return r===Hs?void 0:r}function c2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new o2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const f2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},d2=Me.INFO,m2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},p2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=m2[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class up{constructor(e){this.name=e,this._logLevel=d2,this._logHandler=p2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?f2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const g2=(r,e)=>e.some(n=>r instanceof n);let q0,H0;function y2(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _2(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Rm=new WeakMap,KE=new WeakMap,fm=new WeakMap,cp=new WeakMap;function v2(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Zr(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,r)}).catch(()=>{}),cp.set(e,r),e}function E2(r){if(Rm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,e)}let Nm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||KE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function b2(r){Nm=r(Nm)}function T2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dm(this),e,...n);return KE.set(s,e.sort?e.sort():[e]),Zr(s)}:_2().includes(r)?function(...e){return r.apply(dm(this),e),Zr(YE.get(this))}:function(...e){return Zr(r.apply(dm(this),e))}}function x2(r){return typeof r=="function"?T2(r):(r instanceof IDBTransaction&&E2(r),g2(r,y2())?new Proxy(r,Nm):r)}function Zr(r){if(r instanceof IDBRequest)return v2(r);if(fm.has(r))return fm.get(r);const e=x2(r);return e!==r&&(fm.set(r,e),cp.set(e,r)),e}const dm=r=>cp.get(r);function w2(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=Zr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(Zr(f.result),g.oldVersion,g.newVersion,Zr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const S2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],mm=new Map;function F0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=A2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||S2.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return mm.set(e,u),u}b2(r=>({...r,get:(e,n,s)=>F0(e,n)||r.get(e,n,s),has:(e,n)=>!!F0(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function N2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",G0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new up("@firebase/app"),C2="@firebase/app-compat",I2="@firebase/analytics-compat",D2="@firebase/analytics",O2="@firebase/app-check-compat",M2="@firebase/app-check",V2="@firebase/auth",k2="@firebase/auth-compat",j2="@firebase/database",L2="@firebase/data-connect",P2="@firebase/database-compat",U2="@firebase/functions",z2="@firebase/functions-compat",B2="@firebase/installations",q2="@firebase/installations-compat",H2="@firebase/messaging",F2="@firebase/messaging-compat",G2="@firebase/performance",Q2="@firebase/performance-compat",Y2="@firebase/remote-config",K2="@firebase/remote-config-compat",X2="@firebase/storage",$2="@firebase/storage-compat",J2="@firebase/firestore",Z2="@firebase/ai",W2="@firebase/firestore-compat",eR="firebase",tR="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",nR={[Cm]:"fire-core",[C2]:"fire-core-compat",[D2]:"fire-analytics",[I2]:"fire-analytics-compat",[M2]:"fire-app-check",[O2]:"fire-app-check-compat",[V2]:"fire-auth",[k2]:"fire-auth-compat",[j2]:"fire-rtdb",[L2]:"fire-data-connect",[P2]:"fire-rtdb-compat",[U2]:"fire-fn",[z2]:"fire-fn-compat",[B2]:"fire-iid",[q2]:"fire-iid-compat",[H2]:"fire-fcm",[F2]:"fire-fcm-compat",[G2]:"fire-perf",[Q2]:"fire-perf-compat",[Y2]:"fire-rc",[K2]:"fire-rc-compat",[X2]:"fire-gcs",[$2]:"fire-gcs-compat",[J2]:"fire-fst",[W2]:"fire-fst-compat",[Z2]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,iR=new Map,Dm=new Map;function Q0(r,e){try{r.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function rl(r){const e=r.name;if(Dm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of mh.values())Q0(n,r);for(const n of iR.values())Q0(n,r);return!0}function hp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Wn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wr=new iu("app","Firebase",rR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=tR;function XE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Im,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw Wr.create("bad-app-name",{appName:String(l)});if(n||(n=HE()),!n)throw Wr.create("no-options");const u=mh.get(l);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw Wr.create("duplicate-app",{appName:l})}const f=new h2(l);for(const g of Dm.values())f.addComponent(g);const m=new sR(n,s,f);return mh.set(l,m),m}function $E(r=Im){const e=mh.get(r);if(!e&&r===Im&&HE())return XE();if(!e)throw Wr.create("no-app",{appName:r});return e}function es(r,e,n){let s=nR[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(f.join(" "));return}rl(new $s(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="firebase-heartbeat-database",lR=1,Ho="firebase-heartbeat-store";let pm=null;function JE(){return pm||(pm=w2(aR,lR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ho)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wr.create("idb-open",{originalErrorMessage:r.message})})),pm}async function oR(r){try{const n=(await JE()).transaction(Ho),s=await n.objectStore(Ho).get(ZE(r));return await n.done,s}catch(e){if(e instanceof fr)or.warn(e.message);else{const n=Wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}}async function Y0(r,e){try{const s=(await JE()).transaction(Ho,"readwrite");await s.objectStore(Ho).put(e,ZE(r)),await s.done}catch(n){if(n instanceof fr)or.warn(n.message);else{const s=Wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(s.message)}}}function ZE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=1024,cR=30;class hR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=K0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>cR){const f=mR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K0(),{heartbeatsToSend:s,unsentEntries:l}=fR(this._heartbeatsCache.heartbeats),u=dh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return or.warn(n),""}}}function K0(){return new Date().toISOString().substring(0,10)}function fR(r,e=uR){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),X0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),X0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WA()?e2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Y0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X0(r){return dh(JSON.stringify({version:2,heartbeats:r})).length}function mR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(r){rl(new $s("platform-logger",e=>new R2(e),"PRIVATE")),rl(new $s("heartbeat",e=>new hR(e),"PRIVATE")),es(Cm,G0,r),es(Cm,G0,"esm2020"),es("fire-js","")}pR("");var gR="firebase",yR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(gR,yR,"app");function WE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _R=WE,e1=new iu("auth","Firebase",WE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new up("@firebase/auth");function vR(r,...e){ph.logLevel<=Me.WARN&&ph.warn(`Auth (${yl}): ${r}`,...e)}function Zc(r,...e){ph.logLevel<=Me.ERROR&&ph.error(`Auth (${yl}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(r,...e){throw dp(r,...e)}function ni(r,...e){return dp(r,...e)}function fp(r,e,n){const s={..._R(),[e]:n};return new iu("auth","Firebase",s).create(e,{appName:r.name})}function Qs(r){return fp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ER(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&ki(r,"argument-error"),fp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return e1.create(r,...e)}function Ee(r,e,...n){if(!r)throw dp(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zc(e),new Error(e)}function ur(r,e){r||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function bR(){return $0()==="http:"||$0()==="https:"}function $0(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bR()||XA()||"connection"in navigator)?navigator.onLine:!0}function xR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=QA()||$A()}get(){return TR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,e){ur(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AR=new su(3e4,6e4);function pp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function _l(r,e,n,s,l={}){return n1(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return KA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&gl(r.emulatorConfig.host)&&(y.credentials="include"),t1.fetch()(await i1(r,r.config.apiHost,n,m),y)})}async function n1(r,e,n){r._canInitEmulator=!1;const s={...wR,...e};try{const l=new NR(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Fc(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw Fc(r,"user-disabled",f);const b=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw fp(r,b,y);ki(r,b)}}catch(l){if(l instanceof fr)throw l;ki(r,"network-request-failed",{message:String(l)})}}async function RR(r,e,n,s,l={}){const u=await _l(r,e,n,s,l);return"mfaPendingCredential"in u&&ki(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function i1(r,e,n,s){const l=`${e}${n}?${s}`,u=r,f=u.config.emulator?mp(r.config,l):`${r.config.apiScheme}://${l}`;return SR.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class NR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),AR.get())})}}function Fc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ni(r,e,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CR(r,e){return _l(r,"POST","/v1/accounts:delete",e)}async function gh(r,e){return _l(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function IR(r,e=!1){const n=$t(r),s=await n.getIdToken(e),l=gp(s);Ee(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Lo(gm(l.auth_time)),issuedAtTime:Lo(gm(l.iat)),expirationTime:Lo(gm(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function gm(r){return Number(r)*1e3}function gp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const l=BE(n);return l?JSON.parse(l):(Zc("Failed to decode base64 JWT payload"),null)}catch(l){return Zc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function J0(r){const e=gp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fr&&DR(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function DR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lo(this.lastLoginAt),this.creationTime=Lo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){var T;const e=r.auth,n=await r.getIdToken(),s=await Fo(r,gh(e,{idToken:n}));Ee(s==null?void 0:s.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=(T=l.providerUserInfo)!=null&&T.length?r1(l.providerUserInfo):[],f=VR(r.providerData,u),m=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),y=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Mm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function MR(r){const e=$t(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function VR(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function r1(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kR(r,e){const n=await n1(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await i1(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&gl(r.emulatorConfig.host)&&(g.credentials="include"),t1.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jR(r,e){return _l(r,"POST","/v2/accounts:revokeToken",pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):J0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=J0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await kR(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new Wa;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(Ee(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new OR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Mm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Fo(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return IR(this,e)}reload(){return MR(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Fo(this,CR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:T,emailVerified:S,isAnonymous:D,providerData:q,stsTokenManager:K}=n;Ee(T&&K,e,"internal-error");const F=Wa.fromJSON(this.name,K);Ee(typeof T=="string",e,"internal-error"),Qr(s,e.name),Qr(l,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof D=="boolean",e,"internal-error"),Qr(u,e.name),Qr(f,e.name),Qr(m,e.name),Qr(g,e.name),Qr(y,e.name),Qr(b,e.name);const Q=new ti({uid:T,auth:e,email:l,emailVerified:S,displayName:s,isAnonymous:D,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:y,lastLoginAt:b});return q&&Array.isArray(q)&&(Q.providerData=q.map(ee=>({...ee}))),g&&(Q._redirectEventId=g),Q}static async _fromIdTokenResponse(e,n,s=!1){const l=new Wa;l.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];Ee(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?r1(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),m=new Wa;m.updateFromIdToken(s);const g=new ti({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Mm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0=new Map;function sr(r){ur(r instanceof Function,"Expected a class definition");let e=Z0.get(r);return e?(ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Z0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}s1.type="NONE";const W0=s1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r,e,n){return`firebase:${r}:${e}:${n}`}class el{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Wc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new el(sr(W0),e,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||sr(W0);const f=Wc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(f);if(b){let T;if(typeof b=="string"){const S=await gh(e,{idToken:b}).catch(()=>{});if(!S)break;T=await ti._fromGetAccountInfoResponse(e,S,b)}else T=ti._fromJSON(e,b);y!==u&&(m=T),u=y;break}}catch{}const g=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new el(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new el(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(u1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(a1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(h1(e))return"Blackberry";if(f1(e))return"Webos";if(l1(e))return"Safari";if((e.includes("chrome/")||o1(e))&&!e.includes("edge/"))return"Chrome";if(c1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function a1(r=nn()){return/firefox\//i.test(r)}function l1(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function o1(r=nn()){return/crios\//i.test(r)}function u1(r=nn()){return/iemobile/i.test(r)}function c1(r=nn()){return/android/i.test(r)}function h1(r=nn()){return/blackberry/i.test(r)}function f1(r=nn()){return/webos/i.test(r)}function yp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LR(r=nn()){var e;return yp(r)&&!!((e=window.navigator)!=null&&e.standalone)}function PR(){return JA()&&document.documentMode===10}function d1(r=nn()){return yp(r)||c1(r)||f1(r)||h1(r)||/windows phone/i.test(r)||u1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(r,e=[]){let n;switch(r){case"Browser":n=ev(nn());break;case"Worker":n=`${ev(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,e={}){return _l(r,"GET","/v2/passwordPolicy",pp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=6;class qR{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??BR,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tv(this),this.idTokenSubscription=new tv(this),this.beforeStateQueue=new UR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=e1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Wn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=s==null?void 0:s._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Wn(this.app))return Promise.reject(Qs(this));const n=e?$t(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Wn(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zR(this),n=new qR(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await jR(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,l);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=m1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&vR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vh(r){return $t(r)}class tv{constructor(e){this.auth=e,this.observer=null,this.addObserver=s2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FR(r){_p=r}function GR(r){return _p.loadJS(r)}function QR(){return _p.gapiScript}function YR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(r,e){const n=hp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return l;ki(l,"already-initialized")}return n.initialize({options:e})}function XR(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(sr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function $R(r,e,n){const s=Vh(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=p1(e),{host:f,port:m}=JR(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},b=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(Xs(y,s.config.emulator)&&Xs(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,gl(f)?(GE(`${u}//${f}${g}`),QE("Auth",!0)):ZR()}function p1(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function JR(r){const e=p1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:nv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:nv(f)}}}function nv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ZR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(r,e){return RR(r,"POST","/v1/accounts:signInWithIdp",pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="http://localhost";class Js extends g1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ki("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new Js(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,tl(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:WR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends vp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends au{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends au{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends au{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return $r.credential(n,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ti._fromIdTokenResponse(e,s,l),f=iv(s);return new sl({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=iv(s);return new sl({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function iv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends fr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new _h(e,n,s,l)}}function y1(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,s):u})}async function eN(r,e,n=!1){const s=await Fo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sl._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(r,e,n=!1){const{auth:s}=r;if(Wn(s.app))return Promise.reject(Qs(s));const l="reauthenticate";try{const u=await Fo(r,y1(s,l,e,r),n);Ee(u.idToken,s,"internal-error");const f=gp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),sl._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ki(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(r,e,n=!1){if(Wn(r.app))return Promise.reject(Qs(r));const s="signIn",l=await y1(r,s,e),u=await sl._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function iN(r,e,n,s){return $t(r).onIdTokenChanged(e,n,s)}function rN(r,e,n){return $t(r).beforeAuthStateChanged(e,n)}function sN(r){return $t(r).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1e3,lN=10;class v1 extends _1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=d1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);PR()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,lN):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},aN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}v1.type="LOCAL";const oN=v1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1 extends _1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}E1.type="SESSION";const b1=E1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await uN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Ep("",20);l.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(b),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function hN(r){Ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function fN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function mN(){return T1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",pN=1,Eh="firebaseLocalStorage",w1="fbase_key";class lu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,e){return r.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function gN(){const r=indexedDB.deleteDatabase(x1);return new lu(r).toPromise()}function Vm(){const r=indexedDB.open(x1,pN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Eh,{keyPath:w1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Eh)?e(s):(s.close(),await gN(),e(await Vm()))})})}async function rv(r,e,n){const s=jh(r,!0).put({[w1]:e,value:n});return new lu(s).toPromise()}async function yN(r,e){const n=jh(r,!1).get(e),s=await new lu(n).toPromise();return s===void 0?null:s.value}function sv(r,e){const n=jh(r,!0).delete(e);return new lu(n).toPromise()}const _N=800,vN=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>vN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(mN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await fN(),!this.activeServiceWorker)return;this.sender=new cN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vm();return await rv(e,vh,"1"),await sv(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>rv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>yN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=jh(l,!1).getAll();return new lu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const EN=S1;new su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r,e){return e?sr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends g1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bN(r){return nN(r.auth,new bp(r),r.bypassAuthState)}function TN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),tN(n,new bp(r),r.bypassAuthState)}async function xN(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),eN(n,new bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bN;case"linkViaPopup":case"linkViaRedirect":return xN;case"reauthViaPopup":case"reauthViaRedirect":return TN;default:ki(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new su(2e3,1e4);async function SN(r,e,n){if(Wn(r.app))return Promise.reject(ni(r,"operation-not-supported-in-this-environment"));const s=Vh(r);ER(r,e,vp);const l=A1(s,n);return new Fs(s,"signInViaPopup",e,l).executeNotNull()}class Fs extends R1{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wN.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="pendingRedirect",eh=new Map;class RN extends R1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await NN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NN(r,e){const n=DN(e),s=IN(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function CN(r,e){eh.set(r._key(),e)}function IN(r){return sr(r._redirectPersistence)}function DN(r){return Wc(AN,r.config.apiKey,r.name)}async function ON(r,e,n=!1){if(Wn(r.app))return Promise.reject(Qs(r));const s=Vh(r),l=A1(s,e),f=await new RN(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=600*1e3;class VN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!N1(e)){const l=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(ni(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MN&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(e))}saveEventToCache(e){this.cachedEventUids.add(av(e)),this.lastProcessedEventTime=Date.now()}}function av(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function N1({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return N1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(r,e={}){return _l(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function UN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await jN(r);for(const n of e)try{if(zN(n))return}catch{}ki(r,"unauthorized-domain")}function zN(r){const e=Om(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!PN.test(n))return!1;if(LN.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new su(3e4,6e4);function lv(){const r=Ii().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function qN(r){return new Promise((e,n)=>{var l,u,f;function s(){lv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lv(),n(ni(r,"network-request-failed"))},timeout:BN.get()})}if((u=(l=Ii().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=Ii().gapi)!=null&&f.load)s();else{const m=YR("iframefcb");return Ii()[m]=()=>{gapi.load?s():n(ni(r,"network-request-failed"))},GR(`${QR()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw th=null,e})}let th=null;function HN(r){return th=th||qN(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=new su(5e3,15e3),GN="__/auth/iframe",QN="emulator/auth/iframe",YN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XN(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?mp(e,QN):`https://${r.config.authDomain}/${GN}`,s={apiKey:e.apiKey,appName:r.name,v:yl},l=KN.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function $N(r){const e=await HN(r),n=Ii().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:XN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YN,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=ni(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},FN.get());function g(){Ii().clearTimeout(m),l(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZN=500,WN=600,eC="_blank",tC="http://localhost";class ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nC(r,e,n,s=ZN,l=WN){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...JN,width:s.toString(),height:l.toString(),top:u,left:f},y=nn().toLowerCase();n&&(m=o1(y)?eC:n),a1(y)&&(e=e||tC,g.scrollbars="yes");const b=Object.entries(g).reduce((S,[D,q])=>`${S}${D}=${q},`,"");if(LR(y)&&m!=="_self")return iC(e||"",m),new ov(null);const T=window.open(e||"",m,b);Ee(T,r,"popup-blocked");try{T.focus()}catch{}return new ov(T)}function iC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="__/auth/handler",sC="emulator/auth/handler",aC=encodeURIComponent("fac");async function uv(r,e,n,s,l,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:yl,eventId:l};if(e instanceof vp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",r2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))f[b]=T}if(e instanceof au){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(f.scopes=b.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await r._getAppCheckToken(),y=g?`#${aC}=${encodeURIComponent(g)}`:"";return`${lC(r)}?${ru(m).slice(1)}${y}`}function lC({config:r}){return r.emulator?mp(r,sC):`https://${r.authDomain}/${rC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class oC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=ON,this._overrideRedirectResult=CN}async _openPopup(e,n,s,l){var f;ur((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await uv(e,n,s,Om(),l);return nC(e,u,Ep())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await uv(e,n,s,Om(),l);return hN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(ur(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $N(e),s=new VN(e);return n.register("authEvent",l=>(Ee(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},l=>{var f;const u=(f=l==null?void 0:l[0])==null?void 0:f[ym];u!==void 0&&n(!!u),ki(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return d1()||l1()||yp()}}const uC=oC;var cv="@firebase/auth",hv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fC(r){rl(new $s("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:m1(r)},y=new HR(s,l,u,g);return XR(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),rl(new $s("auth-internal",e=>{const n=Vh(e.getProvider("auth").getImmediate());return(s=>new cC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(cv,hv,hC(r)),es(cv,hv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=300,mC=FE("authIdTokenMaxAge")||dC;let fv=null;const pC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mC)return;const l=n==null?void 0:n.token;fv!==l&&(fv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function gC(r=$E()){const e=hp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KR(r,{popupRedirectResolver:uC,persistence:[EN,oN,b1]}),s=FE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=pC(u.toString());rN(n,f,()=>f(n.currentUser)),iN(n,m=>f(m))}}const l=qE("auth");return l&&$R(n,`http://${l}`),n}function yC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}FR({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=ni("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",yC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fC("Browser");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,C1;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function R(){}R.prototype=A.prototype,N.F=A.prototype,N.prototype=new R,N.prototype.constructor=N,N.D=function(k,O,L){for(var C=Array(arguments.length-2),st=2;st<arguments.length;st++)C[st-2]=arguments[st];return A.prototype[O].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,A,R){R||(R=0);const k=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)k[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)k[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=N.g[0],R=N.g[1],O=N.g[2];let L=N.g[3],C;C=A+(L^R&(O^L))+k[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[1]+3905402710&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+k[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[5]+1200080426&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+k[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[9]+2336552879&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(L^R&(O^L))+k[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=L+(O^A&(R^O))+k[13]+4254626195&4294967295,L=A+(C<<12&4294967295|C>>>20),C=O+(R^L&(A^R))+k[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=R+(A^O&(L^A))+k[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(O^L&(R^O))+k[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[6]+3225465664&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+k[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[10]+38016083&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+k[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[14]+3275163606&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^L&(R^O))+k[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=L+(R^O&(A^R))+k[2]+4243563512&4294967295,L=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(L^A))+k[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=R+(L^A&(O^L))+k[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(R^O^L)+k[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[8]+2272392833&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+k[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[4]+1272893353&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+k[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[0]+3936430074&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^L)+k[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=L+(A^R^O)+k[12]+3873151461&4294967295,L=A+(C<<11&4294967295|C>>>21),C=O+(L^A^R)+k[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=R+(O^L^A)+k[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(O^(R|~L))+k[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[7]+1126891415&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+k[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[3]+2399980690&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+k[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[15]+4264355552&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~L))+k[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=L+(R^(A|~O))+k[11]+3174756917&4294967295,L=A+(C<<10&4294967295|C>>>22),C=O+(A^(L|~R))+k[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=R+(L^(O|~A))+k[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.v=function(N,A){A===void 0&&(A=N.length);const R=A-this.blockSize,k=this.C;let O=this.h,L=0;for(;L<A;){if(O==0)for(;L<=R;)l(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<A;)if(k[O++]=N.charCodeAt(L++),O==this.blockSize){l(this,k),O=0;break}}else for(;L<A;)if(k[O++]=N[L++],O==this.blockSize){l(this,k),O=0;break}}this.h=O,this.o+=A},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var R=N.length-8;R<N.length;++R)N[R]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)N[A++]=this.g[R]>>>k&255;return N};function u(N,A){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=A(N)}function f(N,A){this.h=A;const R=[];let k=!0;for(let O=N.length-1;O>=0;O--){const L=N[O]|0;k&&L==A||(R[O]=L,k=!1)}this.g=R}var m={};function g(N){return-128<=N&&N<128?u(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return T;if(N<0)return F(y(-N));const A=[];let R=1;for(let k=0;N>=R;k++)A[k]=N/R|0,R*=4294967296;return new f(A,0)}function b(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return F(b(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let k=T;for(let L=0;L<N.length;L+=8){var O=Math.min(8,N.length-L);const C=parseInt(N.substring(L,L+O),A);O<8?(O=y(Math.pow(A,O)),k=k.j(O).add(y(C))):(k=k.j(R),k=k.add(y(C)))}return k}var T=g(0),S=g(1),D=g(16777216);r=f.prototype,r.m=function(){if(K(this))return-F(this).m();let N=0,A=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);N+=(k>=0?k:4294967296+k)*A,A*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(q(this))return"0";if(K(this))return"-"+F(this).toString(N);const A=y(Math.pow(N,6));var R=this;let k="";for(;;){const O=me(R,A).g;R=Q(R,O.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(N);if(R=O,q(R))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function q(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function K(N){return N.h==-1}r.l=function(N){return N=Q(this,N),K(N)?-1:q(N)?0:1};function F(N){const A=N.g.length,R=[];for(let k=0;k<A;k++)R[k]=~N.g[k];return new f(R,~N.h).add(S)}r.abs=function(){return K(this)?F(this):this},r.add=function(N){const A=Math.max(this.g.length,N.g.length),R=[];let k=0;for(let O=0;O<=A;O++){let L=k+(this.i(O)&65535)+(N.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);k=C>>>16,L&=65535,C&=65535,R[O]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Q(N,A){return N.add(F(A))}r.j=function(N){if(q(this)||q(N))return T;if(K(this))return K(N)?F(this).j(F(N)):F(F(this).j(N));if(K(N))return F(this.j(F(N)));if(this.l(D)<0&&N.l(D)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,R=[];for(var k=0;k<2*A;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let O=0;O<N.g.length;O++){const L=this.i(k)>>>16,C=this.i(k)&65535,st=N.i(O)>>>16,Mt=N.i(O)&65535;R[2*k+2*O]+=C*Mt,ee(R,2*k+2*O),R[2*k+2*O+1]+=L*Mt,ee(R,2*k+2*O+1),R[2*k+2*O+1]+=C*st,ee(R,2*k+2*O+1),R[2*k+2*O+2]+=L*st,ee(R,2*k+2*O+2)}for(N=0;N<A;N++)R[N]=R[2*N+1]<<16|R[2*N];for(N=A;N<2*A;N++)R[N]=0;return new f(R,0)};function ee(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function X(N,A){this.g=N,this.h=A}function me(N,A){if(q(A))throw Error("division by zero");if(q(N))return new X(T,T);if(K(N))return A=me(F(N),A),new X(F(A.g),F(A.h));if(K(A))return A=me(N,F(A)),new X(F(A.g),A.h);if(N.g.length>30){if(K(N)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,k=A;k.l(N)<=0;)R=ge(R),k=ge(k);var O=ye(R,1),L=ye(k,1);for(k=ye(k,2),R=ye(R,2);!q(k);){var C=L.add(k);C.l(N)<=0&&(O=O.add(R),L=C),k=ye(k,1),R=ye(R,1)}return A=Q(N,O.j(A)),new X(O,A)}for(O=T;N.l(A)>=0;){for(R=Math.max(1,Math.floor(N.m()/A.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=y(R),C=L.j(A);K(C)||C.l(N)>0;)R-=k,L=y(R),C=L.j(A);q(L)&&(L=S),O=O.add(L),N=Q(N,C)}return new X(O,N)}r.B=function(N){return me(this,N).h},r.and=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)&N.i(k);return new f(R,this.h&N.h)},r.or=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)|N.i(k);return new f(R,this.h|N.h)},r.xor=function(N){const A=Math.max(this.g.length,N.g.length),R=[];for(let k=0;k<A;k++)R[k]=this.i(k)^N.i(k);return new f(R,this.h^N.h)};function ge(N){const A=N.g.length+1,R=[];for(let k=0;k<A;k++)R[k]=N.i(k)<<1|N.i(k-1)>>>31;return new f(R,N.h)}function ye(N,A){const R=A>>5;A%=32;const k=N.g.length-R,O=[];for(let L=0;L<k;L++)O[L]=A>0?N.i(L+R)>>>A|N.i(L+R+1)<<32-A:N.i(L+R);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,C1=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=b,ts=f}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Oo,D1,nh,km,O1,M1,V1;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gc=="object"&&Gc];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function l(c,p){if(p)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var P=c[w];if(!(P in E))break e;E=E[P]}c=c[c.length-1],w=E[c],p=p(w),p!=w&&p!=null&&e(E,c,{configurable:!0,writable:!0,value:p})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(p){var E=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&E.push([w,p[w]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function g(c,p,E){return c.call.apply(c.bind,arguments)}function y(c,p,E){return y=g,y.apply(null,arguments)}function b(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function T(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,P,G){for(var re=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)re[Se-2]=arguments[Se];return p.prototype[P].apply(w,re)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function D(c){const p=c.length;if(p>0){const E=Array(p);for(let w=0;w<p;w++)E[w]=c[w];return E}return[]}function q(c,p){for(let w=1;w<arguments.length;w++){const P=arguments[w];var E=typeof P;if(E=E!="object"?E:P?Array.isArray(P)?"array":E:"null",E=="array"||E=="object"&&typeof P.length=="number"){E=c.length||0;const G=P.length||0;c.length=E+G;for(let re=0;re<G;re++)c[E+re]=P[re]}else c.push(P)}}class K{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function F(c){f.setTimeout(()=>{throw c},0)}function Q(){var c=N;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ee{constructor(){this.h=this.g=null}add(p,E){const w=X.get();w.set(p,E),this.h?this.h.next=w:this.g=w,this.h=w}}var X=new K(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,ye=!1,N=new ee,A=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(R)}};function R(){for(var c;c=Q();){try{c.h.call(c.g)}catch(E){F(E)}var p=X;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}ye=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,p),f.removeEventListener("test",E,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function st(c,p){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}T(st,O),st.prototype.init=function(c,p){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&st.Z.h.call(this)},st.prototype.h=function(){st.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mt="closure_listenable_"+(Math.random()*1e6|0),J=0;function se(c,p,E,w,P){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!w,this.ha=P,this.key=++J,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,p,E){for(const w in c)p.call(E,c[w],w,c)}function Ge(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function V(c){const p={};for(const E in c)p[E]=c[E];return p}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,p){let E,w;for(let P=1;P<arguments.length;P++){w=arguments[P];for(E in w)c[E]=w[E];for(let G=0;G<ne.length;G++)E=ne[G],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,p,E,w,P){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const re=Re(c,p,w,P);return re>-1?(p=c[re],E||(p.fa=!1)):(p=new se(p,this.src,G,!!w,P),p.fa=E,c.push(p)),p};function be(c,p){const E=p.type;if(E in c.g){var w=c.g[E],P=Array.prototype.indexOf.call(w,p,void 0),G;(G=P>=0)&&Array.prototype.splice.call(w,P,1),G&&(pe(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,p,E,w){for(let P=0;P<c.length;++P){const G=c[P];if(!G.da&&G.listener==p&&G.capture==!!E&&G.ha==w)return P}return-1}var Le="closure_lm_"+(Math.random()*1e6|0),Vt={};function at(c,p,E,w,P){if(Array.isArray(p)){for(let G=0;G<p.length;G++)at(c,p[G],E,w,P);return null}return E=Al(E),c&&c[Mt]?c.J(p,E,m(w)?!!w.capture:!1,P):fs(c,p,E,!1,w,P)}function fs(c,p,E,w,P,G){if(!p)throw Error("Invalid event type");const re=m(P)?!!P.capture:!!P;let Se=ds(c);if(Se||(c[Le]=Se=new ue(c)),E=Se.add(p,E,w,re,G),E.proxy)return E;if(w=sa(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)L||(P=re),P===void 0&&(P=!1),c.addEventListener(p.toString(),w,P);else if(c.attachEvent)c.attachEvent(li(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function sa(){function c(E){return p.call(c.src,c.listener,E)}const p=wl;return c}function aa(c,p,E,w,P){if(Array.isArray(p))for(var G=0;G<p.length;G++)aa(c,p[G],E,w,P);else w=m(w)?!!w.capture:!!w,E=Al(E),c&&c[Mt]?(c=c.i,G=String(p).toString(),G in c.g&&(p=c.g[G],E=Re(p,E,w,P),E>-1&&(pe(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[G],c.h--)))):c&&(c=ds(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Re(p,E,w,P)),(E=c>-1?p[c]:null)&&la(E))}function la(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Mt])be(p.i,c);else{var E=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(E,w,c.capture):p.detachEvent?p.detachEvent(li(E),w):p.addListener&&p.removeListener&&p.removeListener(w),(E=ds(p))?(be(E,c),E.h==0&&(E.src=null,p[Le]=null)):pe(c)}}}function li(c){return c in Vt?Vt[c]:Vt[c]="on"+c}function wl(c,p){if(c.da)c=!0;else{p=new st(p,this);const E=c.listener,w=c.ha||c.src;c.fa&&la(c),c=E.call(w,p)}return c}function ds(c){return c=c[Le],c instanceof ue?c:null}var Sl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Al(c){return typeof c=="function"?c:(c[Sl]||(c[Sl]=function(p){return c.handleEvent(p)}),c[Sl])}function bt(){k.call(this),this.i=new ue(this),this.M=this,this.G=null}T(bt,k),bt.prototype[Mt]=!0,bt.prototype.removeEventListener=function(c,p,E,w){aa(this,c,p,E,w)};function kt(c,p){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new O(p,c);else if(p instanceof O)p.target=p.target||c;else{var P=p;p=new O(w,c),ae(p,P)}P=!0;let G,re;if(E)for(re=E.length-1;re>=0;re--)G=p.g=E[re],P=dr(G,w,!0,p)&&P;if(G=p.g=c,P=dr(G,w,!0,p)&&P,P=dr(G,w,!1,p)&&P,E)for(re=0;re<E.length;re++)G=p.g=E[re],P=dr(G,w,!1,p)&&P}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let w=0;w<E.length;w++)pe(E[w]);delete c.g[p],c.h--}}this.G=null},bt.prototype.J=function(c,p,E,w){return this.i.add(String(c),p,!1,E,w)},bt.prototype.K=function(c,p,E,w){return this.i.add(String(c),p,!0,E,w)};function dr(c,p,E,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let G=0;G<p.length;++G){const re=p[G];if(re&&!re.da&&re.capture==E){const Se=re.listener,gt=re.ha||re.src;re.fa&&be(c.i,re),P=Se.call(gt,w)!==!1&&P}}return P&&!w.defaultPrevented}function rf(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(c,p||0)}function mu(c){c.g=rf(()=>{c.g=null,c.i&&(c.i=!1,mu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class rn extends k{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:mu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){k.call(this),this.h=c,this.g={}}T(ms,k);var Rl=[];function Nl(c){Ue(c.g,function(p,E){this.g.hasOwnProperty(E)&&la(p)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),Nl(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=f.JSON.stringify,sf=f.JSON.parse,pu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function gu(){}function yu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){O.call(this,"d")}T(qt,O);function An(){O.call(this,"c")}T(An,O);var pt={},_u=null;function oa(){return _u=_u||new bt}pt.Ia="serverreachability";function vu(c){O.call(this,pt.Ia,c)}T(vu,O);function oi(c){const p=oa();kt(p,new vu(p))}pt.STAT_EVENT="statevent";function ps(c,p){O.call(this,pt.STAT_EVENT,c),this.stat=p}T(ps,O);function Tt(c){const p=oa();kt(p,new ps(p,c))}pt.Ja="timingevent";function ui(c,p){O.call(this,pt.Ja,c),this.size=p}T(ui,O);function ci(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},p)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function af(c,p,E,w,P,G){c.info(function(){if(c.g)if(G){var re="",Se=G.split("&");for(let qe=0;qe<Se.length;qe++){var gt=Se[qe].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const In=lt.split("_");re=In.length>=2&&In[1]=="type"?re+(lt+"="+gt+"&"):re+(lt+"=redacted&")}}}else re=null;else re=G;return"XMLHTTP REQ ("+w+") [attempt "+P+"]: "+p+`
`+E+`
`+re})}function Eu(c,p,E,w,P,G,re){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+P+"]: "+p+`
`+E+`
`+G+" "+re})}function hi(c,p,E,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+lf(c,E)+(w?" "+w:"")})}function gs(c,p){c.info(function(){return"TIMEOUT: "+p})}qn.prototype.info=function(){};function lf(c,p){if(!c.g)return p;if(!p)return null;try{const G=JSON.parse(p);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var P=w[0];if(P!="noop"&&P!="stop"&&P!="close")for(let re=1;re<w.length;re++)w[re]=""}}}}return mr(G)}catch{return p}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Cl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Il;function _s(){}T(_s,gu),_s.prototype.g=function(){return new XMLHttpRequest},Il=new _s;function Pi(c){return encodeURIComponent(String(c))}function bu(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function Hn(c,p,E,w){this.j=c,this.i=p,this.l=E,this.S=w||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var xt={},Pt={};function fi(c,p,E){c.M=1,c.A=vs(St(p)),c.u=E,c.R=!0,ua(c,null)}function ua(c,p){c.F=Date.now(),di(c),c.B=St(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),da(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Fn,c.g=ju(c.j,E?p:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),p=c.V,E=c.g,w=c.ba;var P="readystatechange";Array.isArray(P)||(P&&(Rl[0]=P.toString()),P=Rl);for(let G=0;G<P.length;G++){const re=at(E,P[G],w||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),oi(),af(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const p=this.O;p&&Yn(c)==3?p.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)e:{const Se=Yn(this.g),gt=this.g.ya(),qe=this.g.ca();if(!(Se<3)&&(Se!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Se!=4||gt==7||(gt==8||qe<=0?oi(3):oi(2)),mi(this);var p=this.g.ca();this.X=p;var E=of(this);if(this.o=p==200,Eu(this.i,this.v,this.B,this.l,this.S,Se,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,P=this.g;if((w=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(w)){var G=w;break t}}G=null}if(c=G)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Tt(12),gn(this),Rn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=xu(this,E),lt==Pt){Se==4&&(this.m=4,Tt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,Tt(15),hi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,lt,null),pi(this,lt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,E,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Gl(re),re.P=!0,Tt(11))}}else hi(this.i,this.l,E,null),pi(this,E);Se==4&&gn(this),this.o&&!this.K&&(Se==4?Ou(this.j,this):(this.o=!1,di(this)))}else zi(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),gn(this),Rn(this)}}}catch{}finally{}};function of(c){if(!Tu(c))return c.g.la();const p=Ht(c.g);if(p==="")return"";let E="";const w=p.length,P=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Rn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<w;G++)c.h.h=!0,E+=c.h.i.decode(p[G],{stream:!(P&&G==w-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function Tu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function xu(c,p){var E=c.C,w=p.indexOf(`
`,E);return w==-1?Pt:(E=Number(p.substring(E,w)),isNaN(E)?xt:(w+=1,w+E>p.length?Pt:(p=p.slice(w,w+E),c.C=w+E,p)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function di(c){c.T=Date.now()+c.H,ca(c,c.H)}function ca(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(y(c.aa,c),p)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(oi(),Tt(17)),gn(this),this.m=2,Rn(this)):ca(this,this.T-c)};function Rn(c){c.j.I==0||c.K||Ou(c.j,c)}function gn(c){mi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,Nl(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function pi(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||yi(E.h,c))){if(!c.L&&yi(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var P=w;if(P[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)_a(E),Tr(E);else break e;As(E),Tt(18)}}else E.xa=P[1],0<E.xa-E.K&&P[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=ci(y(E.Va,E),6e3));gi(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((c.L||E.g==c)&&_a(E),!C(p))for(P=E.Ba.g.parse(p),p=0;p<P.length;p++){let qe=P[p];const lt=qe[0];if(!(lt<=E.K))if(E.K=lt,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const In=qe[3];In!=null&&(E.ka=In,E.j.info("VER="+E.ka));const wi=qe[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const Kn=qe[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(w=1.5*Kn,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Xn=c.g;if(Xn){const Rs=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var G=w.h;G.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Ml(G,G.h),G.h=null))}if(w.G){const va=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;va&&(w.wa=va,Qe(w.J,w.G,va))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var re=c;if(w.na=ku(w,w.L?w.ba:null,w.W),re.L){Vl(w.h,re);var Se=re,gt=w.O;gt&&(Se.H=gt),Se.D&&(mi(Se),di(Se)),w.g=re}else Iu(w);E.i.length>0&&Ti(E)}else qe[0]!="stop"&&qe[0]!="close"||xi(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?xi(E,7):Hl(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}oi(4)}catch{}}var wt=class{constructor(c,p){this.g=c,this.map=p}};function Dl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ol(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ml(c,p){c.g?c.g.add(p):c.h=p}function Vl(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Dl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function kl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return D(c.i)}var wu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ha(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let P,G=null;w>=0?(P=c[E].substring(0,w),G=c[E].substring(w+1)):P=c[E],p(P,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof yn?(this.l=c.l,Ut(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.u),this.h=c.h,jl(this,Nu(c.i)),this.m=c.m):c&&(p=String(c).match(wu))?(this.l=!1,Ut(this,p[1]||"",!0),this.o=_i(p[2]||""),this.g=_i(p[3]||"",!0),pr(this,p[4]),this.h=_i(p[5]||"",!0),jl(this,p[6]||"",!0),this.m=_i(p[7]||"")):(this.l=!1,this.i=new yr(null,this.l))}yn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Es(p,fa,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Es(p,fa,!0),"@"),c.push(Pi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Es(E,E.charAt(0)=="/"?Ll:Su,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Es(E,Au)),c.join("")},yn.prototype.resolve=function(c){const p=St(this);let E=!!c.j;E?Ut(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var w=c.h;if(E)pr(p,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var P=p.h.lastIndexOf("/");P!=-1&&(w=p.h.slice(0,P+1)+w)}if(P=w,P==".."||P==".")w="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){w=P.lastIndexOf("/",0)==0,P=P.split("/");const G=[];for(let re=0;re<P.length;){const Se=P[re++];Se=="."?w&&re==P.length&&G.push(""):Se==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&re==P.length&&G.push("")):(G.push(Se),w=!0)}w=G.join("/")}else w=P}return E?p.h=w:E=c.i.toString()!=="",E?jl(p,Nu(c.i)):E=!!c.m,E&&(p.m=c.m),p};function St(c){return new yn(c)}function Ut(c,p,E){c.j=E?_i(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function jl(c,p,E){p instanceof yr?(c.i=p,ma(c.i,c.l)):(E||(p=Es(p,gr)),c.i=new yr(p,c.l))}function Qe(c,p,E){c.i.set(p,E)}function vs(c){return Qe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,ln),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var fa=/[#\/\?@]/g,Su=/[#\?:]/g,Ll=/[#\?]/g,gr=/[#\?@]/g,Au=/#/g;function yr(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&ha(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}r=yr.prototype,r.add=function(c,p){on(this),this.i=null,c=_r(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function Ru(c,p){on(c),p=_r(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Pl(c,p){return on(c),p=_r(c,p),c.g.has(p)}r.forEach=function(c,p){on(this),this.g.forEach(function(E,w){E.forEach(function(P){c.call(p,P,w,this)},this)},this)};function Ul(c,p){on(c);let E=[];if(typeof p=="string")Pl(c,p)&&(E=E.concat(c.g.get(_r(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}r.set=function(c,p){return on(this),this.i=null,c=_r(this,c),Pl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=Ul(this,c),c.length>0?String(c[0]):p):p};function da(c,p,E){Ru(c,p),E.length>0&&(c.i=null,c.g.set(_r(c,p),D(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var E=p[w];const P=Pi(E);E=Ul(this,E);for(let G=0;G<E.length;G++){let re=P;E[G]!==""&&(re+="="+Pi(E[G])),c.push(re)}}return this.i=c.join("&")};function Nu(c){const p=new yr;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function _r(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function ma(c,p){p&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,w){const P=w.toLowerCase();w!=P&&(Ru(this,w),da(this,P,E))},c)),c.j=p}function Gn(c,p){const E=new qn;if(f.Image){const w=new Image;w.onload=b(Nn,E,"TestLoadImage: loaded",!0,p,w),w.onerror=b(Nn,E,"TestLoadImage: error",!1,p,w),w.onabort=b(Nn,E,"TestLoadImage: abort",!1,p,w),w.ontimeout=b(Nn,E,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function zl(c,p){const E=new qn,w=new AbortController,P=setTimeout(()=>{w.abort(),Nn(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(P),G.ok?Nn(E,"TestPingServer: ok",!0,p):Nn(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Nn(E,"TestPingServer: error",!1,p)})}function Nn(c,p,E,w,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),w(E)}catch{}}function vr(){this.g=new pu}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vi,gu),vi.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,p){bt.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(bs,bt),r=bs.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Er(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function pa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Er(this):Qn(this),this.readyState==3&&pa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Er(this))},r.Na=function(c){this.g&&(this.response=c,Er(this))},r.ga=function(){this.g&&Er(this)};function Er(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,p){this.A.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let p="";return Ue(c,function(E,w){p+=w,p+=":",p+=E,p+=`\r
`}),p}function Ts(c,p,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=Cn(E),typeof c=="string"?E!=null&&Pi(E):Qe(c,p,E))}function $e(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,bt);var Ei=/^https?$/i,Bl=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,p,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Il.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(G){xs(this,G);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var P in w)E.set(P,w[P]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())E.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Bl,p,void 0)>=0)||w||P||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,re]of E)this.g.setRequestHeader(G,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){xs(this,G)}};function xs(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,ql(c),Ui(c)}function ql(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var E;if(!(E=p)){var w;if(w=G===0){let re=String(c.D).match(wu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),w=!Ei.test(re?re.toLowerCase():"")}E=w}if(E)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var P=Yn(c)>2?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.ca()+"]",ql(c)}}finally{Ui(c)}}}}function Ui(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||kt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),sf(p)}};function Ht(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const p={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(C(c[w]))continue;var E=bu(c[w]);const P=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=p[P]||[];p[P]=G,G.push(E)}Ge(p,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function br(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Dl(c&&c.concurrentRequestLimit),this.Ba=new vr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=br.prototype,r.ka=8,r.I=1,r.connect=function(c,p,E,w){Tt(0),this.W=c,this.H=p||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=ku(this,null,this.W),Ti(this)};function Hl(c){if(ga(c),c.I==3){var p=c.V++,E=St(c.J);if(Qe(E,"SID",c.M),Qe(E,"RID",p),Qe(E,"TYPE","terminate"),Ss(c,E),p=new Hn(c,c.j,p),p.M=2,p.A=vs(St(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=p.A,E=!0),E||(p.g=ju(p.j,null),p.g.ea(p.A)),p.F=Date.now(),di(p)}Vu(c)}function Tr(c){c.g&&(Gl(c),c.g.cancel(),c.g=null)}function ga(c){Tr(c),c.v&&(f.clearTimeout(c.v),c.v=null),_a(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Ol(c.h)&&!c.m){c.m=!0;var p=c.Ea;ge||A(),ye||(ge(),ye=!0),N.add(p,c),c.D=0}}function ya(c,p){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(y(c.Ea,c,p),Mu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const P=new Hn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=V(G),ae(G,this.U)):G=this.U),this.u!==null||this.R||(P.J=G,G=null),this.S)e:{for(var p=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=E;break e}if(p===4096||E===this.i.length-1){p=E+1;break e}}p=1e3}else p=1e3;p=Cu(this,P,p),E=St(this.J),Qe(E,"RID",c),Qe(E,"CVER",22),this.G&&Qe(E,"X-HTTP-Session-Id",this.G),Ss(this,E),G&&(this.R?p="headers="+Pi(Cn(G))+"&"+p:this.u&&Ts(E,this.u,G)),Ml(this.h,P),this.Ra&&Qe(E,"TYPE","init"),this.S?(Qe(E,"$req",p),Qe(E,"SID","null"),P.U=!0,fi(P,E,null)):fi(P,E,p),this.I=2}}else this.I==3&&(c?Fl(this,c):this.i.length==0||Ol(this.h)||Fl(this))};function Fl(c,p){var E;p?E=p.l:E=c.V++;const w=St(c.J);Qe(w,"SID",c.M),Qe(w,"RID",E),Qe(w,"AID",c.K),Ss(c,w),c.u&&c.o&&Ts(w,c.u,c.o),E=new Hn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=Cu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ml(c.h,E),fi(E,w,p)}function Ss(c,p){c.H&&Ue(c.H,function(E,w){Qe(p,w,E)}),c.l&&Ue({},function(E,w){Qe(p,w,E)})}function Cu(c,p,E){E=Math.min(c.i.length,E);const w=c.l?y(c.l.Ka,c.l,c):null;e:{var P=c.i;let Se=-1;for(;;){const gt=["count="+E];Se==-1?E>0?(Se=P[0].g,gt.push("ofs="+Se)):Se=0:gt.push("ofs="+Se);let qe=!0;for(let lt=0;lt<E;lt++){var G=P[lt].g;const In=P[lt].map;if(G-=Se,G<0)Se=Math.max(0,P[lt].g-100),qe=!1;else try{G="req"+G+"_"||"";try{var re=In instanceof Map?In:Object.entries(In);for(const[wi,Kn]of re){let Xn=Kn;m(Kn)&&(Xn=mr(Kn)),gt.push(G+wi+"="+encodeURIComponent(Xn))}}catch(wi){throw gt.push(G+"type="+encodeURIComponent("_badmap")),wi}}catch{w&&w(In)}}if(qe){re=gt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),p.G=c,re}function Iu(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;ge||A(),ye||(ge(),ye=!0),N.add(p,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(y(c.Da,c),Mu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Tr(this),Du(this))};function Gl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Du(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=St(c.na);Qe(p,"RID","rpc"),Qe(p,"SID",c.M),Qe(p,"AID",c.K),Qe(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qe(p,"TO",c.ia),Qe(p,"TYPE","xmlhttp"),Ss(c,p),c.u&&c.o&&Ts(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=vs(St(p)),E.u=null,E.R=!0,ua(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Tr(this),As(this),Tt(19))};function _a(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Ou(c,p){var E=null;if(c.g==p){_a(c),Gl(c),c.g=null;var w=2}else if(yi(c.h,p))E=p.G,Vl(c.h,p),w=1;else return;if(c.I!=0){if(p.o)if(w==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var P=c.D;w=oa(),kt(w,new ui(w,E)),Ti(c)}else Iu(c);else if(P=p.m,P==3||P==0&&p.X>0||!(w==1&&ya(c,p)||w==2&&As(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),P){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Mu(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function xi(c,p){if(c.j.info("Error code "+p),p==2){var E=y(c.bb,c),w=c.Ua;const P=!w;w=new yn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ut(w,"https"),vs(w),P?Gn(w.toString(),E):zl(w.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(p),Vu(c),ga(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Vu(c){if(c.I=0,c.ja=[],c.l){const p=kl(c.h);(p.length!=0||c.i.length!=0)&&(q(c.ja,p),q(c.ja,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.oa()}}function ku(c,p,E){var w=E instanceof yn?St(E):new yn(E);if(w.g!="")p&&(w.g=p+"."+w.g),pr(w,w.u);else{var P=f.location;w=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const G=new yn(null);w&&Ut(G,w),p&&(G.g=p),P&&pr(G,P),E&&(G.h=E),w=G}return E=c.G,p=c.wa,E&&p&&Qe(w,E,p),Qe(w,"VER",c.ka),Ss(c,w),w}function ju(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new $e(new vi({ab:E})):new $e(c.ma),p.Fa(c.L),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){bt.call(this),this.g=new br(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Bi(this)}T(sn,bt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Hl(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=mr(c),c=E);p.i.push(new wt(p.Ya++,c)),p.I==3&&Ti(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,Hl(this.g),delete this.g,sn.Z.N.call(this)};function Pu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const E in p){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}T(Pu,qt);function Uu(){An.call(this),this.status=1}T(Uu,An);function Bi(c){this.g=c}T(Bi,Lu),Bi.prototype.ra=function(){kt(this.g,"a")},Bi.prototype.qa=function(c){kt(this.g,new Pu(c))},Bi.prototype.pa=function(c){kt(this.g,new Uu)},Bi.prototype.oa=function(){kt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,V1=function(){return new xr},M1=function(){return oa()},O1=pt,km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,nh=ys,Cl.COMPLETE="complete",D1=Cl,yu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,Oo=yu,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,I1=$e}).apply(typeof Gc<"u"?Gc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new up("@firebase/firestore");function Xa(){return Zs.logLevel}function oe(r,...e){if(Zs.logLevel<=Me.DEBUG){const n=e.map(Tp);Zs.debug(`Firestore (${vl}): ${r}`,...n)}}function cr(r,...e){if(Zs.logLevel<=Me.ERROR){const n=e.map(Tp);Zs.error(`Firestore (${vl}): ${r}`,...n)}}function al(r,...e){if(Zs.logLevel<=Me.WARN){const n=e.map(Tp);Zs.warn(`Firestore (${vl}): ${r}`,...n)}}function Tp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,k1(r,s,n)}function k1(r,e,n){let s=`FIRESTORE (${vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw cr(s),new Error(s)}function Fe(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||k1(e,l,s)}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _C{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class vC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class EC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ns,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await l(this.currentUser)}))},m=g=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ns)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new j1(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class bC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=wC(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return _m(l)===_m(u)?Ve(l,u):_m(l)?1:-1}return Ve(r.length,e.length)}const SC=55296,AC=57343;function _m(r){const e=r.charCodeAt(0);return e>=SC&&e<=AC}function ll(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Ci.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),l=Ci.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ts.fromString(e.substring(4,e.length-2))}}class tt extends Ci{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const RC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ci{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return RC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new Xt([yv])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(tt.fromString(e))}static fromName(e){return new de(tt.fromString(e).popFirst(5))}static empty(){return new de(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(r,e,n){if(!n)throw new le(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function NC(r,e,n,s){if(e===!0&&s===!0)throw new le(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function _v(r){if(!de.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vv(r){if(de.isDocumentKey(r))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function P1(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":ve(12329,{type:typeof r})}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lh(r);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function ou(r,e){if(!P1(r))throw new le(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev=-62135596800,bv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*bv);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ev)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ou(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ev;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Ot("string",rt._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=-1;function CC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new rs(l,de.empty(),e)}function IC(r){return new rs(r.readTime,r.key,Go)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Te.min(),de.empty(),Go)}static max(){return new rs(Te.max(),de.empty(),Go)}}function DC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==OC)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(g=>s(g)))})),f=!0,u===l&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((l=>l?ie.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((b=>{f[y]=b,++m,m===u&&s(f)}),(b=>l(b)))}}))}static doWhile(e,n){return new ie(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function VC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bl(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ph.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=-1;function Uh(r){return r==null}function bh(r){return r===0&&1/r==-1/0}function kC(r){return typeof r=="number"&&Number.isInteger(r)&&!bh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="";function jC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Tv(e)),e=LC(r.get(n),e);return Tv(e)}function LC(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case U1:n+="";break;default:n+=u}}return n}function Tv(r){return r+U1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function cs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function z1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qc(this.root,e,this.comparator,!0)}}class Qc{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=l??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Kt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Kt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(e){return new wv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class wv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Sn([])}unionWith(e){let n=new Lt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Sn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new B1("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const PC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=PC.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="server_timestamp",H1="__type__",F1="__previous_value__",G1="__local_write_time__";function Sp(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[H1])==null?void 0:s.stringValue)===q1}function zh(r){const e=r.mapValue.fields[F1];return Sp(e)?zh(e):e}function Qo(r){const e=ss(r.mapValue.fields[G1].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,s,l,u,f,m,g,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=b}}const Th="(default)";class Yo{constructor(e,n){this.projectId=e,this.database=n||Th}static empty(){return new Yo("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="__type__",zC="__max__",Yc={mapValue:{}},Y1="__vector__",xh="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Sp(r)?4:qC(r)?9007199254740991:BC(r)?10:11:ve(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=ls(r);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Qo(r).isEqual(Qo(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=ss(l.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return as(l.bytesValue).isEqual(as(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return vt(l.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(l.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return vt(l.integerValue)===vt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=vt(l.doubleValue),m=vt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ll(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(xv(f)!==xv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!ji(f[g],m[g])))return!1;return!0})(r,e);default:return ve(52216,{left:r})}}function Ko(r,e){return(r.values||[]).find((n=>ji(n,e)))!==void 0}function ol(r,e){if(r===e)return 0;const n=ls(r),s=ls(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),g=vt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(r,e);case 3:return Sv(r.timestampValue,e.timestampValue);case 4:return Sv(Qo(r),Qo(e));case 5:return jm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=as(u),g=as(f);return m.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const b=Ve(m[y],g[y]);if(b!==0)return b}return Ve(m.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(vt(u.latitude),vt(f.latitude));return m!==0?m:Ve(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Av(r.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,D,q,K;const m=u.fields||{},g=f.fields||{},y=(S=m[xh])==null?void 0:S.arrayValue,b=(D=g[xh])==null?void 0:D.arrayValue,T=Ve(((q=y==null?void 0:y.values)==null?void 0:q.length)||0,((K=b==null?void 0:b.values)==null?void 0:K.length)||0);return T!==0?T:Av(y,b)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},b=Object.keys(y);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const S=jm(g[T],b[T]);if(S!==0)return S;const D=ol(m[g[T]],y[b[T]]);if(D!==0)return D}return Ve(g.length,b.length)})(r.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function Sv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ss(r),s=ss(e),l=Ve(n.seconds,s.seconds);return l!==0?l:Ve(n.nanos,s.nanos)}function Av(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=ol(n[l],s[l]);if(u)return u}return Ve(n.length,s.length)}function ul(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return as(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Lm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Lm(n.fields[f])}`;return l+"}"})(r.mapValue):ve(61005,{value:r})}function ih(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(r);return e?16+ih(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+ih(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return cs(s.fields,((u,f)=>{l+=u.length+ih(f)})),l})(r.mapValue);default:throw ve(13486,{value:r})}}function Rv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Pm(r){return!!r&&"integerValue"in r}function Ap(r){return!!r&&"arrayValue"in r}function Nv(r){return!!r&&"nullValue"in r}function Cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function rh(r){return!!r&&"mapValue"in r}function BC(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[Q1])==null?void 0:s.stringValue)===Y1}function Po(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return cs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Po(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Po(r.arrayValue.values[n]);return e}return{...r}}function qC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(n)}setAll(e){let n=Xt.emptyPath(),s={},l=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=Po(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];rh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){cs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new pn(Po(this.value))}}function K1(r){const e=[];return cs(r.fields,((n,s)=>{const l=new Xt([n]);if(rh(s)){const u=K1(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new Sn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Te.min(),Te.min(),Te.min(),pn.empty(),0)}static newFoundDocument(e,n,s,l){return new tn(e,1,n,Te.min(),s,l,0)}static newNoDocument(e,n){return new tn(e,2,n,Te.min(),Te.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Te.min(),Te.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n){this.position=e,this.inclusive=n}}function Iv(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=ol(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Dv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n="asc"){this.field=e,this.dir=n}}function HC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{}class Dt extends X1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new GC(e,n,s):n==="array-contains"?new KC(e,s):n==="in"?new XC(e,s):n==="not-in"?new $C(e,s):n==="array-contains-any"?new JC(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new QC(e,s):new YC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ol(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(ol(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends X1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return $1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $1(r){return r.op==="and"}function J1(r){return FC(r)&&$1(r)}function FC(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function Um(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+ul(r.value);if(J1(r))return r.filters.map((e=>Um(e))).join(",");{const e=r.filters.map((n=>Um(n))).join(",");return`${r.op}(${e})`}}function Z1(r,e){return r instanceof Dt?(function(s,l){return l instanceof Dt&&s.op===l.op&&s.field.isEqual(l.field)&&ji(s.value,l.value)})(r,e):r instanceof ai?(function(s,l){return l instanceof ai&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,m)=>u&&Z1(f,l.filters[m])),!0):!1})(r,e):void ve(19439)}function W1(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(W1).join(" ,")+"}"})(r):"Filter"}class GC extends Dt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class QC extends Dt{constructor(e,n){super(e,"in",n),this.keys=eb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class YC extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=eb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function eb(r,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>de.fromName(s.referenceValue)))}class KC extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ap(n)&&Ko(n.arrayValue,this.value)}}class XC extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ko(this.value.arrayValue,n)}}class $C extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ko(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ko(this.value.arrayValue,n)}}class JC extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ap(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>Ko(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Ov(r,e=null,n=[],s=[],l=null,u=null,f=null){return new ZC(r,e,n,s,l,u,f)}function Rp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Um(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>ul(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>ul(s))).join(",")),e.Te=n}return e.Te}function Np(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!HC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Z1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Dv(r.startAt,e.startAt)&&Dv(r.endAt,e.endAt)}function zm(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WC(r,e,n,s,l,u,f,m){return new Tl(r,e,n,s,l,u,f,m)}function Bh(r){return new Tl(r)}function Mv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function tb(r){return r.collectionGroup!==null}function Uo(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Xt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Xo(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new Xo(Xt.keyField(),s))}return e.Ie}function Di(r){const e=we(r);return e.Ee||(e.Ee=eI(e,Uo(r))),e.Ee}function eI(r,e){if(r.limitType==="F")return Ov(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Xo(l.field,u)}));const n=r.endAt?new wh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new wh(r.startAt.position,r.startAt.inclusive):null;return Ov(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Bm(r,e){const n=r.filters.concat([e]);return new Tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function qm(r,e,n){return new Tl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function qh(r,e){return Np(Di(r),Di(e))&&r.limitType===e.limitType}function nb(r){return`${Rp(Di(r))}|lt:${r.limitType}`}function $a(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>W1(l))).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>ul(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>ul(l))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Hh(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Uo(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,m,g){const y=Iv(f,m,g);return f.inclusive?y<=0:y<0})(s.startAt,Uo(s),l)||s.endAt&&!(function(f,m,g){const y=Iv(f,m,g);return f.inclusive?y>=0:y>0})(s.endAt,Uo(s),l))})(r,e)}function tI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ib(r){return(e,n)=>{let s=!1;for(const l of Uo(r)){const u=nI(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function nI(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?ol(g,y):ve(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return z1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new ct(de.comparator);function hr(){return iI}const rb=new ct(de.comparator);function Mo(...r){let e=rb;for(const n of r)e=e.insert(n.key,n);return e}function sb(r){let e=rb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Gs(){return zo()}function ab(){return zo()}function zo(){return new na((r=>r.toString()),((r,e)=>r.isEqual(e)))}const rI=new ct(de.comparator),sI=new Lt(de.comparator);function ke(...r){let e=sI;for(const n of r)e=e.add(n);return e}const aI=new Lt(Ve);function lI(){return aI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function lb(r){return{integerValue:""+r}}function oI(r,e){return kC(e)?lb(e):Cp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function uI(r,e,n){return r instanceof $o?(function(l,u){const f={fields:{[H1]:{stringValue:q1},[G1]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Sp(u)&&(u=zh(u)),u&&(f.fields[F1]=u),{mapValue:f}})(n,e):r instanceof Jo?ub(r,e):r instanceof Zo?cb(r,e):(function(l,u){const f=ob(l,u),m=Vv(f)+Vv(l.Ae);return Pm(f)&&Pm(l.Ae)?lb(m):Cp(l.serializer,m)})(r,e)}function cI(r,e,n){return r instanceof Jo?ub(r,e):r instanceof Zo?cb(r,e):n}function ob(r,e){return r instanceof Sh?(function(s){return Pm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class $o extends Fh{}class Jo extends Fh{constructor(e){super(),this.elements=e}}function ub(r,e){const n=hb(e);for(const s of r.elements)n.some((l=>ji(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Zo extends Fh{constructor(e){super(),this.elements=e}}function cb(r,e){let n=hb(e);for(const s of r.elements)n=n.filter((l=>!ji(l,s)));return{arrayValue:{values:n}}}class Sh extends Fh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Vv(r){return vt(r.integerValue||r.doubleValue)}function hb(r){return Ap(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.field=e,this.transform=n}}function fI(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof Jo&&l instanceof Jo||s instanceof Zo&&l instanceof Zo?ll(s.elements,l.elements,ji):s instanceof Sh&&l instanceof Sh?ji(s.Ae,l.Ae):s instanceof $o&&l instanceof $o})(r.transform,e.transform)}class dI{constructor(e,n){this.version=e,this.transformResults=n}}class ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ri}static exists(e){return new ri(void 0,e)}static updateTime(e){return new ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gh{}function fb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new mb(r.key,ri.none()):new uu(r.key,r.data,ri.none());{const n=r.data,s=pn.empty();let l=new Lt(Xt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new hs(r.key,s,new Sn(l.toArray()),ri.none())}}function mI(r,e,n){r instanceof uu?(function(l,u,f){const m=l.value.clone(),g=jv(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof hs?(function(l,u,f){if(!sh(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=jv(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(db(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Bo(r,e,n,s){return r instanceof uu?(function(u,f,m,g){if(!sh(u.precondition,f))return m;const y=u.value.clone(),b=Lv(u.fieldTransforms,g,f);return y.setAll(b),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof hs?(function(u,f,m,g){if(!sh(u.precondition,f))return m;const y=Lv(u.fieldTransforms,g,f),b=f.data;return b.setAll(db(u)),b.setAll(y),f.convertToFoundDocument(f.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return sh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function pI(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=ob(s.transform,l||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function kv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ll(s,l,((u,f)=>fI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uu extends Gh{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class hs extends Gh{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function db(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function jv(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,cI(f,m,n[l]))}return s}function Lv(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,uI(u,f,e))}return s}class mb extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gI extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&mI(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bo(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bo(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ab();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const g=fb(f,m);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ke())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,((n,s)=>kv(n,s)))&&ll(this.baseMutations,e.baseMutations,((n,s)=>kv(n,s)))}}class Ip{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return rI})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Ip(e,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Pe;function EI(r){switch(r){case W.OK:return ve(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ve(15467,{code:r})}}function pb(r){if(r===void 0)return cr("GRPC error has no .code"),W.UNKNOWN;switch(r){case It.OK:return W.OK;case It.CANCELLED:return W.CANCELLED;case It.UNKNOWN:return W.UNKNOWN;case It.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case It.INTERNAL:return W.INTERNAL;case It.UNAVAILABLE:return W.UNAVAILABLE;case It.UNAUTHENTICATED:return W.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case It.NOT_FOUND:return W.NOT_FOUND;case It.ALREADY_EXISTS:return W.ALREADY_EXISTS;case It.PERMISSION_DENIED:return W.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case It.ABORTED:return W.ABORTED;case It.OUT_OF_RANGE:return W.OUT_OF_RANGE;case It.UNIMPLEMENTED:return W.UNIMPLEMENTED;case It.DATA_LOSS:return W.DATA_LOSS;default:return ve(39323,{code:r})}}(Pe=It||(It={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new ts([4294967295,4294967295],0);function Pv(r){const e=bI().encode(r),n=new C1;return n.update(e),new Uint8Array(n.digest())}function Uv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ts([n,s],0),new ts([l,u],0)]}class Dp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vo(`Invalid padding: ${n}`);if(s<0)throw new Vo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ts.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(ts.fromNumber(s)));return l.compare(TI)===1&&(l=new ts([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Pv(e),[s,l]=Uv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Dp(u,l,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Pv(e),[s,l]=Uv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Qh(Te.min(),l,new ct(Ve),hr(),ke())}}class cu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class gb{constructor(e,n){this.targetId=e,this.Ce=n}}class yb{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class zv{constructor(){this.ve=0,this.Fe=Bv(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ve(38017,{changeType:u})}})),new cu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Bv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xI{constructor(e){this.Ge=e,this.ze=new Map,this.je=hr(),this.Je=Kc(),this.He=Kc(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(zm(u))if(s===0){const f=new de(u.path);this.et(n,f,tn.newNoDocument(f,Te.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(g){if(g instanceof B1)return al("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Dp(f,l,u)}catch(g){return al(g instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&zm(m.target)){const g=new de(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,tn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ke();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new Qh(e,n,this.Ye,this.je,s);return this.je=hr(),this.Je=Kc(),this.He=Kc(),this.Ye=new ct(Ve),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new zv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Lt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Lt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new ct(de.comparator)}function Bv(){return new ct(de.comparator)}const wI={asc:"ASCENDING",desc:"DESCENDING"},SI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AI={and:"AND",or:"OR"};class RI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function Ah(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _b(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NI(r,e){return Ah(r,e.toTimestamp())}function Oi(r){return Fe(!!r,49232),Te.fromTimestamp((function(n){const s=ss(n);return new rt(s.seconds,s.nanos)})(r))}function Op(r,e){return Fm(r,e).canonicalString()}function Fm(r,e){const n=(function(l){return new tt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function vb(r){const e=tt.fromString(r);return Fe(wb(e),10190,{key:e.toString()}),e}function Gm(r,e){return Op(r.databaseId,e.path)}function vm(r,e){const n=vb(e);if(n.get(1)!==r.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(bb(n))}function Eb(r,e){return Op(r.databaseId,e)}function CI(r){const e=vb(r);return e.length===4?tt.emptyPath():bb(e)}function Qm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function bb(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function qv(r,e,n){return{name:Gm(r,e),fields:n.value.mapValue.fields}}function II(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Fe(b===void 0||typeof b=="string",58123),Jt.fromBase64String(b||"")):(Fe(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Jt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const b=y.code===void 0?W.UNKNOWN:pb(y.code);return new le(b,y.message||"")})(f);n=new yb(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=vm(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Te.min(),m=new pn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(l,u,f,m),y=s.targetIds||[],b=s.removedTargetIds||[];n=new ah(y,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=vm(r,s.document),u=s.readTime?Oi(s.readTime):Te.min(),f=tn.newNoDocument(l,u),m=s.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=vm(r,s.document),u=s.removedTargetIds||[];n=new ah([],u,l,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new vI(l,u),m=s.targetId;n=new gb(m,f)}}return n}function DI(r,e){let n;if(e instanceof uu)n={update:qv(r,e.key,e.value)};else if(e instanceof mb)n={delete:Gm(r,e.key)};else if(e instanceof hs)n={update:qv(r,e.key,e.data),updateMask:zI(e.fieldMask)};else{if(!(e instanceof gI))return ve(16599,{Vt:e.type});n={verify:Gm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof $o)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zo)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Sh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:NI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)})(r,e.precondition)),n}function OI(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Oi(l.updateTime):Oi(u);return f.isEqual(Te.min())&&(f=Oi(u)),new dI(f,l.transformResults||[])})(n,e)))):[]}function MI(r,e){return{documents:[Eb(r,e.path)]}}function VI(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Eb(r,l);const u=(function(y){if(y.length!==0)return xb(ai.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((b=>(function(S){return{field:Ja(S.field),direction:LI(S.dir)}})(b)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Hm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:l}}function kI(r){let e=CI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Fe(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(T){const S=Tb(T);return S instanceof ai&&J1(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((S=>(function(q){return new Xo(Za(q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let S;return S=typeof T=="object"?T.value:T,Uh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(T){const S=!!T.before,D=T.values||[];return new wh(D,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(T){const S=!T.before,D=T.values||[];return new wh(D,S)})(n.endAt)),WC(e,l,f,u,m,"F",g,y)}function jI(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Tb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Za(n.unaryFilter.field);return Dt.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(Za(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>Tb(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ve(1026)}})(n.compositeFilter.op))})(r):ve(30097,{filter:r})}function LI(r){return wI[r]}function PI(r){return SI[r]}function UI(r){return AI[r]}function Ja(r){return{fieldPath:r.canonicalString()}}function Za(r){return Xt.fromServerFormat(r.fieldPath)}function xb(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(Cv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(Nv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(Nv(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:PI(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((l=>xb(l)));return s.length===1?s[0]:{compositeFilter:{op:UI(n.op),filters:s}}})(r):ve(54877,{filter:r})}function zI(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function wb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,l,u=Te.min(),f=Te.min(),m=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e){this.yt=e}}function qI(r){const e=kI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.Cn=new FI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(rs.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class FI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Lt(tt.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Lt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Sb=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(Sb,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cl(0)}static cr(){return new cl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LruGarbageCollector",GI=1048576;function Gv([r,e],[n,s]){const l=Ve(r,n);return l===0?Ve(e,s):l}class QI{constructor(e){this.Ir=e,this.buffer=new Lt(Gv),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Gv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Fv,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bl(n)?oe(Fv,"Ignoring IndexedDB error during garbage collection: ",n):await El(n)}await this.Vr(3e5)}))}}class KI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Ph.ce);const s=new QI(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Hv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hv):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,m,g,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),l=this.params.maximumSequenceNumbersToCollect):l=T,f=Date.now(),this.nthSequenceNumber(e,l)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(y=Date.now(),Xa()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-b}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(y-g)+`ms
Total Duration: ${y-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:T}))))}}function XI(r,e){return new KI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this.changes=new na((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&Bo(s.mutation,l,Sn.empty(),rt.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ke()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ke()){const l=Gs();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=Mo();return u.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Gs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ke())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,l){let u=hr();const f=zo(),m=(function(){return zo()})();return n.forEach(((g,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof hs)?u=u.insert(y.key,y):b!==void 0?(f.set(y.key,b.mutation.getFieldMask()),Bo(b.mutation,y,b.mutation.getFieldMask(),rt.now())):f.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,b)=>f.set(y,b))),n.forEach(((y,b)=>m.set(y,new JI(b,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=zo();let l=new ct(((f,m)=>f-m)),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let b=s.get(g)||Sn.empty();b=m.applyToLocalView(y,b),s.set(g,b);const T=(l.get(m.batchId)||ke()).add(g);l=l.insert(m.batchId,T)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,b=g.value,T=ab();b.forEach((S=>{if(!u.has(S)){const D=fb(n.get(S),s.get(S));D!==null&&T.set(S,D),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,T))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):ie.resolve(Gs());let m=Go,g=u;return f.next((y=>ie.forEach(y,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next((S=>{g=g.insert(b,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ke()))).next((b=>({batchId:m,changes:sb(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let l=Mo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=Mo();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(g=>{const y=(function(T,S){return new Tl(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next((b=>{b.forEach(((T,S)=>{f=f.insert(T,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((g,y)=>{const b=y.getKey();f.get(b)===null&&(f=f.insert(b,tn.newInvalidDocument(b)))}));let m=Mo();return f.forEach(((g,y)=>{const b=u.get(g);b!==void 0&&Bo(b.mutation,y,Sn.empty(),rt.now()),Hh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:qI(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(){this.overlays=new ct(de.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Gs();return ie.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const l=Gs(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return ie.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ct(((y,b)=>y-b));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Gs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=Gs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=l)););return ie.resolve(m)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new _I(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(){this.Qr=new Lt(Bt.$r),this.Ur=new Lt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new tt([])),s=new Bt(n,e),l=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new tt([])),s=new Bt(n,e),l=new Bt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Lt(Bt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new yI(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Zr=this.Zr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?wp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),l=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(Ve);return n.forEach((l=>{const u=new Bt(l,0),f=new Bt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new de(u),0);let m=new Lt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Yr)),!0)}),f),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(l=>{const u=new Bt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),l=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e){this.ri=e,this.docs=(function(){return new ct(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():tn.newInvalidDocument(l))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=hr();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:b}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||DC(IC(b),s)<=0||(l.has(b.key)||Hh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,l){ve(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new r4(this)}getSize(e){return ie.resolve(this.size)}}class r4 extends $I{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e){this.persistence=e,this.si=new na((n=>Rp(n)),Np),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Mp,this.targetCount=0,this.ai=cl.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new cl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),ie.waitFor(u).next((()=>l))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,n){this.ui={},this.overlays={},this.ci=new Ph(0),this.li=!1,this.li=!0,this.hi=new t4,this.referenceDelegate=e(this),this.Pi=new s4(this),this.indexManager=new HI,this.remoteDocumentCache=(function(l){return new i4(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new BI(n),this.Ii=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new e4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new n4(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const l=new a4(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class a4 extends MC{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Ri=new Mp,this.Vi=null}static mi(e){return new Vp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const l=de.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Rh{constructor(e,n){this.persistence=e,this.pi=new na((s=>jC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=XI(this,n)}static mi(e,n){return new Rh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?ie.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ie.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=ke(),l=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new kp(e,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZA()?8:VC(nn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new l4;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(Xa()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",$a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Xa()<=Me.DEBUG&&oe("QueryEngine","Query:",$a(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Xa()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",$a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ie.resolve())}ys(e,n){if(Mv(n))return ie.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=qm(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,qm(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,l){return Mv(n)||l.isEqual(Te.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?ie.resolve(null):(Xa()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),$a(n)),this.vs(e,f,n,CC(l,Go)).next((m=>m)))}))}Ds(e,n){let s=new Lt(ib(e));return n.forEach(((l,u)=>{Hh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return Xa()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",$a(n)),this.ps.getDocumentsMatchingQuery(e,n,rs.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jp="LocalStore",u4=3e8;class c4{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ct(Ve),this.xs=new na((u=>Rp(u)),Np),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function h4(r,e,n,s){return new c4(r,e,n,s)}async function Rb(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let g=ke();for(const y of l){f.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)g=g.add(b.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function f4(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,b){const T=y.batch,S=T.keys();let D=ie.resolve();return S.forEach((q=>{D=D.next((()=>b.getEntry(g,q))).next((K=>{const F=y.docVersions.get(q);Fe(F!==null,48541),K.version.compareTo(F)<0&&(T.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),b.addEntry(K)))}))})),D.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=ke();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function Nb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function d4(r,e){const n=we(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const m=[];e.targetChanges.forEach(((b,T)=>{const S=l.get(T);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,T))));let D=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(b.resumeToken,s)),l=l.insert(T,D),(function(K,F,Q){return K.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=u4?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(S,D,b)&&m.push(n.Pi.updateTargetData(u,D))}));let g=hr(),y=ke();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(m4(u,f,e.documentUpdates).next((b=>{g=b.ks,y=b.qs}))),!s.isEqual(Te.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(b)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=l,u)))}function m4(r,e,n){let s=ke(),l=ke();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=hr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):oe(jp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:l}}))}function p4(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function g4(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,ie.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Ym(r,e,n){const s=we(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!bl(f))throw f;oe(jp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function Qv(r,e,n){const s=we(r);let l=Te.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,b){const T=we(g),S=T.xs.get(b);return S!==void 0?ie.resolve(T.Ms.get(S)):T.Pi.getTargetData(y,b)})(s,f,Di(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:Te.min(),n?u:ke()))).next((m=>(y4(s,tI(e),m),{documents:m,Qs:u})))))}function y4(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class Yv{constructor(){this.activeTargetIds=lI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _4{constructor(){this.Mo=new Yv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Yv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv="ConnectivityMonitor";class Xv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(Kv,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(Kv,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Km(){return Xc===null?Xc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="RestConnection",E4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class b4{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Th?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=Km(),m=this.zo(e,n.toUriEncodedString());oe(Em,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,l,u);const{host:y}=new URL(m),b=gl(y);return this.Jo(e,m,g,s,b).then((T=>(oe(Em,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw al(Em,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=E4[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class x4 extends b4{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=Km();return new Promise(((m,g)=>{const y=new I1;y.setWithCredentials(!0),y.listenOnce(D1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const T=y.getResponseJson();oe(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case nh.TIMEOUT:oe(Wt,`RPC '${e}' ${f} timed out`),g(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=y.getStatus();if(oe(Wt,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let D=y.getResponseJson();Array.isArray(D)&&(D=D[0]);const q=D==null?void 0:D.error;if(q&&q.status&&q.message){const K=(function(Q){const ee=Q.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ee)>=0?ee:W.UNKNOWN})(q.status);g(new le(K,q.message))}else g(new le(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(W.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{oe(Wt,`RPC '${e}' ${f} completed.`)}}));const b=JSON.stringify(l);oe(Wt,`RPC '${e}' ${f} sending request:`,l),y.send(n,"POST",b,s,15)}))}T_(e,n,s){const l=Km(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=V1(),m=M1(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const b=u.join("");oe(Wt,`Creating RPC '${e}' stream ${l}: ${b}`,g);const T=f.createWebChannel(b,g);this.I_(T);let S=!1,D=!1;const q=new T4({Yo:F=>{D?oe(Wt,`Not sending because RPC '${e}' stream ${l} is closed:`,F):(S||(oe(Wt,`Opening RPC '${e}' stream ${l} transport.`),T.open(),S=!0),oe(Wt,`RPC '${e}' stream ${l} sending:`,F),T.send(F))},Zo:()=>T.close()}),K=(F,Q,ee)=>{F.listen(Q,(X=>{try{ee(X)}catch(me){setTimeout((()=>{throw me}),0)}}))};return K(T,Oo.EventType.OPEN,(()=>{D||(oe(Wt,`RPC '${e}' stream ${l} transport opened.`),q.o_())})),K(T,Oo.EventType.CLOSE,(()=>{D||(D=!0,oe(Wt,`RPC '${e}' stream ${l} transport closed`),q.a_(),this.E_(T))})),K(T,Oo.EventType.ERROR,(F=>{D||(D=!0,al(Wt,`RPC '${e}' stream ${l} transport errored. Name:`,F.name,"Message:",F.message),q.a_(new le(W.UNAVAILABLE,"The operation could not be completed")))})),K(T,Oo.EventType.MESSAGE,(F=>{var Q;if(!D){const ee=F.data[0];Fe(!!ee,16349);const X=ee,me=(X==null?void 0:X.error)||((Q=X[0])==null?void 0:Q.error);if(me){oe(Wt,`RPC '${e}' stream ${l} received error:`,me);const ge=me.status;let ye=(function(R){const k=It[R];if(k!==void 0)return pb(k)})(ge),N=me.message;ye===void 0&&(ye=W.INTERNAL,N="Unknown error status: "+ge+" with message "+me.message),D=!0,q.a_(new le(ye,N)),T.close()}else oe(Wt,`RPC '${e}' stream ${l} received:`,ee),q.u_(ee)}})),K(m,O1.STAT_EVENT,(F=>{F.stat===km.PROXY?oe(Wt,`RPC '${e}' stream ${l} detected buffering proxy`):F.stat===km.NOPROXY&&oe(Wt,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function bm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(r){return new RI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="PersistentStream";class Ib{constructor(e,n,s,l,u,f,m,g){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Cb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new le(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe($v,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w4 extends Ib{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=II(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Oi(f.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Qm(this.serializer),n.addTarget=(function(u,f){let m;const g=f.target;if(m=zm(g)?{documents:MI(u,g)}:{query:VI(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_b(u,f.resumeToken);const y=Hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Ah(u,f.snapshotVersion.toTimestamp());const y=Hm(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=jI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Qm(this.serializer),n.removeTarget=e,this.q_(n)}}class S4 extends Ib{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=OI(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Qm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>DI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{}class R4 extends A4{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Fm(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Fm(n,s),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(cr(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class C4{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ia(this)&&(oe(Ws,"Restarting streams for network reachability change."),await(async function(g){const y=we(g);y.Ea.add(4),await hu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Kh(y)})(this))}))})),this.Ra=new N4(s,l)}}async function Kh(r){if(ia(r))for(const e of r.da)await e(!0)}async function hu(r){for(const e of r.da)await e(!1)}function Db(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zp(n)?Up(n):xl(n).O_()&&Pp(n,e))}function Lp(r,e){const n=we(r),s=xl(n);n.Ia.delete(e),s.O_()&&Ob(n,e),n.Ia.size===0&&(s.O_()?s.L_():ia(n)&&n.Ra.set("Unknown"))}function Pp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(r).Y_(e)}function Ob(r,e){r.Va.Ue(e),xl(r).Z_(e)}function Up(r){r.Va=new xI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xl(r).start(),r.Ra.ua()}function zp(r){return ia(r)&&!xl(r).x_()&&r.Ia.size>0}function ia(r){return we(r).Ea.size===0}function Mb(r){r.Va=void 0}async function I4(r){r.Ra.set("Online")}async function D4(r){r.Ia.forEach(((e,n)=>{Pp(r,e)}))}async function O4(r,e){Mb(r),zp(r)?(r.Ra.ha(e),Up(r)):r.Ra.set("Unknown")}async function M4(r,e,n){if(r.Ra.set("Online"),e instanceof yb&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.Va.removeTarget(m))})(r,e)}catch(s){oe(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(r,s)}else if(e instanceof ah?r.Va.Ze(e):e instanceof gb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await Nb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const b=u.Ia.get(g);if(!b)return;u.Ia.set(g,b.withResumeToken(Jt.EMPTY_BYTE_STRING,b.snapshotVersion)),Ob(u,g);const T=new Jr(b.target,g,y,b.sequenceNumber);Pp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){oe(Ws,"Failed to raise snapshot:",s),await Nh(r,s)}}async function Nh(r,e,n){if(!bl(e))throw e;r.Ea.add(1),await hu(r),r.Ra.set("Offline"),n||(n=()=>Nb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(Ws,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Kh(r)}))}function Vb(r,e){return e().catch((n=>Nh(r,n,e)))}async function Xh(r){const e=we(r),n=os(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wp;for(;V4(e);)try{const l=await p4(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,k4(e,l)}catch(l){await Nh(e,l)}kb(e)&&jb(e)}function V4(r){return ia(r)&&r.Ta.length<10}function k4(r,e){r.Ta.push(e);const n=os(r);n.O_()&&n.X_&&n.ea(e.mutations)}function kb(r){return ia(r)&&!os(r).x_()&&r.Ta.length>0}function jb(r){os(r).start()}async function j4(r){os(r).ra()}async function L4(r){const e=os(r);for(const n of r.Ta)e.ea(n.mutations)}async function P4(r,e,n){const s=r.Ta.shift(),l=Ip.from(s,e,n);await Vb(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Xh(r)}async function U4(r,e){e&&os(r).X_&&await(async function(s,l){if((function(f){return EI(f)&&f!==W.ABORTED})(l.code)){const u=s.Ta.shift();os(s).B_(),await Vb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Xh(s)}})(r,e),kb(r)&&jb(r)}async function Jv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),oe(Ws,"RemoteStore received new credentials");const s=ia(n);n.Ea.add(3),await hu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Kh(n)}async function z4(r,e){const n=we(r);e?(n.Ea.delete(2),await Kh(n)):e||(n.Ea.add(2),await hu(n),n.Ra.set("Unknown"))}function xl(r){return r.ma||(r.ma=(function(n,s,l){const u=we(n);return u.sa(),new w4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:I4.bind(null,r),t_:D4.bind(null,r),r_:O4.bind(null,r),H_:M4.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),zp(r)?Up(r):r.Ra.set("Unknown")):(await r.ma.stop(),Mb(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,l){const u=we(n);return u.sa(),new S4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:j4.bind(null,r),r_:U4.bind(null,r),ta:L4.bind(null,r),na:P4.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Xh(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(Ws,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new Bp(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),bl(r))return new le(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Mo(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new nl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.ga=new ct(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class hl{constructor(e,n,s,l,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new hl(e,n,nl.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class q4{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=we(n),u=l.queries;l.queries=Wv(),u.forEach(((f,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new le(W.ABORTED,"Firestore shutting down"))}}function Wv(){return new na((r=>nb(r)),qh)}async function Lb(r,e){const n=we(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new B4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=qp(f,`Initialization of query '${$a(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Hp(n)}async function Pb(r,e){const n=we(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function H4(r,e){const n=we(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(l)&&(s=!0);f.wa=l}}s&&Hp(n)}function F4(r,e,n){const s=we(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function Hp(r){r.Ca.forEach((e=>{e.next()}))}var Xm,eE;(eE=Xm||(Xm={})).Ma="default",eE.Cache="cache";class Ub{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new hl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=hl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.key=e}}class Bb{constructor(e){this.key=e}}class G4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=ib(e),this.tu=new nl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new Zv,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((b,T)=>{const S=l.get(b),D=Hh(this.query,T)?T:null,q=!!S&&this.mutatedKeys.has(S.key),K=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let F=!1;S&&D?S.data.isEqual(D.data)?q!==K&&(s.track({type:3,doc:D}),F=!0):this.su(S,D)||(s.track({type:2,doc:D}),F=!0,(g&&this.eu(D,g)>0||y&&this.eu(D,y)<0)&&(m=!0)):!S&&D?(s.track({type:0,doc:D}),F=!0):S&&!D&&(s.track({type:1,doc:S}),F=!0,(g||y)&&(m=!0)),F&&(D?(f=f.add(D),u=K?u.add(b):u.delete(b)):(f=f.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const b=this.query.limitType==="F"?f.last():f.first();f=f.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((b,T)=>(function(D,q){const K=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:F})}};return K(D)-K(q)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(s),l=l??!1;const m=n&&!l?this._u():[],g=this.Xa.size===0&&this.current&&!l?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new hl(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Bb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new zb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return hl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Fp="SyncEngine";class Q4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Y4{constructor(e){this.key=e,this.hu=!1}}class K4{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new na((m=>nb(m)),qh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(de.comparator),this.Au=new Map,this.Ru=new Mp,this.Vu={},this.mu=new Map,this.fu=cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function X4(r,e,n=!0){const s=Yb(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await qb(s,e,n,!0),l}async function $4(r,e){const n=Yb(r);await qb(n,e,!0,!1)}async function qb(r,e,n,s){const l=await g4(r.localStore,Di(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await J4(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&Db(r.remoteStore,l),m}async function J4(r,e,n,s,l){r.pu=(T,S,D)=>(async function(K,F,Q,ee){let X=F.view.ru(Q);X.Cs&&(X=await Qv(K.localStore,F.query,!1).then((({documents:N})=>F.view.ru(N,X))));const me=ee&&ee.targetChanges.get(F.targetId),ge=ee&&ee.targetMismatches.get(F.targetId)!=null,ye=F.view.applyChanges(X,K.isPrimaryClient,me,ge);return nE(K,F.targetId,ye.au),ye.snapshot})(r,T,S,D);const u=await Qv(r.localStore,e,!0),f=new G4(e,u.Qs),m=f.ru(u.documents),g=cu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,g);nE(r,n,y.au);const b=new Q4(e,n,f);return r.Tu.set(e,b),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function Z4(r,e,n){const s=we(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Ym(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Lp(s.remoteStore,l.targetId),$m(s,l.targetId)})).catch(El)):($m(s,l.targetId),await Ym(s.localStore,l.targetId,!0))}async function W4(r,e){const n=we(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Lp(n.remoteStore,s.targetId))}async function eD(r,e,n){const s=lD(r);try{const l=await(function(f,m){const g=we(f),y=rt.now(),b=m.reduce(((D,q)=>D.add(q.key)),ke());let T,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(D=>{let q=hr(),K=ke();return g.Ns.getEntries(D,b).next((F=>{q=F,q.forEach(((Q,ee)=>{ee.isValidDocument()||(K=K.add(Q))}))})).next((()=>g.localDocuments.getOverlayedDocuments(D,q))).next((F=>{T=F;const Q=[];for(const ee of m){const X=pI(ee,T.get(ee.key).overlayedDocument);X!=null&&Q.push(new hs(ee.key,X,K1(X.value.mapValue),ri.exists(!0)))}return g.mutationQueue.addMutationBatch(D,y,Q,m)})).next((F=>{S=F;const Q=F.applyToLocalDocumentSet(T,K);return g.documentOverlayCache.saveOverlays(D,F.batchId,Q)}))})).then((()=>({batchId:S.batchId,changes:sb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ct(Ve)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y})(s,l.batchId,n),await fu(s,l.changes),await Xh(s.remoteStore)}catch(l){const u=qp(l,"Failed to persist write");n.reject(u)}}async function Hb(r,e){const n=we(r);try{const s=await d4(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Fe(f.hu,14607):l.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await fu(n,s,e)}catch(s){await El(s)}}function tE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const g=we(f);g.onlineState=m;let y=!1;g.queries.forEach(((b,T)=>{for(const S of T.Sa)S.va(m)&&(y=!0)})),y&&Hp(g)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function tD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new ct(de.comparator);f=f.insert(u,tn.newNoDocument(u,Te.min()));const m=ke().add(u),g=new Qh(Te.min(),new Map,new ct(Ve),f,m);await Hb(s,g),s.du=s.du.remove(u),s.Au.delete(e),Gp(s)}else await Ym(s.localStore,e,!1).then((()=>$m(s,e,n))).catch(El)}async function nD(r,e){const n=we(r),s=e.batch.batchId;try{const l=await f4(n.localStore,e);Gb(n,s,null),Fb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await fu(n,l)}catch(l){await El(l)}}async function iD(r,e,n){const s=we(r);try{const l=await(function(f,m){const g=we(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return g.mutationQueue.lookupMutationBatch(y,m).next((T=>(Fe(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(y,T)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>g.localDocuments.getDocuments(y,b)))}))})(s.localStore,e);Gb(s,e,n),Fb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await fu(s,l)}catch(l){await El(l)}}function Fb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Gb(r,e,n){const s=we(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function $m(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Qb(r,s)}))}function Qb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Lp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Gp(r))}function nE(r,e,n){for(const s of n)s instanceof zb?(r.Ru.addReference(s.key,e),rD(r,s)):s instanceof Bb?(oe(Fp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Qb(r,s.key)):ve(19791,{wu:s})}function rD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe(Fp,"New document in limbo: "+n),r.Eu.add(s),Gp(r))}function Gp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new Y4(n)),r.du=r.du.insert(n,s),Db(r.remoteStore,new Jr(Di(Bh(n.path)),s,"TargetPurposeLimboResolution",Ph.ce))}}async function fu(r,e,n){const s=we(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{f.push(s.pu(g,e,n).then((y=>{var b;if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){l.push(y);const T=kp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(g,y){const b=we(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ie.forEach(y,(S=>ie.forEach(S.Es,(D=>b.persistence.referenceDelegate.addReference(T,S.targetId,D))).next((()=>ie.forEach(S.ds,(D=>b.persistence.referenceDelegate.removeReference(T,S.targetId,D)))))))))}catch(T){if(!bl(T))throw T;oe(jp,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const D=b.Ms.get(S),q=D.snapshotVersion,K=D.withLastLimboFreeSnapshotVersion(q);b.Ms=b.Ms.insert(S,K)}}})(s.localStore,u))}async function sD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){oe(Fp,"User change. New user:",e.toKey());const s=await Rb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new le(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await fu(n,s.Ls)}}function aD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let l=ke();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function Yb(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tD.bind(null,e),e.Pu.H_=H4.bind(null,e.eventManager),e.Pu.yu=F4.bind(null,e.eventManager),e}function lD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iD.bind(null,e),e}class Ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return h4(this.persistence,new o4,e.initialUser,this.serializer)}Cu(e){return new Ab(Vp.mi,this.serializer)}Du(e){return new _4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ch.provider={build:()=>new Ch};class oD extends Ch{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Rh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new YI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Ab((s=>Rh.mi(s,n)),this.serializer)}}class Jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>tE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sD.bind(null,this.syncEngine),await z4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new q4})()}createDatastore(e){const n=Yh(e.databaseInfo.databaseId),s=(function(u){return new x4(u)})(e.databaseInfo);return(function(u,f,m,g){return new R4(u,f,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,m){return new C4(s,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>tE(this.syncEngine,n,0)),(function(){return Xv.v()?new Xv:new v4})())}createSyncEngine(e,n){return(function(l,u,f,m,g,y,b){const T=new K4(l,u,f,m,g,y);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(l){const u=we(l);oe(Ws,"RemoteStore shutting down."),u.Ea.add(5),await hu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Jm.provider={build:()=>new Jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class uD{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=en.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=qp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await Rb(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function iE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await cD(r);oe(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>Jv(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Jv(e.remoteStore,l))),r._onlineComponents=e}async function cD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(us,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===W.FAILED_PRECONDITION||l.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;al("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Ch)}}else oe(us,"Using default OfflineComponentProvider"),await Tm(r,new oD(void 0));return r._offlineComponents}async function Xb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(us,"Using user provided OnlineComponentProvider"),await iE(r,r._uninitializedComponentsProvider._online)):(oe(us,"Using default OnlineComponentProvider"),await iE(r,new Jm))),r._onlineComponents}function hD(r){return Xb(r).then((e=>e.syncEngine))}async function Zm(r){const e=await Xb(r),n=e.eventManager;return n.onListen=X4.bind(null,e.syncEngine),n.onUnlisten=Z4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W4.bind(null,e.syncEngine),n}function fD(r,e,n={}){const s=new ns;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,g,y){const b=new Kb({next:S=>{b.Nu(),f.enqueueAndForget((()=>Pb(u,T)));const D=S.docs.has(m);!D&&S.fromCache?y.reject(new le(W.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&S.fromCache&&g&&g.source==="server"?y.reject(new le(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new Ub(Bh(m.path),b,{includeMetadataChanges:!0,qa:!0});return Lb(u,T)})(await Zm(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb="firestore.googleapis.com",sE=!0;class aE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Jb,this.ssl=sE}else this.host=e.host,this.ssl=e.ssl??sE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GI)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$b(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $h{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new _C;switch(s.type){case"firstParty":return new TC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=rE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),rE.delete(n),s.terminate())})(this),Promise.resolve()}}function dD(r,e,n,s={}){var y;r=ii(r,$h);const l=gl(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;l&&(GE(`https://${m}`),QE("Firestore",!0)),u.host!==Jb&&u.host!==m&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:l,emulatorOptions:s};if(!Xs(g,f)&&(r._setSettings(g),s.mockUserToken)){let b,T;if(typeof s.mockUserToken=="string")b=s.mockUserToken,T=en.MOCK_USER;else{b=HA(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(S)}r._authCredentials=new vC(new j1(b,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ra(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(ou(n,mt._jsonSchema))return new mt(e,s||null,new de(tt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Ot("string",mt._jsonSchemaVersion),referencePath:Ot("string")};class is extends ra{constructor(e,n,s){super(e,n,Bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new de(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function Wo(r,e,...n){if(r=$t(r),L1("collection","path",e),r instanceof $h){const s=tt.fromString(e,...n);return vv(s),new is(r,null,s)}{if(!(r instanceof mt||r instanceof is))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return vv(s),new is(r.firestore,null,s)}}function Ys(r,e,...n){if(r=$t(r),arguments.length===1&&(e=xp.newId()),L1("doc","path",e),r instanceof $h){const s=tt.fromString(e,...n);return _v(s),new mt(r,null,new de(s))}{if(!(r instanceof mt||r instanceof is))throw new le(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return _v(s),new mt(r.firestore,r instanceof is?r.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Cb(this,"async_queue_retry"),this._c=()=>{const s=bm();s&&oe(lE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=bm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ns;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!bl(e))throw e;oe(lE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,cr("INTERNAL UNHANDLED ERROR: ",uE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Bp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&ve(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function uE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}class ea extends $h{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new oE,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function mD(r,e){const n=typeof r=="object"?r:$E(),s=typeof r=="string"?r:Th,l=hp(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=BA("firestore");u&&dD(l,...u)}return l}function Qp(r){if(r._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||pD(r),r._firestoreClient}function pD(r){var s,l,u;const e=r._freezeSettings(),n=(function(m,g,y,b){return new UC(m,g,y,b.host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,$b(b.experimentalLongPollingOptions),b.useFetchStreams,b.isUsingEmulator)})(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(l=e.localCache)!=null&&l._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new uD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Un(Jt.fromBase64String(e))}catch(n){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Un(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ou(e,Un._jsonSchema))return Un.fromBase64String(e.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ot("string",Un._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(ou(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Ot("string",Mi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ou(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new le(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ot("string",Vi._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=/^__.*__$/;class yD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new uu(e,this.data,n,this.fieldTransforms)}}class Zb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:r})}}class Yp{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Yp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var l;const n=(l=this.path)==null?void 0:l.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ih(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Wb(this.Ac)&&gD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class _D{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Yh(e)}Cc(e,n,s,l=!1){return new Yp({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wh(r){const e=r._freezeSettings(),n=Yh(r._databaseId);return new _D(r._databaseId,!!e.ignoreUndefinedProperties,n)}function eT(r,e,n,s,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);Xp("Data must be an object, but it was:",f,s);const m=tT(s,f);let g,y;if(u.merge)g=new Sn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const b=[];for(const T of u.mergeFields){const S=Wm(e,T,n);if(!f.contains(S))throw new le(W.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);iT(b,S)||b.push(S)}g=new Sn(b),y=f.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,y=f.fieldTransforms;return new yD(new pn(m),g,y)}class ef extends Zh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}class Kp extends Zh{_toFieldTransform(e){return new hI(e.path,new $o)}isEqual(e){return e instanceof Kp}}function vD(r,e,n,s){const l=r.Cc(1,e,n);Xp("Data must be an object, but it was:",l,s);const u=[],f=pn.empty();cs(s,((g,y)=>{const b=$p(e,g,n);y=$t(y);const T=l.yc(b);if(y instanceof ef)u.push(b);else{const S=du(y,T);S!=null&&(u.push(b),f.set(b,S))}}));const m=new Sn(u);return new Zb(f,m,l.fieldTransforms)}function ED(r,e,n,s,l,u){const f=r.Cc(1,e,n),m=[Wm(e,s,n)],g=[l];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Wm(e,u[S])),g.push(u[S+1]);const y=[],b=pn.empty();for(let S=m.length-1;S>=0;--S)if(!iT(y,m[S])){const D=m[S];let q=g[S];q=$t(q);const K=f.yc(D);if(q instanceof ef)y.push(D);else{const F=du(q,K);F!=null&&(y.push(D),b.set(D,F))}}const T=new Sn(y);return new Zb(b,T,f.fieldTransforms)}function bD(r,e,n,s=!1){return du(n,r.Cc(s?4:3,e))}function du(r,e){if(nT(r=$t(r)))return Xp("Unsupported field value:",e,r),tT(r,e);if(r instanceof Zh)return(function(s,l){if(!Wb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const m of s){let g=du(m,l.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=$t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oI(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Ah(l.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(l.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Un)return{bytesValue:_b(l.serializer,s._byteString)};if(s instanceof mt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Op(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Vi)return(function(f,m){return{mapValue:{fields:{[Q1]:{stringValue:Y1},[xh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Cp(m.serializer,y)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Lh(s)}`)})(r,e)}function tT(r,e){const n={};return z1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(r,((s,l)=>{const u=du(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function nT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Mi||r instanceof Un||r instanceof mt||r instanceof Zh||r instanceof Vi)}function Xp(r,e,n){if(!nT(n)||!P1(n)){const s=Lh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Wm(r,e,n){if((e=$t(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return $p(r,e);throw Ih("Field path arguments must be of type string or ",r,!1,void 0,n)}const TD=new RegExp("[~\\*/\\[\\]]");function $p(r,e,n){if(e.search(TD)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ih(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new le(W.INVALID_ARGUMENT,m+r+g)}function iT(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(tf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xD extends rT{data(){return super.data()}}function tf(r,e){return typeof e=="string"?$p(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Jp{}class sT extends Jp{}function ep(r,e,...n){let s=[];e instanceof Jp&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof Zp)).length,m=u.filter((g=>g instanceof nf)).length;if(f>1||f>0&&m>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class nf extends sT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new nf(e,n,s)}_apply(e){const n=this._parse(e);return aT(e._query,n),new ra(e.firestore,e.converter,Bm(e._query,n))}_parse(e){const n=Wh(e.firestore);return(function(u,f,m,g,y,b,T){let S;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){fE(T,b);const q=[];for(const K of T)q.push(hE(g,u,K));S={arrayValue:{values:q}}}else S=hE(g,u,T)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||fE(T,b),S=bD(m,f,T,b==="in"||b==="not-in");return Dt.create(y,b,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xm(r,e,n){const s=e,l=tf("where",r);return nf._create(l,s,n)}class Zp extends Jp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zp(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const m=u.getFlattenedFilters();for(const g of m)aT(f,g),f=Bm(f,g)})(e._query,n),new ra(e.firestore,e.converter,Bm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends sT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wp(e,n)}_apply(e){const n=(function(l,u,f){if(l.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xo(u,f)})(e._query,this._field,this._direction);return new ra(e.firestore,e.converter,(function(l,u){const f=l.explicitOrderBy.concat([u]);return new Tl(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)})(e._query,n))}}function SD(r,e="asc"){const n=e,s=tf("orderBy",r);return Wp._create(s,n)}function hE(r,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tb(e)&&n.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!de.isDocumentKey(s))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Rv(r,new de(s))}if(n instanceof mt)return Rv(r,n._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lh(n)}.`)}function fE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function aT(r,e){const n=(function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class AD{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,l,u;const n=(u=(l=(s=e.fields)==null?void 0:s[xh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((f=>vt(f.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new Mi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Qo(e));default:return null}}convertTimestamp(e){const n=ss(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Fe(wb(s),9688,{name:e});const l=new Yo(s.get(1),s.get(3)),u=new de(s.popFirst(5));return l.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class ko{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends rT{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(tf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Ot("string",Ks._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class lh extends Ks{data(e={}){return super.data(e)}}class il{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new ko(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new lh(this._firestore,this._userDataWriter,s.key,s,new ko(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const g=new lh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new lh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new ko(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),b=f.indexOf(m.doc.key)),{type:RD(m.type),doc:g,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oT(r){r=ii(r,mt);const e=ii(r.firestore,ea);return fD(Qp(e),r._key).then((n=>hT(e,r,n)))}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:Ot("string",il._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class uT extends AD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Un(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function ND(r,e,n){r=ii(r,mt);const s=ii(r.firestore,ea),l=lT(r.converter,e);return eg(s,[eT(Wh(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,ri.none())])}function dE(r,e,n,...s){r=ii(r,mt);const l=ii(r.firestore,ea),u=Wh(l);let f;return f=typeof(e=$t(e))=="string"||e instanceof Jh?ED(u,"updateDoc",r._key,e,n,s):vD(u,"updateDoc",r._key,e),eg(l,[f.toMutation(r._key,ri.exists(!0))])}function cT(r,e){const n=ii(r.firestore,ea),s=Ys(r),l=lT(r.converter,e);return eg(n,[eT(Wh(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,ri.exists(!1))]).then((()=>s))}function oh(r,...e){var g,y,b;r=$t(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cE(e[s])||(n=e[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cE(e[s])){const T=e[s];e[s]=(g=T.next)==null?void 0:g.bind(T),e[s+1]=(y=T.error)==null?void 0:y.bind(T),e[s+2]=(b=T.complete)==null?void 0:b.bind(T)}let u,f,m;if(r instanceof mt)f=ii(r.firestore,ea),m=Bh(r._key.path),u={next:T=>{e[s]&&e[s](hT(f,r,T))},error:e[s+1],complete:e[s+2]};else{const T=ii(r,ra);f=ii(T.firestore,ea),m=T._query;const S=new uT(f);u={next:D=>{e[s]&&e[s](new il(f,S,T,D))},error:e[s+1],complete:e[s+2]},wD(r._query)}return(function(S,D,q,K){const F=new Kb(K),Q=new Ub(D,F,q);return S.asyncQueue.enqueueAndForget((async()=>Lb(await Zm(S),Q))),()=>{F.Nu(),S.asyncQueue.enqueueAndForget((async()=>Pb(await Zm(S),Q)))}})(Qp(f),m,l,u)}function eg(r,e){return(function(s,l){const u=new ns;return s.asyncQueue.enqueueAndForget((async()=>eD(await hD(s),l,u))),u.promise})(Qp(r),e)}function hT(r,e,n){const s=n.docs.get(e._key),l=new uT(r);return new Ks(r,l,e._key,s,new ko(n.hasPendingWrites,n.fromCache),e.converter)}function fT(){return new Kp("serverTimestamp")}(function(e,n=!0){(function(l){vl=l})(yl),rl(new $s("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ea(new EC(s.getProvider("auth-internal")),new xC(f,s.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(y.options.projectId,b)})(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),es(mv,pv,e),es(mv,pv,"esm2020")})();const CD={apiKey:"AIzaSyCBP8G1P3cZkOiTDvoRx-wx1KkVNX28A3Y",authDomain:"projectmate-1fb9c.firebaseapp.com",projectId:"projectmate-1fb9c",storageBucket:"projectmate-1fb9c.firebasestorage.app",messagingSenderId:"129919117396",appId:"1:129919117396:web:abd9cdb0fed6ce998525c1",measurementId:"G-6XH4MH2CHM"},dT=XE(CD),dt=gC(dT),ei=mD(dT),mT=new ir;mT.setCustomParameters({prompt:"select_account"});function ID(){const r=ml(),e=async()=>{try{const s=(await SN(dt,mT)).user;if(s){const l=Ys(ei,"users",s.uid);(await oT(l)).exists()?r("/login"):r("/setup-profile")}}catch(n){console.error("Login Error:",n),alert("Login failed. Please use your Nirma account.")}};return v.jsxs("div",{className:"min-h-screen bg-[#FDFDFD] w-full font-sans antialiased text-slate-900",children:[v.jsx("nav",{className:"flex items-center justify-between px-10 py-8 border-b border-slate-100 bg-white/80 backdrop-blur-md sticky top-0 z-50",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center shadow-lg shadow-orange-500/20",children:v.jsx(pl,{className:"w-7 h-7 text-white"})}),v.jsx("span",{className:"text-2xl font-bold tracking-tighter text-slate-800 uppercase",children:"ProjectMate"})]})}),v.jsxs("main",{className:"max-w-6xl mx-auto pt-24 md:pt-32 px-8 text-center",children:[v.jsxs("h1",{className:"text-6xl md:text-8xl lg:text-[110px] font-black tracking-tighter leading-[1.05] mb-12",children:["The place for ",v.jsx("br",{}),v.jsx("span",{className:"text-orange-500",children:"Nirma builders."})]}),v.jsx("p",{className:"text-2xl md:text-3xl text-slate-600 mb-16 max-w-3xl mx-auto font-semibold leading-relaxed",children:"Sign in to discover projects, find teammates, and ship your next big idea within the university."}),v.jsxs("button",{onClick:e,className:"bg-orange-500 text-white px-12 py-6 rounded-3xl font-black text-2xl hover:bg-orange-600 transition-all hover:scale-105 active:scale-95 shadow-[0_20px_50px_-15px_rgba(249,115,22,0.4)] flex items-center gap-6 mx-auto mb-10",children:[v.jsx("div",{className:"bg-white p-1 rounded-full",children:v.jsxs("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",children:[v.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),v.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),v.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z"}),v.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.66l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]})}),"Continue with Google"]}),v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx("div",{className:"h-px w-12 bg-slate-200"}),v.jsx("p",{className:"text-sm font-black text-orange-400 uppercase tracking-[0.3em]",children:"Verified Nirma Account Required"}),v.jsx("div",{className:"h-px w-12 bg-slate-200"})]})]})]})}function DD(){const[r,e]=B.useState([]),[n,s]=B.useState(!0),[l,u]=B.useState(""),[f,m]=B.useState({projectType:{sideProject:!1,hackathon:!1,research:!1,openSource:!1},roles:{frontendDev:!1,backendDev:!1,uiuxDesigner:!1,dataScientist:!1,productManager:!1},duration:{lessThan1:!1,oneToThree:!1,moreThan3:!1}});B.useEffect(()=>{const T=ep(Wo(ei,"projects"),SD("createdAt","desc")),S=oh(T,D=>{const q=[];D.forEach(K=>{q.push({id:K.id,...K.data()})}),e(q),s(!1)});return()=>S()},[]);const g=r.filter(T=>{const S=Object.keys(f.projectType).filter(X=>f.projectType[X]),D=S.length===0||S.includes(T.projectType),q=Object.keys(f.duration).filter(X=>f.duration[X]),K=q.length===0||q.some(X=>X==="lessThan1"?T.duration==="<1 Month":X==="oneToThree"?T.duration==="1 - 3 Months":X==="moreThan3"?T.duration==="6+ Months"||T.duration==="3 - 6 Months":!1),F=Object.keys(f.roles).filter(X=>f.roles[X]),Q=F.length===0||F.some(X=>{var ge;const me=X.replace(/([A-Z])/g," $1").toLowerCase();return(ge=T.rolesNeeded)==null?void 0:ge.some(ye=>ye.toLowerCase().includes(me.trim()))}),ee=T.title.toLowerCase().includes(l.toLowerCase())||T.description.toLowerCase().includes(l.toLowerCase());return D&&K&&Q&&ee}),y=(T,S)=>{m(D=>({...D,[T]:{...D[T],[S]:!D[T][S]}}))},b=T=>T?T.toDate().toLocaleDateString("en-IN",{day:"numeric",month:"short"}):"Just now";return v.jsxs("div",{className:"min-h-screen bg-gray-50 w-full",children:[v.jsxs("nav",{className:"bg-white flex items-center justify-between px-8 md:px-12 py-8 border-b border-gray-200 sticky top-0 z-50 w-full",children:[v.jsxs(Et,{to:"/",className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center shadow-md",children:v.jsx(pl,{className:"w-8 h-8 text-white"})}),v.jsx("span",{className:"text-3xl font-black text-orange-500 tracking-tighter uppercase",children:"ProjectMate"})]}),v.jsxs("div",{className:"flex items-center gap-12",children:[v.jsx(Et,{to:"/projects",className:"text-orange-500 font-bold text-xl border-b-4 border-orange-500",children:"Projects"}),v.jsx(Et,{to:"/create",className:"text-gray-500 hover:text-orange-500 font-semibold text-xl transition-colors",children:"Post Project"}),v.jsx(Et,{to:"/profile",className:"text-gray-500 hover:text-orange-500 font-semibold text-xl transition-colors",children:"Profile"})]})]}),v.jsx("div",{className:"px-8 md:px-12 py-16 w-full",children:v.jsxs("div",{className:"w-full",children:[v.jsxs("div",{className:"mb-16",children:[v.jsx("h1",{className:"text-6xl md:text-8xl font-black text-gray-900 mb-6 tracking-tight leading-none uppercase",children:"Explore Projects"}),v.jsxs("p",{className:"text-2xl md:text-3xl text-gray-600 max-w-5xl font-medium leading-relaxed",children:["Discover ongoing ",v.jsx("span",{className:"text-orange-600",children:"Nirma University"})," projects looking for your skills."]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-16 w-full",children:[v.jsx("div",{className:"md:col-span-3",children:v.jsx("div",{className:"sticky top-40 space-y-16",children:[{title:"Project Type",key:"projectType"},{title:"Roles Needed",key:"roles"},{title:"Duration",key:"duration"}].map(T=>v.jsxs("div",{children:[v.jsx("h3",{className:"font-black text-gray-900 text-xl mb-8 uppercase tracking-widest border-b-4 border-orange-500 pb-2 inline-block",children:T.title}),v.jsx("div",{className:"space-y-6",children:Object.keys(f[T.key]).map(S=>v.jsxs("label",{className:"flex items-center cursor-pointer group",children:[v.jsx("input",{type:"checkbox",checked:f[T.key][S],onChange:()=>y(T.key,S),className:"w-7 h-7 text-orange-500 border-gray-300 rounded-lg focus:ring-orange-500 cursor-pointer"}),v.jsx("span",{className:"ml-5 text-2xl font-bold text-gray-700 group-hover:text-orange-500 capitalize transition-colors",children:S==="lessThan1"?"<1 Month":S==="oneToThree"?"1-3 Months":S==="moreThan3"?"3+ Months":S.replace(/([A-Z])/g," $1")})]},S))})]},T.key))})}),v.jsxs("div",{className:"md:col-span-9",children:[v.jsx("div",{className:"flex flex-col md:flex-row gap-6 mb-16",children:v.jsxs("div",{className:"flex-1 relative",children:[v.jsx(op,{className:"absolute left-8 top-1/2 transform -translate-y-1/2 text-gray-400 w-10 h-10"}),v.jsx("input",{type:"text",value:l,onChange:T=>u(T.target.value),placeholder:"Search by keywords, skills, or stack...",className:"w-full pl-20 pr-8 py-8 text-2xl border-4 border-gray-100 rounded-[2.5rem] focus:outline-none focus:border-orange-500 transition-all shadow-sm"})]})}),n?v.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[v.jsx(hh,{className:"w-16 h-16 text-orange-500 animate-spin mb-4"}),v.jsx("p",{className:"text-2xl font-black text-gray-400 uppercase tracking-widest",children:"Fetching Projects..."})]}):g.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center py-32 bg-white rounded-[3rem] border-4 border-dashed border-gray-100",children:[v.jsx(nA,{className:"w-20 h-20 text-gray-200 mb-6"}),v.jsx("p",{className:"text-3xl font-black text-gray-300 uppercase tracking-widest",children:"No projects match these filters"}),v.jsx("button",{onClick:()=>m({projectType:{sideProject:!1,hackathon:!1,research:!1,openSource:!1},roles:{frontendDev:!1,backendDev:!1,uiuxDesigner:!1,dataScientist:!1,productManager:!1},duration:{lessThan1:!1,oneToThree:!1,moreThan3:!1}}),className:"mt-8 text-orange-500 font-black text-xl hover:underline",children:"Clear all filters"})]}):v.jsx("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-12",children:g.map(T=>{var S;return v.jsxs("div",{className:"bg-white rounded-[3rem] p-12 border-2 border-gray-50 shadow-sm hover:shadow-2xl hover:-translate-y-3 transition-all duration-500 group",children:[v.jsxs("div",{className:"flex justify-between items-start mb-8",children:[v.jsx("h3",{className:"text-4xl font-black text-gray-900 leading-tight tracking-tight group-hover:text-orange-600 transition-colors",children:T.title}),v.jsx("button",{className:"text-gray-300 hover:text-orange-500 transition-colors",children:v.jsx(QS,{className:"w-10 h-10 fill-current"})})]}),v.jsx("div",{className:"flex gap-3 mb-8",children:v.jsx("span",{className:"bg-green-100 text-green-700 text-xs font-black px-6 py-2 rounded-full uppercase tracking-widest shadow-sm",children:T.branch||"General"})}),v.jsx("p",{className:"text-2xl text-gray-600 mb-10 leading-relaxed font-medium line-clamp-3",children:T.tagline||T.description}),v.jsx("div",{className:"flex flex-wrap gap-4 mb-12",children:(S=T.techStack)==null?void 0:S.map((D,q)=>v.jsx("span",{className:"bg-gray-50 text-gray-700 text-sm font-black px-6 py-3 rounded-2xl border border-gray-100",children:D},q))}),v.jsxs("div",{className:"flex items-center justify-between pt-10 border-t-4 border-gray-50",children:[v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx("img",{src:T.authorPhoto||"https://i.pravatar.cc/150",alt:"",className:"w-16 h-16 rounded-full ring-4 ring-orange-50 shadow-md object-cover"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-black text-gray-900 text-xl",children:T.authorName||"Builder"}),v.jsx("p",{className:"text-gray-400 font-bold text-sm uppercase tracking-tighter",children:b(T.createdAt)})]})]}),v.jsx(Et,{to:`/project/${T.id}`,className:"bg-orange-50 text-orange-600 px-10 py-5 rounded-[1.5rem] font-black text-xl hover:bg-orange-500 hover:text-white transition-all shadow-sm active:scale-95 text-center",children:"View Details"})]})]},T.id)})}),!n&&g.length>0&&v.jsx("div",{className:"mt-32 mb-16 text-center w-full",children:v.jsxs("p",{className:"text-gray-400 font-black text-2xl uppercase tracking-widest",children:["Showing ",g.length," matching projects"]})})]})]})]})})]})}const OD=["Frontend Developer","Backend Developer","Full Stack Developer","UI/UX Designer","App Developer","AI/ML Engineer","Data Scientist","Embedded Engineer","IoT Developer","Cloud Engineer"],MD=["React","Node.js","Python","Tailwind CSS","Firebase","MongoDB","Arduino","Raspberry Pi","TensorFlow","Flutter","Next.js","MATLAB","Figma"];function VD(){const r=ml(),[e,n]=B.useState(""),[s,l]=B.useState(""),[u,f]=B.useState(""),[m,g]=B.useState("1 - 3 Months"),[y,b]=B.useState("sideProject"),[T,S]=B.useState([]),[D,q]=B.useState([]),[K,F]=B.useState(""),[Q,ee]=B.useState(""),[X,me]=B.useState(!1),ge=OD.filter(A=>A.toLowerCase().includes(K.toLowerCase())&&!T.includes(A)&&K.length>0),ye=MD.filter(A=>A.toLowerCase().includes(Q.toLowerCase())&&!D.includes(A)&&Q.length>0),N=async A=>{if(A.preventDefault(),!dt.currentUser)return alert("Please login first!");me(!0);try{await cT(Wo(ei,"projects"),{title:e,tagline:s,description:u,projectType:y,rolesNeeded:T,techStack:D,duration:m,authorName:dt.currentUser.displayName,authorPhoto:dt.currentUser.photoURL,authorId:dt.currentUser.uid,createdAt:fT()}),r("/projects")}catch(R){console.error(R)}finally{me(!1)}};return v.jsxs("div",{className:"min-h-screen bg-[#FBFBFD] w-full font-sans antialiased text-slate-900",children:[v.jsxs("nav",{className:"bg-white flex items-center justify-between px-8 md:px-12 py-8 border-b border-gray-200 sticky top-0 z-50 w-full",children:[v.jsxs(Et,{to:"/",className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-12 h-12 bg-orange-500 rounded-xl flex items-center justify-center shadow-md",children:v.jsx(pl,{className:"w-8 h-8 text-white"})}),v.jsx("span",{className:"text-3xl font-black text-orange-500 tracking-tighter uppercase",children:"ProjectMate"})]}),v.jsxs("div",{className:"flex items-center gap-12",children:[v.jsx(Et,{to:"/projects",className:"text-gray-500 hover:text-orange-500 font-semibold text-xl transition-colors",children:"Projects"}),v.jsx(Et,{to:"/create",className:"text-orange-500 font-bold text-xl border-b-4 border-orange-500",children:"Post Project"}),v.jsx(Et,{to:"/profile",className:"text-gray-500 hover:text-orange-500 font-semibold text-xl transition-colors",children:"Profile"})]})]}),v.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-16 md:py-24",children:[v.jsxs("div",{className:"mb-20 text-center md:text-left",children:[v.jsxs("h1",{className:"text-6xl md:text-8xl font-black tracking-tight leading-none mb-6",children:["Build your ",v.jsx("span",{className:"text-orange-500",children:"legacy."})]}),v.jsx("p",{className:"text-xl md:text-2xl text-slate-500 font-medium max-w-2xl",children:"Recruit the best minds at Nirma University to turn your idea into reality."})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[v.jsxs("div",{className:"lg:col-span-8 space-y-10",children:[v.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 md:p-14 shadow-sm border border-slate-100",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[v.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 font-black",children:"1"}),v.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Project Identity"})]}),v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{className:"group",children:[v.jsx("label",{className:"block text-sm font-black text-slate-400 uppercase tracking-widest mb-3",children:"Project Title"}),v.jsx("input",{value:e,onChange:A=>n(A.target.value),placeholder:"e.g. Smart Irrigation System",className:"w-full bg-slate-50 border-2 border-transparent focus:border-orange-500 focus:bg-white rounded-2xl px-6 py-5 text-xl font-bold transition-all outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-black text-slate-400 uppercase tracking-widest mb-3",children:"Tagline"}),v.jsx("input",{value:s,onChange:A=>l(A.target.value),placeholder:"e.g. An AI-powered solution for water management",className:"w-full bg-slate-50 border-2 border-transparent focus:border-orange-500 focus:bg-white rounded-2xl px-6 py-5 text-xl font-bold transition-all outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-black text-slate-400 uppercase tracking-widest mb-3",children:"Project Type"}),v.jsxs("select",{value:y,onChange:A=>b(A.target.value),className:"w-full bg-slate-50 border-2 border-transparent focus:border-orange-500 focus:bg-white rounded-2xl px-6 py-5 text-xl font-bold transition-all outline-none",children:[v.jsx("option",{value:"sideProject",children:"Side Project"}),v.jsx("option",{value:"startup",children:"Startup"}),v.jsx("option",{value:"research",children:"Research"}),v.jsx("option",{value:"Hackathon",children:"Hackathon"}),v.jsx("option",{value:"other",children:"Other"})]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 md:p-14 shadow-sm border border-slate-100",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-10",children:[v.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 font-black",children:"2"}),v.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Project Details"})]}),v.jsx("div",{className:"space-y-8",children:v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-black text-slate-400 uppercase tracking-widest mb-3",children:"Detailed Description"}),v.jsx("textarea",{value:u,onChange:A=>f(A.target.value),placeholder:"Describe your project, the roles you need, and what your expectations are from applicants...",className:"w-full bg-slate-50 border-2 border-transparent focus:border-orange-500 focus:bg-white rounded-2xl px-6 py-5 text-xl font-bold transition-all outline-none placeholder:text-slate-300 leading-relaxed min-h-[300px] resize-none"}),v.jsx("p",{className:"mt-4 text-slate-400 font-bold text-sm italic",children:"Tip: Mention your branch and specific lab requirements if any."})]})})]}),v.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 md:p-14 shadow-sm border border-slate-100 space-y-12",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center text-orange-600 font-black",children:"2"}),v.jsx("h2",{className:"text-2xl font-black uppercase tracking-tight",children:"Team Matching"})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-black text-slate-400 uppercase tracking-widest mb-4",children:[v.jsx(NA,{className:"w-4 h-4"})," Roles You Need"]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:T.map((A,R)=>v.jsxs("span",{className:"bg-orange-500 text-white pl-5 pr-3 py-2 rounded-full text-sm font-bold flex items-center gap-2 animate-in zoom-in duration-200",children:[A," ",v.jsx(fh,{className:"w-4 h-4 cursor-pointer hover:bg-white/20 rounded-full",onClick:()=>S(T.filter((k,O)=>O!==R))})]},R))}),v.jsxs("div",{className:"relative",children:[v.jsx(op,{className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5"}),v.jsx("input",{value:K,onChange:A=>F(A.target.value),placeholder:"Type to find roles...",className:"w-full pl-14 pr-6 py-5 bg-slate-50 rounded-2xl font-bold focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none"}),ge.length>0&&v.jsx("div",{className:"absolute z-20 w-full mt-2 bg-white/90 backdrop-blur-xl border border-slate-100 rounded-2xl shadow-2xl p-2",children:ge.map((A,R)=>v.jsxs("button",{type:"button",onClick:()=>{S([...T,A]),F("")},className:"w-full text-left px-5 py-3 rounded-xl hover:bg-orange-500 hover:text-white font-bold transition-all flex justify-between items-center group",children:[A," ",v.jsx(Am,{className:"w-4 h-4 opacity-0 group-hover:opacity-100"})]},R))})]})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-black text-slate-400 uppercase tracking-widest mb-4",children:[v.jsx(ch,{className:"w-4 h-4"})," Tech Stack"]}),v.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:D.map((A,R)=>v.jsxs("span",{className:"bg-slate-900 text-white pl-5 pr-3 py-2 rounded-full text-sm font-bold flex items-center gap-2 animate-in zoom-in duration-200",children:[A," ",v.jsx(fh,{className:"w-4 h-4 cursor-pointer hover:bg-white/20 rounded-full",onClick:()=>q(D.filter((k,O)=>O!==R))})]},R))}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{value:Q,onChange:A=>ee(A.target.value),placeholder:"Search technologies...",className:"w-full px-6 py-5 bg-slate-50 rounded-2xl font-bold focus:ring-4 focus:ring-orange-500/10 focus:bg-white transition-all outline-none"}),ye.length>0&&v.jsx("div",{className:"absolute z-20 w-full mt-2 bg-slate-900/95 backdrop-blur-xl border border-slate-700 rounded-2xl shadow-2xl p-2",children:ye.map((A,R)=>v.jsx("button",{type:"button",onClick:()=>{q([...D,A]),ee("")},className:"w-full text-left px-5 py-3 rounded-xl hover:bg-orange-500 text-white font-bold transition-all text-slate-300",children:A},R))})]})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-black text-slate-400 uppercase tracking-widest mb-4",children:[v.jsx(ch,{className:"w-4 h-4"})," Duration"]}),v.jsxs("select",{value:m,onChange:A=>g(A.target.value),className:"w-full bg-slate-900 text-white px-6 py-5 rounded-2xl font-bold focus:ring-4 focus:ring-orange-500/10 focus:bg-slate-800 transition-all outline-none",children:[v.jsx("option",{children:"1 - 3 Months"}),v.jsx("option",{children:"<1 Month"}),v.jsx("option",{children:"3 - 6 Months"}),v.jsx("option",{children:"6+ Months"})]})]})]}),v.jsxs("button",{onClick:N,disabled:X,className:"w-full bg-slate-900 hover:bg-slate-800 disabled:bg-slate-400 text-white py-8 rounded-[2rem] font-black text-3xl transition-all shadow-2xl flex items-center justify-center gap-4 active:scale-95",children:[X?v.jsx(hh,{className:"w-8 h-8 animate-spin"}):v.jsx(lp,{className:"w-8 h-8"}),X?"Launching...":"Launch Project"]})]}),v.jsx("div",{className:"lg:col-span-4",children:v.jsxs("div",{className:"sticky top-32 bg-orange-500 rounded-[2.5rem] p-10 text-white shadow-xl shadow-orange-500/20",children:[v.jsx("h3",{className:"text-2xl font-black mb-8 uppercase tracking-tighter",children:"Pro Tips"}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx(P0,{className:"w-6 h-6 shrink-0"}),v.jsx("p",{className:"font-bold leading-tight",children:"Nirma students value clear goals over complex descriptions."})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx(P0,{className:"w-6 h-6 shrink-0"}),v.jsx("p",{className:"font-bold leading-tight",children:"Mentioning the correct role you want do not mislead anyone."})]})]})]})})]})]})]})}function kD(){var K,F;const r=ml(),[e]=B.useState(dt.currentUser),[n,s]=B.useState(null),[l,u]=B.useState([]),[f,m]=B.useState([]),[g,y]=B.useState(!1),[b,T]=B.useState({});B.useEffect(()=>{if(!dt.currentUser){r("/login");return}const Q=Ys(ei,"users",dt.currentUser.uid),ee=oh(Q,N=>{if(N.exists()){const A=N.data();s(A),T(A)}}),X=ep(Wo(ei,"applications"),xm("leaderId","==",dt.currentUser.uid),xm("status","==","pending")),me=oh(X,N=>{u(N.docs.map(A=>({id:A.id,...A.data()})))}),ge=ep(Wo(ei,"projects"),xm("authorId","==",dt.currentUser.uid)),ye=oh(ge,N=>{m(N.docs.map(A=>({id:A.id,...A.data()})))});return()=>{ee(),me(),ye()}},[r]);const S=async()=>{try{const Q=Ys(ei,"users",dt.currentUser.uid);await dE(Q,b),y(!1)}catch(Q){console.error("Save Error:",Q),alert("Could not update profile.")}},D=async(Q,ee)=>{try{const X=Ys(ei,"applications",Q);await dE(X,{status:ee})}catch(X){console.error("Status Update Error:",X)}},q=()=>{sN(dt).then(()=>r("/"))};return n?v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-50 w-full font-sans antialiased text-slate-900",children:[v.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-white/60 backdrop-blur-2xl border-b border-slate-200/50",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-8 py-4 flex items-center justify-between",children:[v.jsxs(Et,{to:"/projects",className:"flex items-center gap-3 group",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center shadow-lg shadow-orange-500/20 group-hover:scale-110 transition-transform duration-300",children:v.jsx(pl,{className:"w-5 h-5 text-white"})}),v.jsx("span",{className:"text-3xl font-black text-orange-500 tracking-tighter uppercase",children:"ProjectMate"})]}),v.jsxs("div",{className:"flex items-center gap-6",children:[v.jsx(Et,{to:"/projects",className:"text-xl font-bold text-slate-600 hover:text-slate-900 transition-colors",children:"Explore"}),v.jsx("button",{onClick:q,className:"text-slate-500 hover:text-red-600 font-boldl text-xl md:text-xl tracking-tighter transition-all hover:scale-105 active:scale-95",children:"Logout"})]})]})}),v.jsx("div",{className:"relative pt-24 pb-32 overflow-hidden",children:v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-orange-500/10 via-purple-500/5 to-blue-500/10"})}),v.jsxs("div",{className:"max-w-7xl mx-auto px-6 md:px-8",children:[v.jsx("div",{className:"relative -mt-48 mb-12",children:v.jsx("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2.5rem] p-10 md:p-14 shadow-2xl shadow-slate-900/10 border border-slate-200/50",children:v.jsxs("div",{className:"flex flex-col lg:flex-row items-center lg:items-start gap-10",children:[v.jsxs("div",{className:"relative group",children:[v.jsx("img",{src:g?b.photoURL:n.photoURL,className:"relative w-40 h-40 rounded-[2rem] object-cover shadow-2xl ring-4 ring-white",alt:"Profile"}),g&&v.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-[2rem] flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx("input",{type:"text",placeholder:"Image URL",value:b.photoURL,onChange:Q=>T({...b,photoURL:Q.target.value}),className:"bg-white p-2 rounded-lg text-[10px] w-3/4 outline-none border-none shadow-xl"})})]}),v.jsxs("div",{className:"flex-1 text-center lg:text-left",children:[g?v.jsx("input",{value:b.name,onChange:Q=>T({...b,name:Q.target.value}),className:"text-5xl font-black tracking-tight bg-slate-50 border-2 border-slate-200 focus:border-orange-500 rounded-2xl px-6 py-3 outline-none w-full mb-4"}):v.jsx("h1",{className:"text-5xl md:text-6xl font-black tracking-tight text-slate-900 mb-3",children:n.name}),v.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start gap-4 mb-6",children:g?v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{className:"bg-slate-100 p-2 rounded-xl text-sm font-bold outline-none",value:b.branch,onChange:Q=>T({...b,branch:Q.target.value})}),v.jsx("input",{className:"bg-slate-100 p-2 rounded-xl text-sm font-bold outline-none",value:b.year,onChange:Q=>T({...b,year:Q.target.value})})]}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-full shadow-lg",children:[v.jsx(PE,{size:18}),v.jsx("span",{className:"text-sm font-bold",children:n.branch})]}),v.jsxs("div",{className:"flex items-center gap-2 px-5 py-2.5 bg-slate-100 text-slate-700 rounded-full",children:[v.jsx(qS,{size:18}),v.jsx("span",{className:"text-sm font-bold",children:n.year})]})]})})]}),v.jsx("div",{className:"flex gap-3",children:g?v.jsxs("button",{onClick:S,className:"px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-2xl font-semibold flex items-center gap-2 shadow-lg hover:scale-105 transition-all",children:[v.jsx(bA,{size:18}),"Save"]}):v.jsx("button",{onClick:()=>y(!0),className:"px-6 py-3 bg-slate-900 text-white rounded-2xl font-semibold flex items-center gap-2 shadow-xl hover:scale-105 transition-all",children:v.jsx(yA,{size:18})})})]})})}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 pb-20",children:[v.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2rem] p-8 md:p-10 shadow-xl border border-slate-200/50",children:[v.jsxs("h2",{className:"text-2xl font-black text-slate-900 mb-8 flex items-center gap-4",children:[v.jsx(FS,{size:20,className:"text-orange-500"})," Incoming Requests (",l.length,")"]}),l.length===0?v.jsx("div",{className:"py-12 text-center bg-slate-50 rounded-3xl border-2 border-dashed border-slate-200",children:v.jsx("p",{className:"text-slate-400 font-bold",children:"No pending requests at the moment"})}):v.jsx("div",{className:"space-y-4",children:l.map(Q=>v.jsxs("div",{className:"bg-white p-6 rounded-3xl border-2 border-slate-100 flex items-center justify-between hover:shadow-xl transition-all",children:[v.jsxs("div",{className:"flex items-center gap-5",children:[v.jsx("img",{src:Q.applicantPhoto,className:"w-16 h-16 rounded-2xl object-cover",alt:""}),v.jsxs("div",{children:[v.jsx("p",{className:"font-black text-slate-900 text-lg mb-1",children:Q.applicantName}),v.jsx("p",{className:"text-orange-500 font-bold text-sm uppercase",children:Q.projectTitle})]})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("button",{onClick:()=>D(Q.id,"accepted"),className:"p-3 bg-green-500 text-white rounded-2xl hover:scale-110 transition-all",children:v.jsx(jE,{size:20})}),v.jsx("button",{onClick:()=>D(Q.id,"declined"),className:"p-3 bg-white text-slate-400 border-2 rounded-2xl hover:text-red-500 hover:border-red-500 transition-all",children:v.jsx(LE,{size:20})})]})]},Q.id))})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2rem] p-8 md:p-10 shadow-xl border border-slate-200/50",children:[v.jsxs("h3",{className:"text-xl font-black text-slate-900 mb-6 flex items-center gap-3",children:[v.jsx(pA,{size:18})," Bio"]}),g?v.jsx("textarea",{value:b.bio,onChange:Q=>T({...b,bio:Q.target.value}),className:"w-full bg-slate-50 border-2 border-slate-200 focus:border-orange-500 p-6 rounded-2xl min-h-[150px] outline-none transition-all"}):v.jsx("p",{className:"text-lg font-medium leading-relaxed text-slate-600",children:n.bio})]}),v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2rem] p-8 md:p-10 shadow-xl border border-slate-200/50",children:[v.jsxs("h2",{className:"text-2xl font-black text-slate-900 mb-8 flex items-center gap-4",children:[v.jsx(oA,{size:20,className:"text-purple-500"})," My Projects"]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map(Q=>v.jsxs(Et,{to:`/project/${Q.id}`,className:"bg-slate-50 hover:bg-slate-900 p-8 rounded-3xl group transition-all duration-300",children:[v.jsx("h3",{className:"text-xl font-black group-hover:text-white transition-colors",children:Q.title}),v.jsxs("div",{className:"mt-4 flex justify-between",children:[v.jsx("span",{className:"text-xs font-black text-orange-500 uppercase",children:Q.duration}),v.jsx(eA,{className:"text-slate-300 group-hover:text-white",size:20})]})]},Q.id))})]})]}),v.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[v.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-[2rem] p-8 shadow-xl border border-slate-200/50",children:[v.jsx("h3",{className:"text-xs font-black text-slate-400 uppercase mb-6",children:"Connect"}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-50 rounded-2xl",children:[v.jsx(rA,{size:18}),g?v.jsx("input",{className:"w-full bg-transparent text-sm font-bold outline-none",value:b.github,onChange:Q=>T({...b,github:Q.target.value})}):v.jsx("p",{className:"text-sm font-bold truncate",children:n.github||"No GitHub"})]}),v.jsxs("div",{className:"flex items-center gap-4 p-4 bg-blue-50 rounded-2xl",children:[v.jsx(cA,{size:18,className:"text-blue-600"}),g?v.jsx("input",{className:"w-full bg-transparent text-sm font-bold outline-none",value:b.linkedin,onChange:Q=>T({...b,linkedin:Q.target.value})}):v.jsx("p",{className:"text-sm font-bold truncate text-blue-700",children:n.linkedin||"No LinkedIn"})]})]})]}),v.jsx("div",{className:"bg-slate-900 rounded-[2rem] p-8 text-white shadow-2xl",children:v.jsxs("div",{className:"space-y-8",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs font-black text-orange-500 uppercase tracking-widest mb-4",children:"Expertise"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:(K=n.roles)==null?void 0:K.map((Q,ee)=>v.jsx("span",{className:"bg-white/10 px-4 py-2 rounded-xl text-sm font-bold border border-white/10",children:Q},ee))})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-xs font-black text-orange-500 uppercase tracking-widest mb-4",children:"Tech Stack"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:(F=n.skills)==null?void 0:F.map((Q,ee)=>v.jsx("span",{className:"bg-orange-500 px-4 py-2 rounded-xl text-sm font-black",children:Q},ee))})]})]})})]})]})]})]}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white font-black text-slate-300 animate-pulse uppercase tracking-[0.3em]",children:"Loading Your Legacy..."})}function jD(){var T,S;const{id:r}=Uw(),e=ml(),[n,s]=B.useState(!1),[l,u]=B.useState(null),[f,m]=B.useState(!0),[g,y]=B.useState(!1);B.useEffect(()=>{(async()=>{try{const q=Ys(ei,"projects",r),K=await oT(q);K.exists()?u(K.data()):e("/projects")}catch(q){console.error("Error fetching project:",q)}finally{m(!1)}})()},[r,e]);const b=async()=>{if(!dt.currentUser){alert("Please login with your Nirma account to apply!");return}y(!0);try{await cT(Wo(ei,"applications"),{projectId:r,projectTitle:l.title,leaderId:l.authorId,applicantId:dt.currentUser.uid,applicantName:dt.currentUser.displayName,applicantEmail:dt.currentUser.email,applicantPhoto:dt.currentUser.photoURL,status:"pending",createdAt:fT()}),s(!0)}catch(D){console.error("Application Error:",D),alert("Something went wrong. Please try again.")}finally{y(!1)}};return f?v.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white",children:[v.jsx(hh,{className:"w-16 h-16 text-orange-500 animate-spin mb-4"}),v.jsx("p",{className:"text-2xl font-black text-gray-400 uppercase tracking-widest",children:"Loading Project Details..."})]}):l?v.jsxs("div",{className:"min-h-screen bg-[#FDFDFD] w-full font-sans antialiased text-slate-900 relative",children:[n&&v.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[v.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>s(!1)}),v.jsxs("div",{className:"bg-white rounded-3xl p-8 md:p-12 shadow-2xl relative z-10 max-w-sm w-full text-center animate-in fade-in zoom-in duration-300",children:[v.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:v.jsx(jE,{className:"w-10 h-10 text-green-600"})}),v.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Application Sent!"}),v.jsxs("p",{className:"text-slate-500 font-medium mb-8",children:["You have successfully applied for ",v.jsx("strong",{children:l.title}),". The leader will review your profile."]}),v.jsx("button",{onClick:()=>s(!1),className:"w-full bg-slate-900 text-white py-4 rounded-xl font-bold hover:bg-slate-800 transition-colors",children:"Got it, thanks!"})]})]}),v.jsxs("nav",{className:"bg-white/80 backdrop-blur-md flex items-center justify-between px-6 md:px-16 py-4 border-b border-slate-200 sticky top-0 z-50 w-full",children:[v.jsxs(Et,{to:"/",className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-10 h-10 bg-orange-500 rounded-lg flex items-center justify-center shadow-md",children:v.jsx(pl,{className:"w-6 h-6 text-white"})}),v.jsx("span",{className:"text-xl font-bold text-slate-800 tracking-tight uppercase",children:"ProjectMate"})]}),v.jsxs("button",{onClick:()=>e("/projects"),className:"flex items-center gap-2 text-slate-500 hover:text-orange-500 font-semibold transition-colors",children:[v.jsx(zS,{className:"w-5 h-5"})," Back to Explore"]})]}),v.jsx("header",{className:"bg-white py-16 px-6 md:px-16 border-b border-slate-100",children:v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[v.jsx("span",{className:"bg-orange-100 text-orange-600 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:"Recruiting"}),v.jsx("span",{className:"bg-slate-100 text-slate-600 px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider",children:l.branch||"General"})]}),v.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 mb-4 tracking-tight uppercase",children:l.title}),v.jsxs("div",{className:"flex items-center gap-4 text-slate-500 font-medium",children:[v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(dA,{className:"w-4 h-4"})," Nirma University"]}),v.jsx("span",{className:"text-slate-300",children:"|"}),v.jsxs("span",{className:"flex items-center gap-1",children:[v.jsx(PE,{className:"w-4 h-4"})," ",l.duration||"TBD"]})]})]})}),v.jsx("main",{className:"max-w-6xl mx-auto px-6 md:px-16 py-12",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-12",children:[v.jsxs("div",{className:"lg:col-span-8 space-y-12",children:[v.jsxs("section",{className:"bg-white rounded-2xl p-8 border border-slate-100 shadow-sm",children:[v.jsx("h2",{className:"text-sm font-bold text-orange-500 uppercase tracking-widest mb-4 font-black",children:"Project Overview"}),v.jsxs("p",{className:"text-xl text-slate-700 leading-relaxed font-bold mb-6 italic border-l-4 border-orange-500 pl-4",children:['"',l.tagline||l.description,'"']}),v.jsx("div",{className:"h-px bg-slate-100 mb-6"}),v.jsx("p",{className:"text-slate-600 leading-relaxed whitespace-pre-line text-lg",children:l.description})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 font-black",children:"Technologies"}),v.jsx("div",{className:"flex flex-wrap gap-3",children:(T=l.techStack)==null?void 0:T.map((D,q)=>v.jsxs("span",{className:"bg-slate-900 text-white px-6 py-2 rounded-xl text-sm font-bold flex items-center gap-2",children:[v.jsx(ch,{className:"w-4 h-4 text-orange-500"})," ",D]},q))})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-sm font-bold text-slate-400 uppercase tracking-widest mb-6 font-black",children:"Team Structure"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-white border border-slate-200 p-6 rounded-2xl flex items-center gap-4 shadow-sm",children:[v.jsx("img",{src:l.authorPhoto||"https://i.pravatar.cc/150",alt:"",className:"w-14 h-14 rounded-full border-2 border-orange-100"}),v.jsxs("div",{children:[v.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Project Lead"}),v.jsx("p",{className:"text-lg font-bold text-slate-800",children:l.authorName})]})]}),v.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl text-white",children:[v.jsx("p",{className:"text-[10px] font-bold text-orange-400 uppercase tracking-wider mb-3",children:"Roles Needed"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:(S=l.rolesNeeded)==null?void 0:S.map((D,q)=>v.jsx("span",{className:"text-sm font-bold bg-white/10 px-3 py-1 rounded-lg border border-white/5",children:D},q))})]})]})]})]}),v.jsx("div",{className:"lg:col-span-4",children:v.jsx("div",{className:"sticky top-28 space-y-6",children:v.jsxs("div",{className:"bg-white border border-slate-200 rounded-2xl p-8 shadow-sm",children:[v.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-6 text-center",children:"Interested in joining?"}),v.jsxs("div",{className:"space-y-4 mb-8",children:[v.jsxs("button",{onClick:b,disabled:g,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-orange-300 text-white py-4 rounded-xl font-bold text-base shadow-lg shadow-orange-500/20 transition-all active:scale-95 flex items-center justify-center gap-2",children:[g?v.jsx(hh,{className:"w-4 h-4 animate-spin"}):v.jsx(wA,{className:"w-4 h-4"}),g?"Sending...":"Apply for this project"]}),v.jsxs("button",{onClick:()=>e("/projects"),className:"w-full bg-slate-50 hover:bg-slate-100 text-slate-600 py-4 rounded-xl font-bold text-base transition-all active:scale-95 flex items-center justify-center gap-2 border border-slate-200",children:[v.jsx(LE,{className:"w-4 h-4"})," Not Interested"]})]}),v.jsxs("div",{className:"flex items-center justify-center gap-2 pt-6 border-t border-slate-50",children:[v.jsx(AA,{className:"text-green-500 w-5 h-5"}),v.jsx("p",{className:"text-slate-400 font-bold text-[10px] uppercase tracking-tighter",children:"Verified Nirma University Builder"})]})]})})})]})})]}):null}const LD=["Frontend Developer","Backend Developer","Full Stack Developer","UI/UX Designer","App Developer","AI/ML Engineer","Data Scientist","Embedded Engineer","IoT Developer"],PD=["React","Node.js","Python","Tailwind CSS","Firebase","Arduino","Raspberry Pi","TensorFlow","MATLAB","Figma","C++","Java"];function UD(){const r=ml(),[e,n]=B.useState("Electronics & Instrumentation"),[s,l]=B.useState("2nd Year"),[u,f]=B.useState(""),[m,g]=B.useState([]),[y,b]=B.useState([]),[T,S]=B.useState(""),[D,q]=B.useState(""),K=LD.filter(ee=>ee.toLowerCase().includes(T.toLowerCase())&&!m.includes(ee)&&T.length>0),F=PD.filter(ee=>ee.toLowerCase().includes(D.toLowerCase())&&!y.includes(ee)&&D.length>0),Q=async()=>{if(!u||m.length===0||y.length===0){alert("Please fill in your bio, roles, and skills to complete your Nirma profile!");return}try{await ND(Ys(ei,"users",dt.currentUser.uid),{name:dt.currentUser.displayName,email:dt.currentUser.email,photoURL:dt.currentUser.photoURL,branch:e,year:s,bio:u,roles:m,skills:y,uid:dt.currentUser.uid,setupComplete:!0,createdAt:new Date}),r("/login")}catch(ee){console.error(ee),alert("Error saving profile. Try again.")}};return v.jsx("div",{className:"min-h-screen bg-[#FBFBFD] flex items-center justify-center p-8 py-20",children:v.jsxs("div",{className:"max-w-4xl w-full space-y-16",children:[v.jsxs("div",{className:"text-center md:text-left",children:[v.jsxs("h1",{className:"text-7xl md:text-8xl font-black tracking-tighter uppercase mb-6 leading-none",children:["Welcome to ",v.jsx("span",{className:"text-orange-500",children:"ProjectMate."})]}),v.jsxs("p",{className:"text-3xl text-slate-500 font-bold leading-tight",children:["Finalize your ",v.jsx("span",{className:"text-slate-900",children:"Nirma Builder"})," identity to start collaborating."]})]}),v.jsxs("div",{className:"space-y-12 bg-white p-12 md:p-16 rounded-[4rem] border-2 border-gray-100 shadow-xl shadow-slate-200/50",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Select Branch"}),v.jsxs("select",{value:e,onChange:ee=>n(ee.target.value),className:"w-full bg-slate-50 border-4 border-transparent focus:border-orange-500 rounded-3xl px-8 py-6 text-2xl font-black outline-none appearance-none cursor-pointer transition-all",children:[v.jsx("option",{children:"Electronics & Instrumentation"}),v.jsx("option",{children:"Computer Science"}),v.jsx("option",{children:"AI & ML"}),v.jsx("option",{children:"Information Technology"}),v.jsx("option",{children:"Mechanical Engineering"}),v.jsx("option",{children:"Civil Engineering"}),v.jsx("option",{children:"Electrical Engineering"}),v.jsx("option",{children:"Chemical Engineering"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"Current Year"}),v.jsxs("select",{value:s,onChange:ee=>l(ee.target.value),className:"w-full bg-slate-50 border-4 border-transparent focus:border-orange-500 rounded-3xl px-8 py-6 text-2xl font-black outline-none appearance-none cursor-pointer transition-all",children:[v.jsx("option",{children:"1st Year"}),v.jsx("option",{children:"2nd Year"}),v.jsx("option",{children:"3rd Year"}),v.jsx("option",{children:"4th Year"})]})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:"About Me"}),v.jsx("textarea",{value:u,onChange:ee=>f(ee.target.value),placeholder:"Tell other builders what you are passionate about...",className:"w-full bg-slate-50 border-4 border-transparent focus:border-orange-500 rounded-[2.5rem] px-8 py-6 text-xl font-bold outline-none transition-all min-h-[200px] resize-none"})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:[v.jsx($S,{className:"w-5 h-5"})," Your Primary Roles"]}),v.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:m.map((ee,X)=>v.jsxs("span",{className:"bg-orange-500 text-white px-6 py-2 rounded-2xl text-lg font-black flex items-center gap-3",children:[ee," ",v.jsx(fh,{className:"w-5 h-5 cursor-pointer",onClick:()=>g(m.filter((me,ge)=>ge!==X))})]},X))}),v.jsx("input",{value:T,onChange:ee=>S(ee.target.value),placeholder:"Search roles (e.g. Designer)...",className:"w-full bg-slate-50 border-4 border-transparent focus:border-orange-500 rounded-2xl px-8 py-5 text-xl font-bold transition-all outline-none"}),K.length>0&&v.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-slate-100 rounded-3xl shadow-2xl overflow-hidden",children:K.map((ee,X)=>v.jsxs("button",{type:"button",onClick:()=>{g([...m,ee]),S("")},className:"w-full text-left px-8 py-4 text-xl font-bold hover:bg-orange-500 hover:text-white flex justify-between items-center transition-colors",children:[ee," ",v.jsx(Am,{className:"w-6 h-6"})]},X))})]}),v.jsxs("div",{className:"relative",children:[v.jsxs("label",{className:"flex items-center gap-2 text-sm font-black text-slate-400 uppercase tracking-[0.2em] mb-4",children:[v.jsx(ch,{className:"w-5 h-5"})," Tech Stack / Skills"]}),v.jsx("div",{className:"flex flex-wrap gap-3 mb-6",children:y.map((ee,X)=>v.jsxs("span",{className:"bg-slate-900 text-white px-6 py-2 rounded-2xl text-lg font-black flex items-center gap-3",children:[ee," ",v.jsx(fh,{className:"w-5 h-5 cursor-pointer",onClick:()=>b(y.filter((me,ge)=>ge!==X))})]},X))}),v.jsx("input",{value:D,onChange:ee=>q(ee.target.value),placeholder:"e.g. React, Arduino, Figma...",className:"w-full bg-slate-50 border-4 border-transparent focus:border-orange-500 rounded-2xl px-8 py-5 text-xl font-bold transition-all outline-none"}),F.length>0&&v.jsx("div",{className:"absolute z-10 w-full mt-2 bg-white border-2 border-slate-100 rounded-3xl shadow-2xl overflow-hidden",children:F.map((ee,X)=>v.jsxs("button",{type:"button",onClick:()=>{b([...y,ee]),q("")},className:"w-full text-left px-8 py-4 text-xl font-bold hover:bg-orange-500 hover:text-white flex justify-between items-center transition-colors",children:[ee," ",v.jsx(Am,{className:"w-6 h-6"})]},X))})]}),v.jsxs("button",{onClick:Q,className:"w-full bg-orange-500 text-white py-8 rounded-[2.5rem] font-black text-4xl shadow-2xl shadow-orange-500/40 hover:bg-orange-600 active:scale-95 transition-all flex items-center justify-center gap-6",children:[v.jsx(lp,{className:"w-10 h-10"})," Complete Setup"]})]})]})})}nw.createRoot(document.getElementById("root")).render(v.jsx(Kx.StrictMode,{children:v.jsx(wS,{children:v.jsxs(eS,{children:[v.jsx(Yr,{path:"/",element:v.jsx(ID,{})}),v.jsx(Yr,{path:"/login",element:v.jsx(OA,{})}),v.jsx(Yr,{path:"/projects",element:v.jsx(DD,{})}),v.jsx(Yr,{path:"/create",element:v.jsx(VD,{})}),v.jsx(Yr,{path:"/profile",element:v.jsx(kD,{})}),v.jsx(Yr,{path:"/setup-profile",element:v.jsx(UD,{})}),v.jsx(Yr,{path:"/project/:id",element:v.jsx(jD,{})})]})})}));
